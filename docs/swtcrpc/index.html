<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SWTC-RPC | swtclib</title>
    <meta name="description" content="swtclib documents">
    <link rel="stylesheet" href="/swtclib/assets/style.c55a4aab.css">
    <link rel="modulepreload" href="/swtclib/assets/Home.f685f3a3.js">
    <link rel="modulepreload" href="/swtclib/assets/AlgoliaSearchBox.c2464eb0.js">
    <link rel="modulepreload" href="/swtclib/https://unpkg.com/mermaid/dist/mermaid.min.js">
    <link rel="modulepreload" href="/swtclib/assets/app.4dcb24bf.js">
    <link rel="modulepreload" href="/swtclib/assets/docs_swtcrpc_index.md.fe814b7c.lean.js">
    <link rel="modulepreload" href="/swtclib/assets/app.4dcb24bf.js">
    <meta name="twitter:title" content="SWTC-RPC | swtclib">
    <meta property="og:title" content="SWTC-RPC | swtclib">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/swtclib/" aria-label="swtclib, back to home" data-v-675d8756 data-v-4a583abe><!----> swtclib</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcxlib/" data-v-b8818f8c>国密综合 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/wallet/" data-v-b8818f8c>钱包 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/examples/" data-v-b8818f8c>实例 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcrpc/" data-v-b8818f8c>RPC <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtclib/" data-v-b8818f8c>WS <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/api/" data-v-b8818f8c>API <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcproxy/" data-v-b8818f8c>PROXY <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://swtcdoc.netlify.app/" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>swtcdoc <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/swtcca/swtclib" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcxlib/" data-v-b8818f8c>国密综合 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/wallet/" data-v-b8818f8c>钱包 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/examples/" data-v-b8818f8c>实例 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcrpc/" data-v-b8818f8c>RPC <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtclib/" data-v-b8818f8c>WS <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/api/" data-v-b8818f8c>API <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcproxy/" data-v-b8818f8c>PROXY <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://swtcdoc.netlify.app/" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>swtcdoc <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/swtcca/swtclib" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#_0-接口说明">0. 接口说明</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-安装">1 安装</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_2-项目文件结构">2 项目文件结构</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_3-创建钱包">3 创建钱包</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-rpc-交互">4 rpc 交互</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-1-remote-对象">4.1 Remote 对象</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-2-节点相关">4.2 节点相关</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-3-帐本相关">4.3 帐本相关</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-4-事务相关">4.4 事务相关</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-5-路径和挂单相关">4.5 路径和挂单相关</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-6-账户相关">4.6 账户相关</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_5-错误处理">5 错误处理</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_5-1-rpcerror-对象">5.1 RpcError 对象</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_5-2-axios-请求错误-生成-rpcerror-对象">5.2 axios 请求错误 生成 RpcError 对象</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_5-3-axios-应答错误-生成-rpcerror-对象">5.3 axios 应答错误 生成 RpcError 对象</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_5-4-rpc-应答错误-生成-rpcerror-对象">5.4 rpc 应答错误 生成 RpcError 对象</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_6-派生调用">6 派生调用</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_6-1-方便调用">6.1 方便调用</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_6-2-其它查询相关">6.2 其它查询相关</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-写入事务">7 写入事务</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-0-连接-swtc-transaction">7.0 连接@swtc/transaction</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-1-写入相关-单签">7.1 写入相关 - 单签</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-2-写入相关-多签">7.2 写入相关 - 多签</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-3-写入相关-合约">7.3 写入相关 - 合约</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-da0c174a><div class="container" data-v-da0c174a><!--[--><!--]--><div style="position:relative;" class="content" data-v-da0c174a><div><h1 id="swtc-rpc" tabindex="-1">SWTC-RPC <a class="header-anchor" href="#swtc-rpc" aria-hidden="true">#</a></h1><p><div class="table-of-contents"><ul><li><a href="#_0-接口说明">0. 接口说明</a></li><li><a href="#_1-安装">1 安装</a></li><li><a href="#_2-项目文件结构">2 项目文件结构</a></li><li><a href="#_3-创建钱包">3 创建钱包</a></li><li><a href="#_4-rpc-交互">4 rpc 交互</a><ul><li><a href="#_4-1-remote-对象">4.1 Remote 对象</a></li><li><a href="#_4-2-节点相关">4.2 节点相关</a></li><li><a href="#_4-3-帐本相关">4.3 帐本相关</a></li><li><a href="#_4-4-事务相关">4.4 事务相关</a></li><li><a href="#_4-5-路径和挂单相关">4.5 路径和挂单相关</a></li><li><a href="#_4-6-账户相关">4.6 账户相关</a></li></ul></li><li><a href="#_5-错误处理">5 错误处理</a><ul><li><a href="#_5-1-rpcerror-对象">5.1 RpcError 对象</a></li><li><a href="#_5-2-axios-请求错误-生成-rpcerror-对象">5.2 axios 请求错误 生成 RpcError 对象</a></li><li><a href="#_5-3-axios-应答错误-生成-rpcerror-对象">5.3 axios 应答错误 生成 RpcError 对象</a></li><li><a href="#_5-4-rpc-应答错误-生成-rpcerror-对象">5.4 rpc 应答错误 生成 RpcError 对象</a></li></ul></li><li><a href="#_6-派生调用">6 派生调用</a><ul><li><a href="#_6-1-方便调用">6.1 方便调用</a></li><li><a href="#_6-2-其它查询相关">6.2 其它查询相关</a></li></ul></li><li><a href="#_7-写入事务">7 写入事务</a><ul><li><a href="#_7-0-连接-swtc-transaction">7.0 连接@swtc/transaction</a></li><li><a href="#_7-1-写入相关-单签">7.1 写入相关 - 单签</a></li><li><a href="#_7-2-写入相关-多签">7.2 写入相关 - 多签</a></li><li><a href="#_7-3-写入相关-合约">7.3 写入相关 - 合约</a></li></ul></li></ul></div></p><h2 id="_0-接口说明" tabindex="-1">0. 接口说明 <a class="header-anchor" href="#_0-接口说明" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><ul><li>使用 rpc 接口，不依赖于 websocket</li><li>对于返回的内容不作进一步处理, 原生通证的单位通常是 <code>1e-6 swtc</code>,</li><li>所有 rpc 调用基于 Promise</li><li>安全，强制本地签名</li><li>隐藏不稳定调用 rpcLedgerEntry() rpcSkywellPathFind()</li><li>错误处理</li><li>所有 rpc 交互对应一个方法， 名字以<code>rpc</code>开头</li><li>所有 rpc 交互对应一个等价方法， 名字以<code>get</code>开头, 将最有意义的参数（若不多于两个）单独提前 （submit/submitMultisigned 省略<code>get</code>）</li><li>提供一部分额外方法，以便捷或者保持和其它库相似性为目的</li></ul><p>参考</p><ul><li><a href="https://xrpl.org/public-rippled-methods.html" target="_blank" rel="noopener noreferrer">https://xrpl.org/public-rippled-methods.html</a></li><li><a href="https://github.com/jingtum/jingtum-core" target="_blank" rel="noopener noreferrer">https://github.com/jingtum/jingtum-core</a></li></ul></div><h2 id="_1-安装" tabindex="-1">1 安装 <a class="header-anchor" href="#_1-安装" aria-hidden="true">#</a></h2><ol><li>安装 SWTC 公链库(rpc)</li></ol><div class="language-bash"><pre><code><span class="token function">npm</span> <span class="token function">install</span> --save @swtc/rpc
</code></pre></div><h2 id="_2-项目文件结构" tabindex="-1">2 项目文件结构 <a class="header-anchor" href="#_2-项目文件结构" aria-hidden="true">#</a></h2><h5 id="swtc-rpc-库基于-rpc-协议跟底层交互，内部实现我们包装的是流行的axios库" tabindex="-1">@swtc/rpc 库基于 rpc 协议跟底层交互，内部实现我们包装的是流行的<code>axios</code>库 <a class="header-anchor" href="#swtc-rpc-库基于-rpc-协议跟底层交互，内部实现我们包装的是流行的axios库" aria-hidden="true">#</a></h5><h2 id="_3-创建钱包" tabindex="-1">3 创建钱包 <a class="header-anchor" href="#_3-创建钱包" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><h5 id="首先引入-swtc-rpc-库的-wallet-对象，然后使用以下两种方法创建钱包" tabindex="-1">首先引入@swtc/rpc 库的 Wallet 对象，然后使用以下两种方法创建钱包 <a class="header-anchor" href="#首先引入-swtc-rpc-库的-wallet-对象，然后使用以下两种方法创建钱包" aria-hidden="true">#</a></h5><h5 id="方法-1-wallet-generate" tabindex="-1">方法 1: Wallet.generate() <a class="header-anchor" href="#方法-1-wallet-generate" aria-hidden="true">#</a></h5><h5 id="方法-2-wallet-fromsecret-secret" tabindex="-1">方法 2: Wallet.fromSecret(secret); <a class="header-anchor" href="#方法-2-wallet-fromsecret-secret" aria-hidden="true">#</a></h5></div><h5 id="参数" tabindex="-1">参数: <a class="header-anchor" href="#参数" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr></tbody></table><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token comment">//创建Wallet对象</span>
<span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Wallet <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Wallet
<span class="token comment">//方式一</span>
<span class="token keyword">var</span> w1 <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w1<span class="token punctuation">)</span>
<span class="token comment">//方式二</span>
<span class="token keyword">var</span> w2 <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> w3 <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;ssLX1xmdj51Gu4BemCKb1ZKhFTjec&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> w4 <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;snaSEqR4cTU6stvgtQKjq9FNPet8m&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w2<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w3<span class="token punctuation">)</span>
</code></pre></div></details><h5 id="返回的结果信息" tabindex="-1">返回的结果信息: <a class="header-anchor" href="#返回的结果信息" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr><tr><td>address</td><td>String</td><td style="text-align:right;">井通钱包地址</td></tr></tbody></table><details class="details custom-block"><summary>代码输出</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> Wallet<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span> secret<span class="token operator">:</span> <span class="token string">&#39;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&#39;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span> <span class="token punctuation">}</span>
</code></pre></div></details><h2 id="_4-rpc-交互" tabindex="-1">4 rpc 交互 <a class="header-anchor" href="#_4-rpc-交互" aria-hidden="true">#</a></h2><h3 id="_4-1-remote-对象" tabindex="-1">4.1 Remote 对象 <a class="header-anchor" href="#_4-1-remote-对象" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Remote 是与节点 rpc 交互的抽象类</p></div><details class="details custom-block"><summary>实例化 Remote</summary><div class="language-javascript"><pre><code><span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span> server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
remote<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>输出</p><div class="language-javascript"><pre><code><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&#39;http://swtclib.ca:5050&#39;</span><span class="token punctuation">,</span>
  token<span class="token operator">:</span> <span class="token string">&#39;SWT&#39;</span><span class="token punctuation">,</span>
  solidity<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
  backend<span class="token operator">:</span> <span class="token string">&#39;rpc&#39;</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-1-1-rpc-调用列表" tabindex="-1">4.1.1 rpc 调用列表 <a class="header-anchor" href="#_4-1-1-rpc-调用列表" aria-hidden="true">#</a></h4><ul><li>rpcVersion()</li><li>rpcRandom()</li><li>rpcServerInfo()</li><li>rpcServerState()</li><li>rpcLedgerClosed()</li><li>rpcLedgerCurrent()</li><li>rpcLedger(params: IRpcLedgerOptions = {})</li><li>rpcLedgerData(params: IRpcLedgerDataOptions = {})</li><li>rpcTxHistory(params: IRpcTxHistoryOptions = { start: 0 })</li><li>rpcTx(params: IRpcTxOptions)</li><li>rpcTxEntry(params: IRpcTxEntryOptions)</li><li>rpcSubmit(params: IRpcSubmitOptions)</li><li>rpcSubmitMultisigned(params: IRpcSubmitMultisignedOptions)</li><li>rpcFeeInfo(params: IRpcFeeInfoOptions)</li><li>rpcBlacklistInfo(params: IRpcBlacklistInfoOptions = {})</li><li>rpcAccountInfo(params: IRpcAccountInfoOptions)</li><li>rpcAccountObjects(params: IRpcAccountObjectsOptions)</li><li>rpcAccountCurrencies(params: IRpcAccountCurrenciesOptions)</li><li>rpcAccountLines(params: IRpcAccountLinesOptions)</li><li>rpcAccountRelation(params: IRpcAccountRelationOptions)</li><li>rpcAccountOffers(params: IRpcAccountOffersOptions)</li><li>rpcAccountTx(params: IRpcAccountTxOptions)</li><li>rpcBookOffers(params: IRpcBookOffersOptions)</li><li>rpcLedgerEntry(params: IRpcLedgerEntryOptions = {})</li><li>rpcSkywellPathFind(params: IRpcSkywellPathFindOptions)</li></ul><h4 id="_4-1-2-派生调用列表" tabindex="-1">4.1.2 派生调用列表 <a class="header-anchor" href="#_4-1-2-派生调用列表" aria-hidden="true">#</a></h4><ul><li>async getAccountBalances(address: string, params = {})</li><li>async getAccountSequence(address: string, params = {})</li><li>getAccountCurrencies(address: string, params = {})</li><li>getAccountInfo(address: string, params = {})</li><li>getAccountObjects(address: string, params = {})</li><li>getAccountOffers(address: string, params = {})</li><li>getAccountRelation(address: string, params = {})</li><li>getAccountSignerList(address: string, params = {})</li><li>getAccountTrusts(address: string, params = {})</li><li>getAccountTx(address: string, params = {})</li><li>getBlacklistInfo(params: IRpcBlacklistInfoOptions = {})</li><li>getBookOffers(taker_gets: object, taker_pays: object, params = {})</li><li>getBrokerage(address: string, params = {})</li><li>getLedger(params: IRpcLedgerOptions = {})</li><li>getLedgerClosed()</li><li>getLedgerCurrent()</li><li>getLedgerData(params: IRpcLedgerDataOptions = {})</li><li>getLedgerEntry(params: IRpcLedgerEntryOptions = {})</li><li>getRandom()</li><li>getServerInfo()</li><li>getServerState()</li><li>getSkywellPathFind(params: IRpcSkywellPathFindOptions)</li><li>getTx(transaction: string, params = {})</li><li>getTxEntry(tx_hash: string, params = {})</li><li>getTxHistory(start: number = 0, params = {})</li><li>getVersion()</li></ul><h4 id="_4-1-3-事务创建列表" tabindex="-1">4.1.3 事务创建列表 <a class="header-anchor" href="#_4-1-3-事务创建列表" aria-hidden="true">#</a></h4><ul><li>buildPaymentTx(options: IPaymentTxOptions)</li><li>buildOfferCreateTx(options: IOfferCreateTxOptions)</li><li>buildOfferCancelTx(options: IOfferCancelTxOptions)</li><li>buildRelationTx(options: IRelationTxOptions)</li><li>buildAccountSetTx(options: IAccountSetTxOptions)</li><li>buildSignTx(options: ISignTxOptions)</li><li>buildContractDeployTx(options: IContractDeployTxOptions)</li><li>buildContractCallTx(options: IContractCallTxOptions)</li><li>buildContractInitTx(options: IContractInitTxOptions)</li><li>buildContractInvokeTx(options: IContractInvokeTxOptions)</li><li>buildBrokerageTx(options: IBrokerageTxOptions)</li><li>buildSignerListTx(options: ISignerListTxOptions)</li><li>buildTx(tx_json: object)</li></ul><h3 id="_4-2-节点相关" tabindex="-1">4.2 节点相关 <a class="header-anchor" href="#_4-2-节点相关" aria-hidden="true">#</a></h3><h4 id="_4-2-1-remote-rpcserverinfo-获取节点信息" tabindex="-1">4.2.1 Remote.rpcServerInfo() 获取节点信息 <a class="header-anchor" href="#_4-2-1-remote-rpcserverinfo-获取节点信息" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><p>无</p><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getServerInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcServerInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcServerInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  info<span class="token operator">:</span> <span class="token punctuation">{</span>
    build_version<span class="token operator">:</span> <span class="token string">&#39;0.28.1&#39;</span><span class="token punctuation">,</span>
    complete_ledgers<span class="token operator">:</span> <span class="token string">&#39;266955-17849981&#39;</span><span class="token punctuation">,</span>
    hostid<span class="token operator">:</span> <span class="token string">&#39;BING&#39;</span><span class="token punctuation">,</span>
    io_latency_ms<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    last_close<span class="token operator">:</span> <span class="token punctuation">{</span> converge_time_s<span class="token operator">:</span> <span class="token number">2.001</span><span class="token punctuation">,</span> proposers<span class="token operator">:</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    load_factor<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    peers<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
    pubkey_node<span class="token operator">:</span> <span class="token string">&#39;n9LWVPJSuztHtgePSB4c8g37WUPM1EEphHjSY6si7jPeTqMbKmiM&#39;</span><span class="token punctuation">,</span>
    server_state<span class="token operator">:</span> <span class="token string">&#39;full   11:52:25&#39;</span><span class="token punctuation">,</span>
    startup_time<span class="token operator">:</span> <span class="token string">&#39;2020-Dec-13 14:53:46&#39;</span><span class="token punctuation">,</span>
    validated_ledger<span class="token operator">:</span> <span class="token punctuation">{</span>
      age<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      base_fee_swt<span class="token operator">:</span> <span class="token number">0.00001</span><span class="token punctuation">,</span>
      fee_account_swt<span class="token operator">:</span> <span class="token string">&#39;jEoSyfChhUMzpRDttAJXuie8XhqyoPBYvV&#39;</span><span class="token punctuation">,</span>
      hash<span class="token operator">:</span> <span class="token string">&#39;D335479AD59416E8CEA2B0286FBCD756C8FC818B83A8291E27E8B92A7249D602&#39;</span><span class="token punctuation">,</span>
      issuerop_account<span class="token operator">:</span> <span class="token string">&#39;j4TVCesxU2s6tjYpsDoH4Pc81c4WMvNHPo&#39;</span><span class="token punctuation">,</span>
      manager_account<span class="token operator">:</span> <span class="token string">&#39;jHZhYWj3kLvitkmqZan46FPkzbQYszuhvF&#39;</span><span class="token punctuation">,</span>
      reserve_base_swt<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
      reserve_inc_swt<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      seq<span class="token operator">:</span> <span class="token number">17849981</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    validation_quorum<span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-2-2-remote-rpcserverstate-获取节点状态" tabindex="-1">4.2.2 Remote.rpcServerState() 获取节点状态 <a class="header-anchor" href="#_4-2-2-remote-rpcserverstate-获取节点状态" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><p>无</p><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getServerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcServerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcServerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
    build_version<span class="token operator">:</span> <span class="token string">&#39;0.28.1&#39;</span><span class="token punctuation">,</span>
    complete_ledgers<span class="token operator">:</span> <span class="token string">&#39;266955-17854908&#39;</span><span class="token punctuation">,</span>
    io_latency_ms<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    last_close<span class="token operator">:</span> <span class="token punctuation">{</span> converge_time<span class="token operator">:</span> <span class="token number">2001</span><span class="token punctuation">,</span> proposers<span class="token operator">:</span> <span class="token number">9</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    load_base<span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
    load_factor<span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
    peers<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
    pubkey_node<span class="token operator">:</span> <span class="token string">&#39;n9LWVPJSuztHtgePSB4c8g37WUPM1EEphHjSY6si7jPeTqMbKmiM&#39;</span><span class="token punctuation">,</span>
    server_state<span class="token operator">:</span> <span class="token string">&#39;full   09:09:06&#39;</span><span class="token punctuation">,</span>
    startup_time<span class="token operator">:</span> <span class="token string">&#39;2020-Dec-13 14:53:46&#39;</span><span class="token punctuation">,</span>
    validated_ledger<span class="token operator">:</span> <span class="token punctuation">{</span>
      base_fee<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      close_time<span class="token operator">:</span> <span class="token number">661710590</span><span class="token punctuation">,</span>
      fee_account<span class="token operator">:</span> <span class="token string">&#39;jEoSyfChhUMzpRDttAJXuie8XhqyoPBYvV&#39;</span><span class="token punctuation">,</span>
      hash<span class="token operator">:</span> <span class="token string">&#39;1C681687739A2AE3CAC7BE4943F735BFC3B321110B7AE7158D1D3FBDEE2D1A7F&#39;</span><span class="token punctuation">,</span>
      reserve_base<span class="token operator">:</span> <span class="token number">20000000</span><span class="token punctuation">,</span>
      reserve_inc<span class="token operator">:</span> <span class="token number">5000000</span><span class="token punctuation">,</span>
      seq<span class="token operator">:</span> <span class="token number">17854908</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    validation_quorum<span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h3 id="_4-3-帐本相关" tabindex="-1">4.3 帐本相关 <a class="header-anchor" href="#_4-3-帐本相关" aria-hidden="true">#</a></h3><h4 id="_4-3-1-remote-rpcledgerclosed-获取已关闭帐本信息" tabindex="-1">4.3.1 Remote.rpcLedgerClosed() 获取已关闭帐本信息 <a class="header-anchor" href="#_4-3-1-remote-rpcledgerclosed-获取已关闭帐本信息" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><p>无</p><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getLedgerClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcLedgerClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcLedgerClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  ledger_hash<span class="token operator">:</span> <span class="token string">&#39;6D2FCA61969249A890452DBA50F2D665C413B6AC7CF8922B04CD5DA8BEF2CD2B&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token number">17854964</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-3-2-remote-rpcledgercurrent-获取当前帐本信息" tabindex="-1">4.3.2 Remote.rpcLedgerCurrent() 获取当前帐本信息 <a class="header-anchor" href="#_4-3-2-remote-rpcledgercurrent-获取当前帐本信息" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><p>无</p><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getLedgerCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcLedgerCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcLedgerCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span> ledger_current_index<span class="token operator">:</span> <span class="token number">17854969</span><span class="token punctuation">,</span> status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span> <span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-3-3-remote-rpcledger-params-irpcledgeroptions-获取帐本列表" tabindex="-1">4.3.3 Remote.rpcLedger(params: IRpcLedgerOptions) 获取帐本列表 <a class="header-anchor" href="#_4-3-3-remote-rpcledger-params-irpcledgeroptions-获取帐本列表" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">IRpcLedgerOptions</span> <span class="token punctuation">{</span>
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  expand<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  transactions<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  accounts<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  full<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  binary<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getLedger</span><span class="token punctuation">(</span>params<span class="token operator">:</span> IRpcLedgerOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcLedger</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-"><pre><code></code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>ledger_index</td><td>Uint/string</td><td>指定查询账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>指定查询账本, 区块哈希</td></tr><tr><td>accounts</td><td>Boolean</td><td>可选参数，默认为假，如果设置为真，将返回账本中所有的账户信息，如 果没有指定账本，则会忽略。</td></tr><tr><td>full</td><td>Boolean</td><td>可选参数，默认为假，设置为真时，将返回账本中的所有信息，如果没有 指定账本，则会忽略。</td></tr><tr><td>transactions</td><td>Boolean</td><td>可选参数，默认为假，设置为真时，将返回账本中所有的交易信息，如果 没有指定账本，则会忽略。</td></tr><tr><td>expand</td><td>Boolean</td><td>可选参数，默认为假，设置为真时，将以 json 格式返回账户和交易信息， 但是如果账户和交易参数为假，这个值将会忽略。</td></tr><tr><td>binary</td><td>Boolean</td><td>可选参数，默认为假，设置为真时，交易以原始编码返回</td></tr><tr><td>owner_funds</td><td>Boolean</td><td>可选参数，默认为假，设置为真时，在交易元数据中的创建挂单的交易中 包含 owner_funds 字段。但是如果交易和 expand 参数为假时，将会忽略。</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcLedger</span><span class="token punctuation">(</span><span class="token punctuation">{</span>ledger_index<span class="token operator">:</span> <span class="token string">&quot;closed&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  ledger<span class="token operator">:</span> <span class="token punctuation">{</span>
    accepted<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    account_hash<span class="token operator">:</span> <span class="token string">&#39;FF7B9EDCB820E7BF6C79FED8E77CEAD652A6CFACA40D5D9F4AB5C741DDB7A64B&#39;</span><span class="token punctuation">,</span>
    close_time<span class="token operator">:</span> <span class="token number">661661510</span><span class="token punctuation">,</span>
    close_time_human<span class="token operator">:</span> <span class="token string">&#39;2020-Dec-19 02:51:50&#39;</span><span class="token punctuation">,</span>
    close_time_resolution<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    closed<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;4B70E1B2C1C710A4B4546B39C2234303180CC9B4CFE128219B4DAF4B1102AC17&#39;</span><span class="token punctuation">,</span>
    ledger_hash<span class="token operator">:</span> <span class="token string">&#39;4B70E1B2C1C710A4B4546B39C2234303180CC9B4CFE128219B4DAF4B1102AC17&#39;</span><span class="token punctuation">,</span>
    ledger_index<span class="token operator">:</span> <span class="token string">&#39;17850000&#39;</span><span class="token punctuation">,</span>
    parent_hash<span class="token operator">:</span> <span class="token string">&#39;501B47BAB2276319BB5FFD024A2A67FE7063424F8BDCD1F5387188A974414BAC&#39;</span><span class="token punctuation">,</span>
    seqNum<span class="token operator">:</span> <span class="token string">&#39;17850000&#39;</span><span class="token punctuation">,</span>
    totalCoins<span class="token operator">:</span> <span class="token string">&#39;599999999999460713&#39;</span><span class="token punctuation">,</span>
    total_coins<span class="token operator">:</span> <span class="token string">&#39;599999999999460713&#39;</span><span class="token punctuation">,</span>
    transaction_hash<span class="token operator">:</span> <span class="token string">&#39;798E3F8953101B74C038FF81CD6A3E655F280927EDC6ABD08370B13F83D76933&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ledger_hash<span class="token operator">:</span> <span class="token string">&#39;4B70E1B2C1C710A4B4546B39C2234303180CC9B4CFE128219B4DAF4B1102AC17&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token number">17850000</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

</code></pre></div><p>输出说明</p><div class="language-"><pre><code>键名              类型     解析
Ledger           Object   完整的账本头数据
Account_hash     String   该账本中所有账户状态信息的哈希，十六进制。
Account Array    Account  参数为真时有，账本中所有账户信息。
Close_time       Int      该账本的关闭时间，距离井通元年时间。
Close_time_human String   以标准时间形式显示账本关闭时间。
Close            Boolean  是否这个账本已经关闭
Ledger_hash      String   标识该账本的账本哈希
Ledger_index     Uint     账本序列号，可以通过该序列号引用该账本。参数 ledger_index 为&quot;validated&quot;时，返回值为当前最新区块。
Parent_hash      String   该账本父母账本的哈希。
Total_coins      Int      网络中所有的井通币数目
Transaction_hash String   该账本中所有交易的哈希。
Transaction      Array    Tranaction 参数为真时，账本中所有交易信息。
</code></pre></div></details><h4 id="_4-3-4-remote-rpcledgerdata-params-irpcledgerdataoptions-获取帐本数据" tabindex="-1">4.3.4 Remote.rpcLedgerData(params: IRpcLedgerDataOptions) 获取帐本数据 <a class="header-anchor" href="#_4-3-4-remote-rpcledgerdata-params-irpcledgerdataoptions-获取帐本数据" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">IRpcLedgerDataOptions</span> <span class="token punctuation">{</span>
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  binray<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  marker<span class="token operator">?</span><span class="token operator">:</span> IMarker
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getLedgerData</span><span class="token punctuation">(</span>params<span class="token operator">:</span> IRpcLedgerDataOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcLedgerData</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr><tr><td>binary</td><td>Boolean</td><td>可选参数，默认为假，设置为真时，以原始编码返回</td></tr><tr><td>limit</td><td>Number</td><td>可选参数，返回数量</td></tr><tr><td>marker</td><td>IMarker</td><td>可选参数，分页相关</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcLedgerData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>limit<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> binary<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  ledger_current_index<span class="token operator">:</span> <span class="token number">17855102</span><span class="token punctuation">,</span>
  ledger_hash<span class="token operator">:</span> <span class="token string">&#39;72CA9373AFA1E894A61A700CA7936DDC3B8F5B5FEE53511E4F804B3BDE36F7A8&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token string">&#39;17855102&#39;</span><span class="token punctuation">,</span>
  marker<span class="token operator">:</span> <span class="token string">&#39;0000072D097A02B52E70B09D1C9A2B4AF6C0A256DE4E50649C626F73903A6DF1&#39;</span><span class="token punctuation">,</span>
  state<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      data<span class="token operator">:</span> <span class="token string">&#39;110061220000000024000000012500B17A972D00000001559BBDDBE6996E16FD8AE87B6EE64997C98E16B59C246C173281A822F124DF1B66624000000002160EC081143BF0D3DC4719F3BD2221A7AAD216E16E8BD68EB9&#39;</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;0000035323A056896406C8C16C21CB382175ADF83F41E14E91B4ADFD4B72743A&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      data<span class="token operator">:</span> <span class="token string">&#39;11007222001100002500DA4F27370000000000000000380000000000008EC955126E65949BD9F9190AA9FF70F8502554E181BA444F5AC1AF3B38815CAF1184FA62D4838D7EA4C680000000000000000000000000004353500000000000000000000000000000000000000000000000000166D7038D7EA4C68000000000000000000000000000435350000000000002BF6C5E4E68145EF6F144165AB847BBD2302BB86780000000000000000000000000000000000000004353500000000000A582E432BFC48EEDEF852C814EC57F3CD2D41596&#39;</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;000006B7C0C15ED622FC359154790CCF77898EF0B90B86A9E9D8863AE19D7D6B&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-3-5-remote-rpcledgerentry-params-irpcledgerentryoptions-获取帐本数据" tabindex="-1">4.3.5 Remote.rpcLedgerEntry(params: IRpcLedgerEntryOptions) 获取帐本数据 <a class="header-anchor" href="#_4-3-5-remote-rpcledgerentry-params-irpcledgerentryoptions-获取帐本数据" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">IRpcLedgerEntryOptions</span> <span class="token punctuation">{</span>
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  binray<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  type<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getLedgerEntry</span><span class="token punctuation">(</span>params<span class="token operator">:</span> IRpcLedgerEntryOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcLedgerEntry</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr><tr><td>binary</td><td>Boolean</td><td>可选参数，默认为假，设置为真时，以原始编码返回</td></tr><tr><td>limit</td><td>Number</td><td>可选参数，返回数量</td></tr><tr><td>marker</td><td>IMarker</td><td>可选参数，分页相关</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcLedgerEntry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">&quot;account_root&quot;</span><span class="token punctuation">,</span> account_root<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  index<span class="token operator">:</span> <span class="token string">&#39;DB35CDEAF3F0D3C190B041C0C7D92FB0E43CBCBFAD4F498C28858A35CEA8BBB7&#39;</span><span class="token punctuation">,</span>
  ledger_current_index<span class="token operator">:</span> <span class="token number">17855371</span><span class="token punctuation">,</span>
  node<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Balance<span class="token operator">:</span> <span class="token string">&#39;52359960&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;AccountRoot&#39;</span><span class="token punctuation">,</span>
    OwnerCount<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
    PreviousTxnID<span class="token operator">:</span> <span class="token string">&#39;55791A6BD2C0D71D339B2366D9A60F2AB71829648EC8F0B10EBD941A5D663433&#39;</span><span class="token punctuation">,</span>
    PreviousTxnLgrSeq<span class="token operator">:</span> <span class="token number">17051932</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">109</span><span class="token punctuation">,</span>
    index<span class="token operator">:</span> <span class="token string">&#39;DB35CDEAF3F0D3C190B041C0C7D92FB0E43CBCBFAD4F498C28858A35CEA8BBB7&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h3 id="_4-4-事务相关" tabindex="-1">4.4 事务相关 <a class="header-anchor" href="#_4-4-事务相关" aria-hidden="true">#</a></h3><h4 id="_4-4-0-remote-rpcsign-remote-rpcsignfor-服务器签名" tabindex="-1">4.4.0 Remote.rpcSign() Remote.rpcSignFor() 服务器签名 <a class="header-anchor" href="#_4-4-0-remote-rpcsign-remote-rpcsignfor-服务器签名" aria-hidden="true">#</a></h4><div class="danger custom-block"><p class="custom-block-title">WARNING</p><p>不安全操作，不予提供</p></div><h4 id="_4-4-1-remote-rpctxhistory-params-irpctxhistoryoptions-获取最近事务列表" tabindex="-1">4.4.1 Remote.rpcTxHistory(params: IRpcTxHistoryOptions) 获取最近事务列表 <a class="header-anchor" href="#_4-4-1-remote-rpctxhistory-params-irpctxhistoryoptions-获取最近事务列表" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcTxHistoryOptions</span> <span class="token punctuation">{</span>
  start<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getTxHistory</span><span class="token punctuation">(</span>params<span class="token operator">:</span> IRpcTxHistoryOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcTxHistory</span><span class="token punctuation">(</span><span class="token punctuation">{</span>start<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">...</span>params<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>start</td><td>number</td><td>可选参数，略过事务</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcTxHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  index<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  txs<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      Account<span class="token operator">:</span> <span class="token string">&#39;j35tEXrGej8U69ffiQSaXuxWBmq5oxSbCa&#39;</span><span class="token punctuation">,</span>
      Amount<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      Destination<span class="token operator">:</span> <span class="token string">&#39;j36znoDj2V9YRvZprJgc3eFovxdbrebTqY&#39;</span><span class="token punctuation">,</span>
      Fee<span class="token operator">:</span> <span class="token string">&#39;20&#39;</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      Memos<span class="token operator">:</span> <span class="token punctuation">[</span>Array<span class="token punctuation">]</span><span class="token punctuation">,</span>
      Sequence<span class="token operator">:</span> <span class="token number">818</span><span class="token punctuation">,</span>
      SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;02F3066AA10B81BDD088B6EE54C7BAE9E1EEB4F18C4F16CE4E115FA5800FB22E1D&#39;</span><span class="token punctuation">,</span>
      TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
      TxnSignature<span class="token operator">:</span> <span class="token string">&#39;3045022100FEA587BE9255AD240D1AF8F09CC1F959705D8613581CCD6F59815F369B4A9C3502206452C673BE62BD72752FFDCAAAD457A97FEB2AA181194F272015E728F6312955&#39;</span><span class="token punctuation">,</span>
      hash<span class="token operator">:</span> <span class="token string">&#39;6BB25BF815EE0A2339C951C6553ECC519BDB0B43A241E44AC0717793B2DDF3FF&#39;</span><span class="token punctuation">,</span>
      inLedger<span class="token operator">:</span> <span class="token number">17855666</span><span class="token punctuation">,</span>
      ledger_index<span class="token operator">:</span> <span class="token number">17855666</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      Account<span class="token operator">:</span> <span class="token string">&#39;jKimtpPTnQyz2DrHBHhVuX5Zz8W4PNo6GA&#39;</span><span class="token punctuation">,</span>
      Amount<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      Destination<span class="token operator">:</span> <span class="token string">&#39;jLHErZNEwevjzWXCqzAxcAid7TAG1NMjFj&#39;</span><span class="token punctuation">,</span>
      Fee<span class="token operator">:</span> <span class="token string">&#39;20&#39;</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      Memos<span class="token operator">:</span> <span class="token punctuation">[</span>Array<span class="token punctuation">]</span><span class="token punctuation">,</span>
      Sequence<span class="token operator">:</span> <span class="token number">463</span><span class="token punctuation">,</span>
      SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;027C4F80C38CB4C2662F67FBB50A448F5B7B2D1993C9D7210DD84C19F6D2525464&#39;</span><span class="token punctuation">,</span>
      TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
      TxnSignature<span class="token operator">:</span> <span class="token string">&#39;304402207A6AFD08BCD15974A68F87F40CDAFFDBDCD239F79E1352B7BA69A04CD3A33F8902206C68EDCE9BA4703ADC1857B23834929E12FFF5C6A4FE2857C24558DCEFD83029&#39;</span><span class="token punctuation">,</span>
      hash<span class="token operator">:</span> <span class="token string">&#39;4816C3B849A96C68A3B11C1011CA75603D836AEB163E5F0C13F9F4A3EA905BDB&#39;</span><span class="token punctuation">,</span>
      inLedger<span class="token operator">:</span> <span class="token number">17855666</span><span class="token punctuation">,</span>
      ledger_index<span class="token operator">:</span> <span class="token number">17855666</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-4-2-remote-rpctx-params-irpctxoptions-获取事务内容" tabindex="-1">4.4.2 Remote.rpcTx(params: IRpcTxOptions) 获取事务内容 <a class="header-anchor" href="#_4-4-2-remote-rpctx-params-irpctxoptions-获取事务内容" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcTxOptions</span> <span class="token punctuation">{</span>
  transaction<span class="token operator">:</span> <span class="token builtin">string</span>
  binray<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  min_ledger<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  max_ledger<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getTx</span><span class="token punctuation">(</span>transaction<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcTxOptions <span class="token operator">=</span> <span class="token punctuation">{</span>transaction<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>params<span class="token punctuation">,</span> transaction <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>transaction</td><td>string</td><td>指定事务哈希</td></tr><tr><td>binary</td><td>Boolean</td><td>可选参数，默认为假，设置为真时，以原始编码返回</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>transaction<span class="token operator">:</span> <span class="token string">&#39;1C955BFC05E5A434DF041C4E4AFA8891DF1AAFBE504707F01A94EBD0F0A76181&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  Account<span class="token operator">:</span> <span class="token string">&#39;jasyAHN5mKpLJpefdnpyPeaihoTdsY5RUo&#39;</span><span class="token punctuation">,</span>
  Amount<span class="token operator">:</span> <span class="token punctuation">{</span>
    currency<span class="token operator">:</span> <span class="token string">&#39;JEQC&#39;</span><span class="token punctuation">,</span>
    issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">&#39;2.146&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  Destination<span class="token operator">:</span> <span class="token string">&#39;jM6wEZJnHYWv6Vdy4skdhpb1xAUXGvf3uD&#39;</span><span class="token punctuation">,</span>
  Fee<span class="token operator">:</span> <span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span>
  Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> Memo<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  Sequence<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;022B17F87C523C1675BCE5BDCF0CB263159F28382C745AC13D64022DDAD7EFA332&#39;</span><span class="token punctuation">,</span>
  TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
  TxnSignature<span class="token operator">:</span> <span class="token string">&#39;3044022078DC1A37C8EEA61B93A1DF24F1102D1708F5A4F3A1D1D04BFF326C61541F2B8802203415FA3E32F857CC6FE593757D09D941F6608427644DF9C07AA64B7834B6B07F&#39;</span><span class="token punctuation">,</span>
  date<span class="token operator">:</span> <span class="token number">661161510</span><span class="token punctuation">,</span>
  hash<span class="token operator">:</span> <span class="token string">&#39;1C955BFC05E5A434DF041C4E4AFA8891DF1AAFBE504707F01A94EBD0F0A76181&#39;</span><span class="token punctuation">,</span>
  inLedger<span class="token operator">:</span> <span class="token number">17800000</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token number">17800000</span><span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    AffectedNodes<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    TransactionIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    TransactionResult<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

</code></pre></div></details><h4 id="_4-4-3-remote-rpctxentry-params-irpctxentryoptions-从特定帐本获取事务内容" tabindex="-1">4.4.3 Remote.rpcTxEntry(params: IRpcTxEntryOptions) 从特定帐本获取事务内容 <a class="header-anchor" href="#_4-4-3-remote-rpctxentry-params-irpctxentryoptions-从特定帐本获取事务内容" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcTxEntryOptions</span> <span class="token punctuation">{</span>
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  tx_hash<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getTxEntry</span><span class="token punctuation">(</span>tx_hash<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcTxEntryOptions <span class="token operator">=</span> <span class="token punctuation">{</span>tx_hash<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcTxEntry</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>params<span class="token punctuation">,</span> tx_hash <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>tx_hash</td><td>string</td><td>指定事务, 区块哈希</td></tr><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcTxEntry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>ledger_hash<span class="token operator">:</span> <span class="token string">&quot;433D4046C84DE4E9619FF17F1BCF4C6D908DF08E5AE762D5170097E104405B70&quot;</span><span class="token punctuation">,</span> tx_hash<span class="token operator">:</span> <span class="token string">&quot;1C955BFC05E5A434DF041C4E4AFA8891DF1AAFBE504707F01A94EBD0F0A76181&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  ledger_hash<span class="token operator">:</span> <span class="token string">&#39;433D4046C84DE4E9619FF17F1BCF4C6D908DF08E5AE762D5170097E104405B70&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token number">17800000</span><span class="token punctuation">,</span>
  metadata<span class="token operator">:</span> <span class="token punctuation">{</span>
    AffectedNodes<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    TransactionIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    TransactionResult<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jasyAHN5mKpLJpefdnpyPeaihoTdsY5RUo&#39;</span><span class="token punctuation">,</span>
    Amount<span class="token operator">:</span> <span class="token punctuation">{</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JEQC&#39;</span><span class="token punctuation">,</span>
      issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;2.146&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Destination<span class="token operator">:</span> <span class="token string">&#39;jM6wEZJnHYWv6Vdy4skdhpb1xAUXGvf3uD&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;022B17F87C523C1675BCE5BDCF0CB263159F28382C745AC13D64022DDAD7EFA332&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
    TxnSignature<span class="token operator">:</span> <span class="token string">&#39;3044022078DC1A37C8EEA61B93A1DF24F1102D1708F5A4F3A1D1D04BFF326C61541F2B8802203415FA3E32F857CC6FE593757D09D941F6608427644DF9C07AA64B7834B6B07F&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;1C955BFC05E5A434DF041C4E4AFA8891DF1AAFBE504707F01A94EBD0F0A76181&#39;</span><span class="token punctuation">,</span>
    inLedger<span class="token operator">:</span> <span class="token number">17800000</span><span class="token punctuation">,</span>
    ledger_index<span class="token operator">:</span> <span class="token number">17800000</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

</code></pre></div></details><h4 id="_4-4-4-remote-rpcsubmit-params-irpcsubmitoptions-提交单签事务" tabindex="-1">4.4.4 Remote.rpcSubmit(params: IRpcSubmitOptions) 提交单签事务 <a class="header-anchor" href="#_4-4-4-remote-rpcsubmit-params-irpcsubmitoptions-提交单签事务" aria-hidden="true">#</a></h4><div class="danger custom-block"><p class="custom-block-title">WARNING</p><p>sign-and-submit 模式不应该使用，这里只使用 submit-only 模式，本地签名</p></div><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcSubmitOptions</span> <span class="token punctuation">{</span>
  tx_blob<span class="token operator">:</span> <span class="token builtin">string</span>
  fail_hard<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">submit</span><span class="token punctuation">(</span>tx_blob<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcSubmitOptions <span class="token operator">=</span> <span class="token punctuation">{</span>tx_blob<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcSubmit</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>params<span class="token punctuation">,</span> tx_blob <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>tx_blob</td><td>string</td><td>签名后得到的 blob，是序列化后的哈希</td></tr><tr><td>fail_hard</td><td>boolean</td><td>可选参数, 默认 false。 为真时不尝试其它服务器</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcSubmit</span><span class="token punctuation">(</span><span class="token punctuation">{</span>tx_blob<span class="token operator">:</span> <span class="token string">&quot;12000022000000002400000EA4614000000002160EC068400000000000000A732103E466DB080F3863F354E9C1B1CA0927175B338C41789ACFC0EFAD50301524C23E7446304402200A1F6E65FD9D7076E4589C5BA13E2433B1C2CA9E7C0E42EFC7D57F22C74B1B780220355A2456589B79FD6D6185FD5A74BDE44CFB10E0F6711E4A3BF86FE531C72E6C81141C3D155BB13D3FE79CBF85E5C1DCB6B508079ABE83140ECD295EA24E99608A9B346838EB991BCF143E62F9EA7C06737472696E677D00E1F1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tefPAST_SEQ&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">190</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;This sequence number has already past.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;12000022000000002400000EA4614000000002160EC068400000000000000A732103E466DB080F3863F354E9C1B1CA0927175B338C41789ACFC0EFAD50301524C23E7446304402200A1F6E65FD9D7076E4589C5BA13E2433B1C2CA9E7C0E42EFC7D57F22C74B1B780220355A2456589B79FD6D6185FD5A74BDE44CFB10E0F6711E4A3BF86FE531C72E6C81141C3D155BB13D3FE79CBF85E5C1DCB6B508079ABE83140ECD295EA24E99608A9B346838EB991BCF143E62F9EA7C06737472696E677D00E1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;js2KaXJMUZoXA47Ua2wZyXRDmLL55mhPSN&#39;</span><span class="token punctuation">,</span>
    Amount<span class="token operator">:</span> <span class="token string">&#39;35000000&#39;</span><span class="token punctuation">,</span>
    Destination<span class="token operator">:</span> <span class="token string">&#39;jpMGNZgCk4jnDnQfr95XF3NnnryC4tduAG&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">3748</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;03E466DB080F3863F354E9C1B1CA0927175B338C41789ACFC0EFAD50301524C23E&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
    TxnSignature<span class="token operator">:</span> <span class="token string">&#39;304402200A1F6E65FD9D7076E4589C5BA13E2433B1C2CA9E7C0E42EFC7D57F22C74B1B780220355A2456589B79FD6D6185FD5A74BDE44CFB10E0F6711E4A3BF86FE531C72E6C&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;B7C029F58D754C133D329243B21959E10DC5FC2E36DEC8DF4713086EBEA097A9&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-4-5-remote-rpcsubmitmultisigned-params-irpcsubmitmultisignedoptions-提交多签事务" tabindex="-1">4.4.5 Remote.rpcSubmitMultisigned(params: IRpcSubmitMultisignedOptions) 提交多签事务 <a class="header-anchor" href="#_4-4-5-remote-rpcsubmitmultisigned-params-irpcsubmitmultisignedoptions-提交多签事务" aria-hidden="true">#</a></h4><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>To be successful, the weights of the signatures must be equal or higher than the quorum of the SignerList.</p></div><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcSubmitMultisignedOptions</span> <span class="token punctuation">{</span>
  tx_json<span class="token operator">:</span> object
  fail_hard<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">submitMultisigned</span><span class="token punctuation">(</span>tx_json<span class="token operator">:</span> object<span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcSubmitMultisignedOptions <span class="token operator">=</span> <span class="token punctuation">{</span>tx_json<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcSubmitMultisigned</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>params<span class="token punctuation">,</span> tx_json <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>tx_json</td><td>object</td><td>多签签名后得到的 tx_json</td></tr><tr><td>fail_hard</td><td>boolean</td><td>可选参数, 默认 false。 为真时不尝试其它服务器</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> tx_json <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token operator">...</span>   <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token operator">...</span>   <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
<span class="token operator">...</span>   <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
<span class="token operator">...</span>   <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&quot;</span><span class="token punctuation">,</span>
<span class="token operator">...</span>   <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
<span class="token operator">...</span>   <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jLXCzapdDd1K11EtUv4Nz4agj8DPVbARjk&quot;</span><span class="token punctuation">,</span>
<span class="token operator">...</span>   <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
<span class="token operator">...</span>   <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
<span class="token operator">...</span>     <span class="token punctuation">{</span>
<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>         <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
<span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>         <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&quot;</span><span class="token punctuation">,</span>
<span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>         <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100D788CFBD76BB183D43E175191BD37965D01EFDD9D7F978B4DC7AED1F6421CA5B0220334448FEAF2A153EEF24FDFB7E4BC90BFFB29EBEB32342CEA3234F4737E9C967&quot;</span>
<span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>       <span class="token punctuation">}</span>
<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span>     <span class="token punctuation">{</span>
<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>         <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jfdqBEDsbk3eMSXX2t7CGeu2RPkEjHs6ie&quot;</span><span class="token punctuation">,</span>
<span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>         <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0261DD84455B92BDFD59C1DB2A5BD9CE1A3AF0FD531A08EEB2EE354C3BB230B878&quot;</span><span class="token punctuation">,</span>
<span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>         <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100FC692AF1374D347C7E53205F165EF7F9AD3F96F558A2BE339947E277AB74447102204B8103DCA38AEC05A1EFD65C4E635242E882449B98328EAF13DC0DD2AFC0F239&quot;</span>
<span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>       <span class="token punctuation">}</span>
<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token punctuation">}</span>
<span class="token operator">...</span>   <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token operator">...</span>   <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  Fee<span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
  Account<span class="token operator">:</span> <span class="token string">&#39;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&#39;</span><span class="token punctuation">,</span>
  Amount<span class="token operator">:</span> <span class="token string">&#39;1000000&#39;</span><span class="token punctuation">,</span>
  Destination<span class="token operator">:</span> <span class="token string">&#39;jLXCzapdDd1K11EtUv4Nz4agj8DPVbARjk&#39;</span><span class="token punctuation">,</span>
  Sequence<span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
  Signers<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> Signer<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> Signer<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcSubmitMultisigned</span><span class="token punctuation">(</span><span class="token punctuation">{</span>tx_json<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;terPRE_SEQ&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">92</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;Missing/inapplicable prior transaction.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;1200002200000000240000000B6140000000000F4240684000000000004E2073008114054FADDC8595E2950FA43F673F65C2009F58C7F18314D6376941DD44B16D5A9652C5A8B928B2B336B95FFCED7321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E1574473045022100D788CFBD76BB183D43E175191BD37965D01EFDD9D7F978B4DC7AED1F6421CA5B0220334448FEAF2A153EEF24FDFB7E4BC90BFFB29EBEB32342CEA3234F4737E9C96781141359AA928F4D98FDB3D93E8B690C80D37DED11C3E1ED73210261DD84455B92BDFD59C1DB2A5BD9CE1A3AF0FD531A08EEB2EE354C3BB230B87874473045022100FC692AF1374D347C7E53205F165EF7F9AD3F96F558A2BE339947E277AB74447102204B8103DCA38AEC05A1EFD65C4E635242E882449B98328EAF13DC0DD2AFC0F239811448C7F1F5E9D4D0FC0D3F16F1606ACCCFB8D51463E1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&#39;</span><span class="token punctuation">,</span>
    Amount<span class="token operator">:</span> <span class="token string">&#39;1000000&#39;</span><span class="token punctuation">,</span>
    Destination<span class="token operator">:</span> <span class="token string">&#39;jLXCzapdDd1K11EtUv4Nz4agj8DPVbARjk&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;20000&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
    Signers<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;92BD7DC9D9955C5813E61A4C2D9FB712379A29A9C7F3FD7384FDBB01E8A7829B&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h3 id="_4-5-路径和挂单相关" tabindex="-1">4.5 路径和挂单相关 <a class="header-anchor" href="#_4-5-路径和挂单相关" aria-hidden="true">#</a></h3><h4 id="_4-5-1-remote-rpcbookoffers-params-irpcbookoffersoptions-获取交易两种通证的挂单" tabindex="-1">4.5.1 Remote.rpcBookOffers(params: IRpcBookOffersOptions) 获取交易两种通证的挂单 <a class="header-anchor" href="#_4-5-1-remote-rpcbookoffers-params-irpcbookoffersoptions-获取交易两种通证的挂单" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcBookOffersOptions</span> <span class="token punctuation">{</span>
  taker_pays<span class="token operator">:</span> object
  taker_gets<span class="token operator">:</span> object
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getBookOffers</span><span class="token punctuation">(</span>taker_gets<span class="token operator">:</span> ICurrency<span class="token punctuation">,</span> taker_pays<span class="token operator">:</span> ICurrency<span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcBookOffersOptions <span class="token operator">=</span> <span class="token punctuation">{</span>taker_gets<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> taker_pays<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcBookOffers</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>params<span class="token punctuation">,</span> taker_gets<span class="token punctuation">,</span> taker_pays<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>taker_gets</td><td>object</td><td>接受挂单的账号<code>得到</code>的货币和发行者</td></tr><tr><td>taker_pays</td><td>object</td><td>接受挂单的账号<code>提供</code>的货币和发行者</td></tr><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr><tr><td>limit</td><td>number</td><td>可选参数，限制返回的数目</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcBookOffers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>taker_pays<span class="token operator">:</span> <span class="token punctuation">{</span>currency<span class="token operator">:</span> <span class="token string">&quot;SWT&quot;</span><span class="token punctuation">,</span> issuer<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> taker_gets<span class="token operator">:</span> <span class="token punctuation">{</span>currency<span class="token operator">:</span> <span class="token string">&quot;CNY&quot;</span><span class="token punctuation">,</span> issuer<span class="token operator">:</span> <span class="token string">&quot;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> limit<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  ledger_current_index<span class="token operator">:</span> <span class="token number">17857995</span><span class="token punctuation">,</span>
  offers<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      Account<span class="token operator">:</span> <span class="token string">&#39;jajX5uTGnkhskXYjvnhhER7cK6Hum4H51U&#39;</span><span class="token punctuation">,</span>
      BookDirectory<span class="token operator">:</span> <span class="token string">&#39;51603377F758E3C8FA007C77312DDA06A737A1395CD5FC435D20E477B26300B0&#39;</span><span class="token punctuation">,</span>
      BookNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;Offer&#39;</span><span class="token punctuation">,</span>
      OwnerNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      PreviousTxnID<span class="token operator">:</span> <span class="token string">&#39;5B1D643C21275976D57DFE923D553AD71536E8A6EFD9CD65717D4A5BF6037256&#39;</span><span class="token punctuation">,</span>
      PreviousTxnLgrSeq<span class="token operator">:</span> <span class="token number">17854900</span><span class="token punctuation">,</span>
      Sequence<span class="token operator">:</span> <span class="token number">2791</span><span class="token punctuation">,</span>
      TakerGets<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      TakerPays<span class="token operator">:</span> <span class="token string">&#39;500000000000&#39;</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;15E1C0A9A84B21A57858A24070FEAC91424C601BDB8BB35E553CEC1C7351C016&#39;</span><span class="token punctuation">,</span>
      owner_funds<span class="token operator">:</span> <span class="token string">&#39;8502.275898725341&#39;</span><span class="token punctuation">,</span>
      quality<span class="token operator">:</span> <span class="token string">&#39;925840199.9814832&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      Account<span class="token operator">:</span> <span class="token string">&#39;jwpEySXz9NCfKhE5BL5g7o7QKfnc9xcbz2&#39;</span><span class="token punctuation">,</span>
      BookDirectory<span class="token operator">:</span> <span class="token string">&#39;51603377F758E3C8FA007C77312DDA06A737A1395CD5FC435D20E52955EFE040&#39;</span><span class="token punctuation">,</span>
      BookNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;Offer&#39;</span><span class="token punctuation">,</span>
      OwnerNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      PreviousTxnID<span class="token operator">:</span> <span class="token string">&#39;7118865C9EC18F257EE1DD4141B591D3DD7E0034CC6D4155C34180E340E78040&#39;</span><span class="token punctuation">,</span>
      PreviousTxnLgrSeq<span class="token operator">:</span> <span class="token number">17854730</span><span class="token punctuation">,</span>
      Sequence<span class="token operator">:</span> <span class="token number">14991</span><span class="token punctuation">,</span>
      TakerGets<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      TakerPays<span class="token operator">:</span> <span class="token string">&#39;535197754071&#39;</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;4441FFCC9A604F1EF8D907C43C33076F922B632A91FF9C15818EF5558DEDBA95&#39;</span><span class="token punctuation">,</span>
      owner_funds<span class="token operator">:</span> <span class="token string">&#39;580.0194615722775&#39;</span><span class="token punctuation">,</span>
      quality<span class="token operator">:</span> <span class="token string">&#39;925916495.2944704&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-5-2-remote-rpcskywellpathfind-params-irpcskywellpathfindoptions-获取两个账户间的交易路径" tabindex="-1">4.5.2 Remote.rpcSkywellPathFind(params: IRpcSkywellPathFindOptions) 获取两个账户间的交易路径 <a class="header-anchor" href="#_4-5-2-remote-rpcskywellpathfind-params-irpcskywellpathfindoptions-获取两个账户间的交易路径" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcBookOffersOptions</span> <span class="token punctuation">{</span>
  taker_pays<span class="token operator">:</span> object
  taker_gets<span class="token operator">:</span> object
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getSkywellPathFind</span><span class="token punctuation">(</span>params<span class="token operator">:</span> IRpcSkywellPathFindOptions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcSkywellPathFind</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>taker_gets</td><td>object</td><td>接受挂单的账号<code>得到</code>的货币和发行者</td></tr><tr><td>taker_pays</td><td>object</td><td>接受挂单的账号<code>提供</code>的货币和发行者</td></tr><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr><tr><td>limit</td><td>number</td><td>可选参数，限制返回的数目</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcSkywellPathFind</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        destination_account<span class="token operator">:</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span><span class="token punctuation">,</span>
        source_account<span class="token operator">:</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span><span class="token punctuation">,</span>
        destination_amount<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;cny&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        source_currencies<span class="token operator">:</span> <span class="token punctuation">[</span> remote<span class="token punctuation">.</span><span class="token function">makeCurrency</span><span class="token punctuation">(</span><span class="token string">&quot;vcc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> remote<span class="token punctuation">.</span><span class="token function">makeCurrency</span><span class="token punctuation">(</span><span class="token string">&quot;jcc&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>

  Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  alternatives<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      paths_canonical<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      paths_computed<span class="token operator">:</span> <span class="token punctuation">[</span>Array<span class="token punctuation">]</span><span class="token punctuation">,</span>
      source_amount<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  destination_account<span class="token operator">:</span> <span class="token string">&#39;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&#39;</span><span class="token punctuation">,</span>
  destination_currencies<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;JETH&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;BGT&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;CNY&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;VCC&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;SWT&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;SPC&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;SEAA&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;JMOAC&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;JEKT&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;HJT&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;JJCC&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;JCALL&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;JSLASH&#39;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h3 id="_4-6-账户相关" tabindex="-1">4.6 账户相关 <a class="header-anchor" href="#_4-6-账户相关" aria-hidden="true">#</a></h3><h4 id="_4-6-0-remote-rpcblacklistinfo-params-irpcblacklistinfooptions-获取已关闭账户列表" tabindex="-1">4.6.0 Remote.rpcBlacklistInfo(params: IRpcBlacklistInfoOptions = {}) 获取已关闭账户列表 <a class="header-anchor" href="#_4-6-0-remote-rpcblacklistinfo-params-irpcblacklistinfooptions-获取已关闭账户列表" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">IRpcBlacklistInfoOptions</span> <span class="token punctuation">{</span>
  account<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  marker<span class="token operator">?</span><span class="token operator">:</span> IMarker
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getBlacklistInfo</span><span class="token punctuation">(</span>params<span class="token operator">:</span> IRpcBlacklistInfoOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcBlacklistInfo</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>account</td><td>string</td><td>指定账户, 地址</td></tr><tr><td>marker</td><td>IMarker</td><td>可选参数, 分页相关</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcBlacklistInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  ledger_hash<span class="token operator">:</span> <span class="token string">&#39;3CBF6F0B72CA68AC7F00CB640587BDA83487EA84ED84057FC11DFF241287DB87&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token string">&#39;17890257&#39;</span><span class="token punctuation">,</span>
  marker<span class="token operator">:</span> <span class="token string">&#39;007926FCDB6FC3626F3A6C79F5640D148AC35998FE9838FE950613C9E0852CC8&#39;</span><span class="token punctuation">,</span>
  state<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      BlackListAccountID<span class="token operator">:</span> <span class="token string">&#39;jBV2vaet8BZx1zvtKAhxe9AZhnchGvwYvo&#39;</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;BlackList&#39;</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;00009FCA9BBBFD274D7478332830786A817BA4D3729A8FBD4ED871A484C70A37&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      BlackListAccountID<span class="token operator">:</span> <span class="token string">&#39;jnZVj3TfY553kKChqxyLbYCtgxZ4iouEZx&#39;</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;BlackList&#39;</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;0001111F9D4BC1B4A07403850C72B82B5F554821888738B951327D15346D3FA8&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">...</span> <span class="token number">156</span> more items
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-6-1-remote-rpcaccountinfo-params-irpcaccountinfooptions-获取账户基本信息" tabindex="-1">4.6.1 Remote.rpcAccountInfo(params: IRpcAccountInfoOptions) 获取账户基本信息 <a class="header-anchor" href="#_4-6-1-remote-rpcaccountinfo-params-irpcaccountinfooptions-获取账户基本信息" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcAccountInfoOptions</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token builtin">string</span>
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getAccountInfo</span><span class="token punctuation">(</span>address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcAccountInfoOptions <span class="token operator">=</span> <span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcAccountInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>params<span class="token punctuation">,</span> account<span class="token operator">:</span> address <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>account</td><td>string</td><td>指定账户, 地址</td></tr><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcAccountInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  account_data<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Balance<span class="token operator">:</span> <span class="token string">&#39;52359960&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;AccountRoot&#39;</span><span class="token punctuation">,</span>
    OwnerCount<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
    PreviousTxnID<span class="token operator">:</span> <span class="token string">&#39;55791A6BD2C0D71D339B2366D9A60F2AB71829648EC8F0B10EBD941A5D663433&#39;</span><span class="token punctuation">,</span>
    PreviousTxnLgrSeq<span class="token operator">:</span> <span class="token number">17051932</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">109</span><span class="token punctuation">,</span>
    index<span class="token operator">:</span> <span class="token string">&#39;DB35CDEAF3F0D3C190B041C0C7D92FB0E43CBCBFAD4F498C28858A35CEA8BBB7&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ledger_current_index<span class="token operator">:</span> <span class="token number">17857652</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-6-2-remote-rpcaccountobjects-params-irpcaccountobjectsoptions-获取账户扩展信息" tabindex="-1">4.6.2 Remote.rpcAccountObjects(params: IRpcAccountObjectsOptions) 获取账户扩展信息 <a class="header-anchor" href="#_4-6-2-remote-rpcaccountobjects-params-irpcaccountobjectsoptions-获取账户扩展信息" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcAccountObjectsOptions</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token builtin">string</span>
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  type<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;offer&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;ticket&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;state&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;deposit_preauth&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;SignerList&quot;</span>
  limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  marker<span class="token operator">?</span><span class="token operator">:</span> IMarker
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getAccountObjects</span><span class="token punctuation">(</span>address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcAccountObjectsOptions <span class="token operator">=</span> <span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcAccountObjects</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>params<span class="token punctuation">,</span> account<span class="token operator">:</span> address<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>account</td><td>string</td><td>指定账户, 地址</td></tr><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr><tr><td>type</td><td>string</td><td>可选参数，过滤类型</td></tr><tr><td>limit</td><td>number</td><td>可选参数，默认 10</td></tr><tr><td>marker</td><td>IMarker</td><td>可选参数，分页相关</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcAccountObjects</span><span class="token punctuation">(</span><span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
  account_objects<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      Balance<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">1114112</span><span class="token punctuation">,</span>
      HighLimit<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      HighNode<span class="token operator">:</span> <span class="token string">&#39;000000000000A54B&#39;</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;SkywellState&#39;</span><span class="token punctuation">,</span>
      LowLimit<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      LowNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      PreviousTxnID<span class="token operator">:</span> <span class="token string">&#39;55791A6BD2C0D71D339B2366D9A60F2AB71829648EC8F0B10EBD941A5D663433&#39;</span><span class="token punctuation">,</span>
      PreviousTxnLgrSeq<span class="token operator">:</span> <span class="token number">17051932</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;B5904B308E9CD91DCF9ECB863F27FDD24B94C9109BAD70AE184CC0C8F0D0F4D7&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      Balance<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      HighLimit<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      HighNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;TrustState&#39;</span><span class="token punctuation">,</span>
      LowLimit<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      LowNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      RelationType<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;F27DB8B79BFE0A2ADC7225301945D3B24023AD32BDFAF010B76B4CD62821C53E&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      FeeAccountID<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
      FeeCurrency<span class="token operator">:</span> <span class="token string">&#39;JSLASH&#39;</span><span class="token punctuation">,</span>
      FeeCurrencyIssuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      HighNode<span class="token operator">:</span> <span class="token string">&#39;000000000000B0B2&#39;</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;Brokerage&#39;</span><span class="token punctuation">,</span>
      LowNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      OfferFeeRateDen<span class="token operator">:</span> <span class="token string">&#39;00000000000003E8&#39;</span><span class="token punctuation">,</span>
      OfferFeeRateNum<span class="token operator">:</span> <span class="token string">&#39;0000000000000001&#39;</span><span class="token punctuation">,</span>
      Platform<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;F4BAC6B760B91575B18922CA630AE448F2796C365086EF2EC2A9A84806457970&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;SignerList&#39;</span><span class="token punctuation">,</span>
      OwnerNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      PreviousTxnID<span class="token operator">:</span> <span class="token string">&#39;5917B3F760BFC0F5BFE5EF5EAE2642FDEE6908606E37FE76561C7A7F137B76C9&#39;</span><span class="token punctuation">,</span>
      PreviousTxnLgrSeq<span class="token operator">:</span> <span class="token number">15203720</span><span class="token punctuation">,</span>
      SignerEntries<span class="token operator">:</span> <span class="token punctuation">[</span>Array<span class="token punctuation">]</span><span class="token punctuation">,</span>
      SignerQuorum<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;4A017344F9068871DC873D548052FFFF7271B86DDEB68AA93A515A5D0228BC21&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      Balance<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      HighLimit<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      HighNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;TrustState&#39;</span><span class="token punctuation">,</span>
      LowLimit<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      LowNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      RelationType<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;765D5AE12803F142209C246ECB3DF61A6BA883019DBE7CE065D7BB25266EB20E&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      FeeAccountID<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
      FeeCurrency<span class="token operator">:</span> <span class="token string">&#39;CNY&#39;</span><span class="token punctuation">,</span>
      FeeCurrencyIssuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      HighNode<span class="token operator">:</span> <span class="token string">&#39;000000000000DD69&#39;</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;Brokerage&#39;</span><span class="token punctuation">,</span>
      LowNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      OfferFeeRateDen<span class="token operator">:</span> <span class="token string">&#39;00000000000003E8&#39;</span><span class="token punctuation">,</span>
      OfferFeeRateNum<span class="token operator">:</span> <span class="token string">&#39;0000000000000001&#39;</span><span class="token punctuation">,</span>
      Platform<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;E58E4B5BE423BDBC8C9DCC09E31B723E02FB95716C9F26FB132EBBB782CDE610&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      Balance<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      Flags<span class="token operator">:</span> <span class="token number">1114112</span><span class="token punctuation">,</span>
      HighLimit<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      HighNode<span class="token operator">:</span> <span class="token string">&#39;000000000000ED46&#39;</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;SkywellState&#39;</span><span class="token punctuation">,</span>
      LowLimit<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      LowNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      PreviousTxnID<span class="token operator">:</span> <span class="token string">&#39;722DD0C5D911F8CABFBDD495A1609FDB6EA047F03E450F535B6006BC37C001C4&#39;</span><span class="token punctuation">,</span>
      PreviousTxnLgrSeq<span class="token operator">:</span> <span class="token number">16941122</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;8AB1084F4EACAEF5BCCF0317B96BCACCA4EB3253B2D5BDAC5955C73DCCB4AA26&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  ledger_current_index<span class="token operator">:</span> <span class="token number">17857656</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-6-3-remote-rpcaccountcurrencies-params-irpcaccountcurrenciesoptions-获取账户可发送-接收-token" tabindex="-1">4.6.3 Remote.rpcAccountCurrencies(params: IRpcAccountCurrenciesOptions) 获取账户可发送/接收 token <a class="header-anchor" href="#_4-6-3-remote-rpcaccountcurrencies-params-irpcaccountcurrenciesoptions-获取账户可发送-接收-token" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcAccountCurrenciesOptions</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token builtin">string</span>
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  strict<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getAccountCurrencies</span><span class="token punctuation">(</span>address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcAccountCurrenciesOptions <span class="token operator">=</span> <span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcAccountCurrencies</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>params<span class="token punctuation">,</span> account<span class="token operator">:</span> address<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>account</td><td>string</td><td>指定账户, 地址</td></tr><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr><tr><td>strict</td><td>boolean</td><td>可选参数, 严格模式，account 要求地址或公钥</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcAccountCurrencies</span><span class="token punctuation">(</span><span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  ledger_current_index<span class="token operator">:</span> <span class="token number">17857771</span><span class="token punctuation">,</span>
  receive_currencies<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;JCALL&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;JSLASH&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  send_currencies<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;JCALL&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;JSLASH&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-6-4-remote-rpcaccountlines-params-irpcaccountlinesoptions-获取账户信任线" tabindex="-1">4.6.4 Remote.rpcAccountLines(params: IRpcAccountLinesOptions) 获取账户信任线 <a class="header-anchor" href="#_4-6-4-remote-rpcaccountlines-params-irpcaccountlinesoptions-获取账户信任线" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcAccountLinesOptions</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token builtin">string</span>
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  strict<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  peer<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  marker<span class="token operator">?</span><span class="token operator">:</span> IMarker
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getAccountTrusts</span><span class="token punctuation">(</span>address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcAccountLinesOptions <span class="token operator">=</span> <span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcAccountLines</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>params<span class="token punctuation">,</span> account<span class="token operator">:</span> address<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>account</td><td>string</td><td>指定账户, 地址</td></tr><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr><tr><td>strict</td><td>boolean</td><td>可选参数, 严格模式，account 要求地址或公钥</td></tr><tr><td>peer</td><td>string</td><td>可选参数, 第二个账户的地址，如果提供，则只显示连接这两个账户之间的 trust_line</td></tr><tr><td>marker</td><td>IMarker</td><td>可选参数，分页相关</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcAccountLines</span><span class="token punctuation">(</span><span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
  ledger_current_index<span class="token operator">:</span> <span class="token number">17857806</span><span class="token punctuation">,</span>
  lines<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      account<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      balance<span class="token operator">:</span> <span class="token string">&#39;61.998&#39;</span><span class="token punctuation">,</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JSLASH&#39;</span><span class="token punctuation">,</span>
      limit<span class="token operator">:</span> <span class="token string">&#39;10000000000&#39;</span><span class="token punctuation">,</span>
      limit_peer<span class="token operator">:</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>
      no_skywell<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      quality_in<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      quality_out<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      account<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      balance<span class="token operator">:</span> <span class="token string">&#39;6&#39;</span><span class="token punctuation">,</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JCALL&#39;</span><span class="token punctuation">,</span>
      limit<span class="token operator">:</span> <span class="token string">&#39;10000000000&#39;</span><span class="token punctuation">,</span>
      limit_peer<span class="token operator">:</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>
      no_skywell<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      quality_in<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      quality_out<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-6-5-remote-rpcaccountoffers-params-irpcaccountoffersoptions-获取账户挂单" tabindex="-1">4.6.5 Remote.rpcAccountOffers(params: IRpcAccountOffersOptions) 获取账户挂单 <a class="header-anchor" href="#_4-6-5-remote-rpcaccountoffers-params-irpcaccountoffersoptions-获取账户挂单" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcAccountOffersOptions</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token builtin">string</span>
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  strict<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  marker<span class="token operator">?</span><span class="token operator">:</span> IMarker
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getAccountOffers</span><span class="token punctuation">(</span>address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcAccountOffersOptions <span class="token operator">=</span> <span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcAccountOffers</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>params<span class="token punctuation">,</span> account<span class="token operator">:</span> address <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>account</td><td>string</td><td>指定账户, 地址</td></tr><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr><tr><td>strict</td><td>boolean</td><td>可选参数, 严格模式，account 要求地址或公钥</td></tr><tr><td>limit</td><td>number</td><td>可选参数, 分页相关， 最大返回数目</td></tr><tr><td>marker</td><td>IMarker</td><td>可选参数，分页相关</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcAccountOffers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token string">&#39;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&#39;</span><span class="token punctuation">,</span>
  ledger_current_index<span class="token operator">:</span> <span class="token number">17858547</span><span class="token punctuation">,</span>
  offers<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      flags<span class="token operator">:</span> <span class="token number">131072</span><span class="token punctuation">,</span>
      seq<span class="token operator">:</span> <span class="token number">758</span><span class="token punctuation">,</span>
      taker_gets<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      taker_pays<span class="token operator">:</span> <span class="token string">&#39;625000000000&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-6-6-remote-rpcaccounttx-params-irpcaccounttxoptions-获取账户事务" tabindex="-1">4.6.6 Remote.rpcAccountTx(params: IRpcAccountTxOptions) 获取账户事务 <a class="header-anchor" href="#_4-6-6-remote-rpcaccounttx-params-irpcaccounttxoptions-获取账户事务" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcAccountTxOptions</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token builtin">string</span>
  ledger_index_min<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  ledger_index_max<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  binary<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  forward<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  marker<span class="token operator">?</span><span class="token operator">:</span> IMarker
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getAccountTx</span><span class="token punctuation">(</span>address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcAccountTxOptions <span class="token operator">=</span> <span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcAccountTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>params<span class="token punctuation">,</span> account<span class="token operator">:</span> address<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>account</td><td>string</td><td>指定账户, 地址</td></tr><tr><td>ledger_index_min</td><td>Int</td><td>可选参数, 指定包含交易的最早账本，-1 表示指定服务器使用最早可以获得的经过验证的账本。</td></tr><tr><td>ledger_index_max</td><td>Int</td><td>可选参数, 指定包含交易的最迟账本，-1 表示指定服务器使用最迟可以获得的经过验证的账本。</td></tr><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr><tr><td>strict</td><td>boolean</td><td>可选参数, 严格模式，account 要求地址或公钥</td></tr><tr><td>limit</td><td>number</td><td>可选参数, 分页相关， 最大返回数目</td></tr><tr><td>marker</td><td>IMarker</td><td>可选参数，分页相关</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcAccountTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span><span class="token punctuation">,</span> limit<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token string">&#39;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&#39;</span><span class="token punctuation">,</span>
  ledger_index_max<span class="token operator">:</span> <span class="token number">17858550</span><span class="token punctuation">,</span>
  ledger_index_min<span class="token operator">:</span> <span class="token number">266955</span><span class="token punctuation">,</span>
  limit<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  marker<span class="token operator">:</span> <span class="token punctuation">{</span> ledger<span class="token operator">:</span> <span class="token number">17832370</span><span class="token punctuation">,</span> seq<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  transactions<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> meta<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> tx<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> validated<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> meta<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> tx<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> validated<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> meta<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> tx<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> validated<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_4-6-7-remote-rpcaccountrelation-params-irpcaccountrelationoptions-获取账户关系" tabindex="-1">4.6.7 Remote.rpcAccountRelation(params: IRpcAccountRelationOptions) 获取账户关系 <a class="header-anchor" href="#_4-6-7-remote-rpcaccountrelation-params-irpcaccountrelationoptions-获取账户关系" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRpcAccountRelationOptions</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token builtin">string</span>
  ledger_index<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;validated&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;closed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;current&quot;</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  ledger_hash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  strict<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  peer<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  marker<span class="token operator">?</span><span class="token operator">:</span> IMarker
<span class="token punctuation">}</span>
</code></pre></div><p>等价</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getAccountRelation</span><span class="token punctuation">(</span>address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcAccountRelationOptions <span class="token operator">=</span> <span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">rpcAccountRelation</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>params<span class="token punctuation">,</span> account<span class="token operator">:</span> address<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>参数说明</summary><table><thead><tr><th>参数</th><th>类型</th><th>解析</th></tr></thead><tbody><tr><td>account</td><td>string</td><td>指定账户, 地址</td></tr><tr><td>ledger_index</td><td>Uint/string</td><td>可选参数, 指定账本,&quot;validated&quot;,&quot;closed&quot;,&quot;current&quot;或区块编号</td></tr><tr><td>ledger_hash</td><td>string</td><td>可选参数, 指定账本, 区块哈希</td></tr><tr><td>strict</td><td>boolean</td><td>可选参数, 严格模式，account 要求地址或公钥</td></tr><tr><td>peer</td><td>string</td><td>可选参数, 第二个账户的地址，如果提供，则只显示连接这两个账户之间的 relation</td></tr><tr><td>marker</td><td>IMarker</td><td>可选参数，分页相关</td></tr></tbody></table></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcAccountRelation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
  ledger_current_index<span class="token operator">:</span> <span class="token number">17867635</span><span class="token punctuation">,</span>
  lines<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JSLASH&#39;</span><span class="token punctuation">,</span>
      issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      limit<span class="token operator">:</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>
      limit_peer<span class="token operator">:</span> <span class="token string">&#39;j3vyFAMQW2Ls48eoFCTsMXFq2KNWVUskSx&#39;</span><span class="token punctuation">,</span>
      relation_type<span class="token operator">:</span> <span class="token string">&#39;1&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;CNY&#39;</span><span class="token punctuation">,</span>
      issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      limit<span class="token operator">:</span> <span class="token string">&#39;0.1&#39;</span><span class="token punctuation">,</span>
      limit_peer<span class="token operator">:</span> <span class="token string">&#39;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&#39;</span><span class="token punctuation">,</span>
      relation_type<span class="token operator">:</span> <span class="token string">&#39;3&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h2 id="_5-错误处理" tabindex="-1">5 错误处理 <a class="header-anchor" href="#_5-错误处理" aria-hidden="true">#</a></h2><p>所有 rpc 交互都是通过 axios 进行的，返回<code>Promise</code>, 不成功时抛出<code>Exception</code></p><h3 id="_5-1-rpcerror-对象" tabindex="-1">5.1 RpcError 对象 <a class="header-anchor" href="#_5-1-rpcerror-对象" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>当 Remote 与节点 rpc 交互时，如果出现错误就会抛出 RpcError</p><ul><li>包含 axios 请求的各种错误</li><li>包括 axios 应答的各种错误</li><li>包括 rpc 应答中<code>status</code>不是<code>success</code>时</li></ul><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">RpcError</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> error
  <span class="token keyword">public</span> error_code
  <span class="token keyword">public</span> error_message
  <span class="token keyword">public</span> status
  <span class="token function">constructor</span><span class="token punctuation">(</span>inst<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> inst<span class="token punctuation">.</span>status <span class="token operator">||</span> <span class="token string">&quot;error&quot;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>error <span class="token operator">=</span> inst<span class="token punctuation">.</span>error <span class="token operator">||</span> <span class="token string">&quot;axiosIssue&quot;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>error_code <span class="token operator">=</span> inst<span class="token punctuation">.</span>error_code <span class="token operator">||</span> <span class="token operator">-</span><span class="token number">9999</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>error_message <span class="token operator">=</span> inst<span class="token punctuation">.</span>message <span class="token operator">||</span> inst<span class="token punctuation">.</span>error_message <span class="token operator">||</span> <span class="token string">&quot;axios Issue.&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div><h3 id="_5-2-axios-请求错误-生成-rpcerror-对象" tabindex="-1">5.2 axios 请求错误 生成 RpcError 对象 <a class="header-anchor" href="#_5-2-axios-请求错误-生成-rpcerror-对象" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>包括 请求方法，参数(钱包地址)校验</p></div><details class="details custom-block"><summary>实例化 RpcError</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">getAccountInfo</span><span class="token punctuation">(</span><span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bGwrongaddress&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> RpcError <span class="token punctuation">{</span>
  status<span class="token operator">:</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>
  error<span class="token operator">:</span> <span class="token string">&#39;validationError&#39;</span><span class="token punctuation">,</span>
  error_code<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">8888</span><span class="token punctuation">,</span>
  error_message<span class="token operator">:</span> <span class="token string">&#39;invalid account specified&#39;</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h3 id="_5-3-axios-应答错误-生成-rpcerror-对象" tabindex="-1">5.3 axios 应答错误 生成 RpcError 对象 <a class="header-anchor" href="#_5-3-axios-应答错误-生成-rpcerror-对象" aria-hidden="true">#</a></h3><details class="details custom-block"><summary>实例化 RpcError</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://aixos.exception.example:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> RpcError <span class="token punctuation">{</span>
  status<span class="token operator">:</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>
  error<span class="token operator">:</span> <span class="token string">&#39;axiosIssue&#39;</span><span class="token punctuation">,</span>
  error_code<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">9999</span><span class="token punctuation">,</span>
  error_message<span class="token operator">:</span> <span class="token string">&#39;getaddrinfo ENOTFOUND aixos.exception.example&#39;</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h3 id="_5-4-rpc-应答错误-生成-rpcerror-对象" tabindex="-1">5.4 rpc 应答错误 生成 RpcError 对象 <a class="header-anchor" href="#_5-4-rpc-应答错误-生成-rpcerror-对象" aria-hidden="true">#</a></h3><details class="details custom-block"><summary>实例化 RpcError</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">rpcAccountInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> RpcError <span class="token punctuation">{</span>
  status<span class="token operator">:</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>
  error<span class="token operator">:</span> <span class="token string">&#39;invalidParams&#39;</span><span class="token punctuation">,</span>
  error_code<span class="token operator">:</span> <span class="token number">29</span><span class="token punctuation">,</span>
  error_message<span class="token operator">:</span> <span class="token string">&quot;Missing field &#39;account&#39;.&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h2 id="_6-派生调用" tabindex="-1">6 派生调用 <a class="header-anchor" href="#_6-派生调用" aria-hidden="true">#</a></h2><p>派生调用是运用 rpc 交互实现一些方便的功能，或者尝试使用其它库相似/一致的方式来实现</p><h3 id="_6-1-方便调用" tabindex="-1">6.1 方便调用 <a class="header-anchor" href="#_6-1-方便调用" aria-hidden="true">#</a></h3><h4 id="_6-1-1-remote-getaccountbalance-address-string-账户余额" tabindex="-1">6.1.1 Remote.getAccountBalance(address: string) 账户余额 <a class="header-anchor" href="#_6-1-1-remote-getaccountbalance-address-string-账户余额" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">调用</p><div class="language-javascript"><pre><code><span class="token keyword">await</span> Remote<span class="token punctuation">.</span><span class="token function">rpcAccountInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> account<span class="token operator">:</span> address <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> Remote<span class="token punctuation">.</span><span class="token function">rpcAccountLines</span><span class="token punctuation">(</span><span class="token punctuation">{</span> account<span class="token operator">:</span> address <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> Remote<span class="token punctuation">.</span><span class="token function">rpcAccountRelation</span><span class="token punctuation">(</span><span class="token punctuation">{</span> account<span class="token operator">:</span> address <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> Remote<span class="token punctuation">.</span><span class="token function">rpcAccountOffers</span><span class="token punctuation">(</span><span class="token punctuation">{</span> account<span class="token operator">:</span> address <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">getAccountBalances</span><span class="token punctuation">(</span><span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  balances<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">62.07996</span><span class="token punctuation">,</span> currency<span class="token operator">:</span> <span class="token string">&#39;SWT&#39;</span><span class="token punctuation">,</span> issuer<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> freezed<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      value<span class="token operator">:</span> <span class="token string">&#39;60.798&#39;</span><span class="token punctuation">,</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JSLASH&#39;</span><span class="token punctuation">,</span>
      issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      freezed<span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      value<span class="token operator">:</span> <span class="token string">&#39;6&#39;</span><span class="token punctuation">,</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JCALL&#39;</span><span class="token punctuation">,</span>
      issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      freezed<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  sequence<span class="token operator">:</span> <span class="token number">121</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_6-1-2-remote-getaccountsequence-address-string-账户序号" tabindex="-1">6.1.2 Remote.getAccountSequence(address: string) 账户序号 <a class="header-anchor" href="#_6-1-2-remote-getaccountsequence-address-string-账户序号" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">调用</p><div class="language-javascript"><pre><code><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">await</span> Remote<span class="token punctuation">.</span><span class="token function">rpcAccountInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> account<span class="token operator">:</span> address <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>account_data<span class="token punctuation">.</span>Sequence
</code></pre></div></div><h4 id="_6-1-3-remote-submit-tx-blob-string-提交单签事务" tabindex="-1">6.1.3 Remote.submit(tx_blob: string) 提交单签事务 <a class="header-anchor" href="#_6-1-3-remote-submit-tx-blob-string-提交单签事务" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">调用</p><div class="language-javascript"><pre><code><span class="token keyword">return</span> Remote<span class="token punctuation">.</span><span class="token function">rpcSubmit</span><span class="token punctuation">(</span><span class="token punctuation">{</span> tx_blog <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div><h4 id="_6-1-4-remote-submitmultisigned-tx-json-object-提交多签事务" tabindex="-1">6.1.4 Remote.submitMultisigned(tx_json: object) 提交多签事务 <a class="header-anchor" href="#_6-1-4-remote-submitmultisigned-tx-json-object-提交多签事务" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">调用</p><div class="language-javascript"><pre><code><span class="token keyword">return</span> Remote<span class="token punctuation">.</span><span class="token function">rpcSubmitMultisigned</span><span class="token punctuation">(</span><span class="token punctuation">{</span> tx_json <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div><h3 id="_6-2-其它查询相关" tabindex="-1">6.2 其它查询相关 <a class="header-anchor" href="#_6-2-其它查询相关" aria-hidden="true">#</a></h3><h4 id="_6-2-1-remote-getaccountinfo-address-string-params-irpcaccountinfooptions-account-账户基本信息" tabindex="-1">6.2.1 Remote.getAccountInfo(address: string, params: IRpcAccountInfoOptions = {account: &quot;&quot;}) 账户基本信息 <a class="header-anchor" href="#_6-2-1-remote-getaccountinfo-address-string-params-irpcaccountinfooptions-account-账户基本信息" aria-hidden="true">#</a></h4><p>等价 <code>Remote.rpcAccountInfo(params)</code></p><h4 id="_6-2-2-remote-getaccountoffers-address-string-params-irpcaccountoffersoptions-account-账户挂单" tabindex="-1">6.2.2 Remote.getAccountOffers(address: string, params: IRpcAccountOffersOptions = {account: &quot;&quot;}) 账户挂单 <a class="header-anchor" href="#_6-2-2-remote-getaccountoffers-address-string-params-irpcaccountoffersoptions-account-账户挂单" aria-hidden="true">#</a></h4><p>等价 <code>Remote.rpcAccountOffers(params)</code></p><h4 id="_6-2-3-remote-getaccounttrusts-address-string-账户信任" tabindex="-1">6.2.3 Remote.getAccountTrusts(address: string) 账户信任 <a class="header-anchor" href="#_6-2-3-remote-getaccounttrusts-address-string-账户信任" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">调用</p><div class="language-javascript"><pre><code><span class="token keyword">return</span> Remote<span class="token punctuation">.</span><span class="token function">rpcAccountLines</span><span class="token punctuation">(</span><span class="token punctuation">{</span> account<span class="token operator">:</span> address <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div><h4 id="_6-2-4-remote-getaccountrelation-address-string-params-irpcaccountrelationoptions-account-账户关系" tabindex="-1">6.2.4 Remote.getAccountRelation(address: string, params: IRpcAccountRelationOptions = {account: &quot;&quot;}) 账户关系 <a class="header-anchor" href="#_6-2-4-remote-getaccountrelation-address-string-params-irpcaccountrelationoptions-account-账户关系" aria-hidden="true">#</a></h4><p>等价 <code>Remote.rpcAccountRelation(params)</code></p><h4 id="_6-2-5-remote-getaccounttx-address-string-params-irpcaccounttxoptions-account-账户事务" tabindex="-1">6.2.5 Remote.getAccountTx(address: string, params: IRpcAccountTxOptions = {account: &quot;&quot;}) 账户事务 <a class="header-anchor" href="#_6-2-5-remote-getaccounttx-address-string-params-irpcaccounttxoptions-account-账户事务" aria-hidden="true">#</a></h4><p>等价 <code>Remote.rpcAccountTx(params)</code></p><h4 id="_6-2-6-remote-getbrokerage-address-string-params-irpcfeeinfooptions-account-挂单佣金" tabindex="-1">6.2.6 Remote.getBrokerage(address: string, params: IRpcFeeInfoOptions = { account: &quot;&quot;}) 挂单佣金 <a class="header-anchor" href="#_6-2-6-remote-getbrokerage-address-string-params-irpcfeeinfooptions-account-挂单佣金" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">调用</p><div class="language-javascript"><pre><code><span class="token keyword">return</span> Remote<span class="token punctuation">.</span><span class="token function">rpcFeeInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>params<span class="token punctuation">,</span> account<span class="token operator">:</span> address <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div><h2 id="_7-写入事务" tabindex="-1">7 写入事务 <a class="header-anchor" href="#_7-写入事务" aria-hidden="true">#</a></h2><h3 id="_7-0-连接-swtc-transaction" tabindex="-1">7.0 连接@swtc/transaction <a class="header-anchor" href="#_7-0-连接-swtc-transaction" aria-hidden="true">#</a></h3><h4 id="_7-0-1-remote-rpcaccountinfo" tabindex="-1">7.0.1 Remote.rpcAccountInfo() <a class="header-anchor" href="#_7-0-1-remote-rpcaccountinfo" aria-hidden="true">#</a></h4><h4 id="_7-0-2-remote-rpcsubmit" tabindex="-1">7.0.2 Remote.rpcSubmit() <a class="header-anchor" href="#_7-0-2-remote-rpcsubmit" aria-hidden="true">#</a></h4><h4 id="_7-0-3-remote-rpcsubmitmultisigned" tabindex="-1">7.0.3 Remote.rpcSubmitMultisigned() <a class="header-anchor" href="#_7-0-3-remote-rpcsubmitmultisigned" aria-hidden="true">#</a></h4><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>通过 rpc 调用已经连通 @swtc/transaction</p><p>下面都是 <code>Transaction</code> 的简单调用</p></div><h3 id="_7-1-写入相关-单签" tabindex="-1">7.1 写入相关 - 单签 <a class="header-anchor" href="#_7-1-写入相关-单签" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">事务 (和 lib/api Remote 表现一致)</p><p>buildXyzTx(options) 生成 (@swtc/transaction).Transaction 实例 tx</p><p>使用 tx.submitPromise([secret[, memo[, sequence]]])提交</p><p>单签也可以分步骤:</p><ul><li><code>tx.setSequence(sequence)</code> 或者 <code>tx._setSequencePromise()</code></li><li><code>tx.addMemo(memo)</code></li><li><code>tx.signPromise(secret)</code></li></ul></div><h4 id="_7-1-1-remote-buildpaymenttx-options-ipaymenttxoptions-支付" tabindex="-1">7.1.1 Remote.buildPaymentTx(options: IPaymentTxOptions) 支付 <a class="header-anchor" href="#_7-1-1-remote-buildpaymenttx-options-ipaymenttxoptions-支付" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">IPaymentTxOptions</span> <span class="token punctuation">{</span>
  amount<span class="token operator">:</span> IAmount
  source<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  from<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  account<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  destination<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  to<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  memo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  secret<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  invoice<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  sequence<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildPaymentTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>from<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">&quot;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&quot;</span><span class="token punctuation">,</span> amount<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;payment tx demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;1200002200000000240000006E6140000000000027106840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E157447304502210098FF76746D03A50D671FDBC09046E05ED163C2A5C01BD13AEF2512A7A4EDF4E302203D27A795D0E4271336612E9DB92384C65B99255765B1240F2F179217B27CED2281141359AA928F4D98FDB3D93E8B690C80D37DED11C38314054FADDC8595E2950FA43F673F65C2009F58C7F1F9EA7D0F7061796D656E742074782064656D6FE1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Amount<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
    Destination<span class="token operator">:</span> <span class="token string">&#39;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">110</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
    TxnSignature<span class="token operator">:</span> <span class="token string">&#39;304502210098FF76746D03A50D671FDBC09046E05ED163C2A5C01BD13AEF2512A7A4EDF4E302203D27A795D0E4271336612E9DB92384C65B99255765B1240F2F179217B27CED22&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;1BA252F38A64DDF3E729E4FB84675403D664AA71C7EB97837D3EC96F7DCC9513&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_7-1-2-remote-buildoffercreatetx-options-ioffercreatetxoptions-挂单" tabindex="-1">7.1.2 Remote.buildOfferCreateTx(options: IOfferCreateTxOptions) 挂单 <a class="header-anchor" href="#_7-1-2-remote-buildoffercreatetx-options-ioffercreatetxoptions-挂单" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">IOfferCreateTxOptions</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token builtin">string</span>
  source<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  from<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  account<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  gets<span class="token operator">?</span><span class="token operator">:</span> IAmount
  pays<span class="token operator">?</span><span class="token operator">:</span> IAmount
  taker_gets<span class="token operator">?</span><span class="token operator">:</span> IAmount
  taker_pays<span class="token operator">?</span><span class="token operator">:</span> IAmount
  platform<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span>
  memo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  secret<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  sequence<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildOfferCreateTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">...</span> type<span class="token operator">:</span> <span class="token string">&#39;Sell&#39;</span><span class="token punctuation">,</span>
<span class="token operator">...</span> account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
<span class="token operator">...</span> taker_pays<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">...</span> taker_gets<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token string">&quot;slash&quot;</span><span class="token punctuation">)</span>
<span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;payment tx demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;120007220008000024000000706440000000000F424065D4038D7EA4C680000000000000000000004A534C4153480000000000A582E432BFC48EEDEF852C814EC57F3CD2D415966840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E1574473045022100DF3A6A51BBE9C3D87C9923DE59C59D443A58A78254DB99881A2BE095D3C1B3C6022009947792ADA2E6FFB920D73E1E98331BE07DA55786251937B36536A8A4EBD15C81141359AA928F4D98FDB3D93E8B690C80D37DED11C3F9EA7D0F7061796D656E742074782064656D6FE1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">524288</span><span class="token punctuation">,</span>
    Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">112</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
    TakerGets<span class="token operator">:</span> <span class="token punctuation">{</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JSLASH&#39;</span><span class="token punctuation">,</span>
      issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;0.01&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    TakerPays<span class="token operator">:</span> <span class="token string">&#39;1000000&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;OfferCreate&#39;</span><span class="token punctuation">,</span>
    TxnSignature<span class="token operator">:</span> <span class="token string">&#39;3045022100DF3A6A51BBE9C3D87C9923DE59C59D443A58A78254DB99881A2BE095D3C1B3C6022009947792ADA2E6FFB920D73E1E98331BE07DA55786251937B36536A8A4EBD15C&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;27BE735F6D1A226A67821EDE68270B21F09A9DEDCEA2B018A3EBE341E28829B4&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_7-1-3-remote-buildoffercanceltx-options-ioffercanceltxoptions-取消挂单" tabindex="-1">7.1.3 Remote.buildOfferCancelTx(options: IOfferCancelTxOptions) 取消挂单 <a class="header-anchor" href="#_7-1-3-remote-buildoffercanceltx-options-ioffercanceltxoptions-取消挂单" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IOfferCancelTxOptions</span> <span class="token punctuation">{</span>
  sequence<span class="token operator">:</span> <span class="token builtin">number</span>
  source<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  from<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  account<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  memo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  secret<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildOfferCancelTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">...</span> account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
<span class="token operator">...</span> sequence<span class="token operator">:</span> <span class="token number">112</span>
<span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> tx<span class="token punctuation">.</span>tx_json
<span class="token punctuation">{</span>
  Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  Fee<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  TransactionType<span class="token operator">:</span> <span class="token string">&#39;OfferCancel&#39;</span><span class="token punctuation">,</span>
  Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
  OfferSequence<span class="token operator">:</span> <span class="token number">112</span>
<span class="token punctuation">}</span>
<span class="token operator">&gt;</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;120008220000000024000000712019000000706840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E157446304402200B73C7069C8AEA5A676393940870FB6FC0A480264B2751AB30841D26FD0F48C002202B7D1EE21D3501064112F2A503058E2967DC3D448D813CD1D2BCBDEC8C33493881141359AA928F4D98FDB3D93E8B690C80D37DED11C3&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    OfferSequence<span class="token operator">:</span> <span class="token number">112</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">113</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;OfferCancel&#39;</span><span class="token punctuation">,</span>
    TxnSignature<span class="token operator">:</span> <span class="token string">&#39;304402200B73C7069C8AEA5A676393940870FB6FC0A480264B2751AB30841D26FD0F48C002202B7D1EE21D3501064112F2A503058E2967DC3D448D813CD1D2BCBDEC8C334938&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;6687AB600DC12F13897582BAA62CE5304068D77E725A4C6DDDC9EF6CE8A9DE78&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_7-1-4-remote-buildrelationtx-options-irelationtxoptions-信任-授权-冻结" tabindex="-1">7.1.4 Remote.buildRelationTx(options: IRelationTxOptions) 信任/授权/冻结 <a class="header-anchor" href="#_7-1-4-remote-buildrelationtx-options-irelationtxoptions-信任-授权-冻结" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">IRelationTxOptions</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;trust&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;authorize&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;freeze&quot;</span>
  source<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  from<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  account<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  target<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  limit<span class="token operator">:</span> IAmount
  quality_out<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span>
  quality_in<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span>
  memo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  secret<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  sequence<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">buildRelationTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">...</span> account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
<span class="token operator">...</span> target<span class="token operator">:</span> <span class="token string">&#39;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&#39;</span><span class="token punctuation">,</span>
<span class="token operator">...</span> limit<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token string">&quot;slash&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">...</span> type<span class="token operator">:</span> <span class="token string">&quot;authorize&quot;</span>
<span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;授权&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;1200152200000000240000007220230000000163D4438D7EA4C680000000000000000000004A534C4153480000000000A582E432BFC48EEDEF852C814EC57F3CD2D415966840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E1574473045022100E3EC883EAC255018DEAC561D182F0DED824E9301BF56BC30292414F7835398D3022042807AFD74DC4BBF54A65BAB57B34D14F2012D028A1E32E9BB32A3A13EEDEBAD81141359AA928F4D98FDB3D93E8B690C80D37DED11C38714054FADDC8595E2950FA43F673F65C2009F58C7F1F9EA7D06E68E88E69D83E1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    LimitAmount<span class="token operator">:</span> <span class="token punctuation">{</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JSLASH&#39;</span><span class="token punctuation">,</span>
      issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;0.1&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    RelationType<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">114</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
    Target<span class="token operator">:</span> <span class="token string">&#39;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;RelationSet&#39;</span><span class="token punctuation">,</span>
    TxnSignature<span class="token operator">:</span> <span class="token string">&#39;3045022100E3EC883EAC255018DEAC561D182F0DED824E9301BF56BC30292414F7835398D3022042807AFD74DC4BBF54A65BAB57B34D14F2012D028A1E32E9BB32A3A13EEDEBAD&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;7C9D297C1F13FE45FAAF34CA6DCD97593BB40D6761B7F9174B54BB8AE207490F&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">buildRelationTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">...</span> account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
<span class="token operator">...</span> limit<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">,</span> <span class="token string">&quot;slash&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">...</span> type<span class="token operator">:</span> <span class="token string">&quot;trust&quot;</span>
<span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;信任&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;1200142200000000240000007263D5838D7EA4C680000000000000000000004A534C4153480000000000A582E432BFC48EEDEF852C814EC57F3CD2D415966840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E157446304402200DB5BB2B331C27A6322866934B443F01D4105D2DE2AE01149AEA2F09E85ABDFA0220225963707BF00C712C2AA92381E94D33136D225BCCAEBDC2453AD93163A5286881141359AA928F4D98FDB3D93E8B690C80D37DED11C3F9EA7D06E4BFA1E4BBBBE1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    LimitAmount<span class="token operator">:</span> <span class="token punctuation">{</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JSLASH&#39;</span><span class="token punctuation">,</span>
      issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">114</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;TrustSet&#39;</span><span class="token punctuation">,</span>
    TxnSignature<span class="token operator">:</span> <span class="token string">&#39;304402200DB5BB2B331C27A6322866934B443F01D4105D2DE2AE01149AEA2F09E85ABDFA0220225963707BF00C712C2AA92381E94D33136D225BCCAEBDC2453AD93163A52868&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;4B4B922B63156AFDF5DB4241F67601E67A35F290032B274ABAD9FFBC2314572D&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_7-1-5-remote-buildaccountsettx-options-iaccountsettxoptions-帐号属性" tabindex="-1">7.1.5 Remote.buildAccountSetTx(options: IAccountSetTxOptions) 帐号属性 <a class="header-anchor" href="#_7-1-5-remote-buildaccountsettx-options-iaccountsettxoptions-帐号属性" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">IAccountSetTxOptions</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;property&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;delegate&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;signer&quot;</span>
  source<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  from<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  account<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  set<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  set_flag<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  clear<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  clear_flag<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  delegate_key<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  memo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  secret<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  sequence<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div></div></details><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildAccountSetTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">...</span> account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
<span class="token operator">...</span> type<span class="token operator">:</span><span class="token string">&#39;property&#39;</span>
<span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;120003220000000024000000736840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E157446304402207E0514A928B7CBB6662815A835B8B7EDE04397867AF501DB8764BC8CECF74B5D0220357CA75B9EBB0A782099CC4340EEBB1FCA8951B165F2F732ACFADDA462DD6A6981141359AA928F4D98FDB3D93E8B690C80D37DED11C3&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">115</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;AccountSet&#39;</span><span class="token punctuation">,</span>
    TxnSignature<span class="token operator">:</span> <span class="token string">&#39;304402207E0514A928B7CBB6662815A835B8B7EDE04397867AF501DB8764BC8CECF74B5D0220357CA75B9EBB0A782099CC4340EEBB1FCA8951B165F2F732ACFADDA462DD6A69&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;F2BD8774F1816A0957D74AC42975A9AF6CFC94152D671D9756D732418E49DD90&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_7-1-6-remote-buildbrokeragetx-options-挂单佣金" tabindex="-1">7.1.6 Remote.buildBrokerageTx(options) 挂单佣金 <a class="header-anchor" href="#_7-1-6-remote-buildbrokeragetx-options-挂单佣金" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">IBrokerageTxOptions</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token builtin">string</span>
  address<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  feeAccount<span class="token operator">:</span> <span class="token builtin">string</span>
  mol<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  molecule<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  den<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  denominator<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  amount<span class="token operator">:</span> IAmount
  memo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  secret<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  sequence<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildBrokerageTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">...</span> account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
<span class="token operator">...</span> mol<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
<span class="token operator">...</span> den<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
<span class="token operator">...</span> feeAccount<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
<span class="token operator">...</span> amount<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;slash&quot;</span><span class="token punctuation">)</span>
<span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">undefined</span>
<span class="token operator">&gt;</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;1200CD2200000000240000007439000000000000000A3A00000000000003E861D48AA87BEE5380000000000000000000004A534C4153480000000000A582E432BFC48EEDEF852C814EC57F3CD2D415966840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E157447304502210091F0DBF8C80E53F93C1D7E9898CB96E00AE5F1CB5B68A20828E31807B1333A920220047F13F40B05AFB1CCC7EA0670FF3840F3ADD4CB442929650A63FB487335ECEB81141359AA928F4D98FDB3D93E8B690C80D37DED11C389141359AA928F4D98FDB3D93E8B690C80D37DED11C3&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Amount<span class="token operator">:</span> <span class="token punctuation">{</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JSLASH&#39;</span><span class="token punctuation">,</span>
      issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;3&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
    FeeAccountID<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    OfferFeeRateDen<span class="token operator">:</span> <span class="token string">&#39;00000000000003E8&#39;</span><span class="token punctuation">,</span>
    OfferFeeRateNum<span class="token operator">:</span> <span class="token string">&#39;000000000000000A&#39;</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">116</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;Brokerage&#39;</span><span class="token punctuation">,</span>
    TxnSignature<span class="token operator">:</span> <span class="token string">&#39;304502210091F0DBF8C80E53F93C1D7E9898CB96E00AE5F1CB5B68A20828E31807B1333A920220047F13F40B05AFB1CCC7EA0670FF3840F3ADD4CB442929650A63FB487335ECEB&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;67506B732F4298F731EF6FF32BAB3DB19AB6D75607556828B56B308B14599026&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h3 id="_7-2-写入相关-多签" tabindex="-1">7.2 写入相关 - 多签 <a class="header-anchor" href="#_7-2-写入相关-多签" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">事务 (和 lib/api Remote 表现一致)</p><p>buildXyzTx(options) 生成 单签(@swtc/transaction).Transaction 实例 tx</p><p>但是签名是由预先设置好的多个账户进行签名， 达到预设的阈值可以提交到帐本中</p><ul><li>账户设置</li><li>创建单签事务 tx = Remote.buildXyzTx(options)</li><li>设置 sequence tx._setSequencePromise()</li><li>设置足够的燃料 tx.setFee()</li><li>分发并收集签名 tx.multiSigning()</li><li>组装 tx.multiSigned()</li></ul><p>多签应该本地签好/组装好</p><p>使用 tx.submitPromise()提交</p></div><h4 id="_7-2-0-remote-buildtx-tx-json-object-可以组装事务" tabindex="-1">7.2.0 Remote.buildTx(tx_json: object) 可以组装事务 <a class="header-anchor" href="#_7-2-0-remote-buildtx-tx-json-object-可以组装事务" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>多签过程中需要 传送 <code>tx_json</code>, 可配合重新组装</p><p>等价 <code>Transaction.buildTx(tx_json: object, Remote)</code></p></div><h4 id="_7-2-0-remote-getaccountsignerlist-address-string-params-irpcaccountobjectsoptions-account-查询账户设置" tabindex="-1">7.2.0 Remote.getAccountSignerList(address: string, params: IRpcAccountObjectsOptions = {account: &quot;&quot;}) 查询账户设置 <a class="header-anchor" href="#_7-2-0-remote-getaccountsignerlist-address-string-params-irpcaccountobjectsoptions-account-查询账户设置" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">调用</p><div class="language-typescript"><pre><code><span class="token keyword">public</span> <span class="token function">getAccountSignerList</span><span class="token punctuation">(</span>address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> IRpcAccountObjectsOptions <span class="token operator">=</span> <span class="token punctuation">{</span>account<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAccountObjects</span><span class="token punctuation">(</span>address<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">...</span>params<span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;SignerList&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtclib.ca:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">getAccountSignerList</span><span class="token punctuation">(</span><span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
  account_objects<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;SignerList&#39;</span><span class="token punctuation">,</span>
      OwnerNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
      PreviousTxnID<span class="token operator">:</span> <span class="token string">&#39;5917B3F760BFC0F5BFE5EF5EAE2642FDEE6908606E37FE76561C7A7F137B76C9&#39;</span><span class="token punctuation">,</span>
      PreviousTxnLgrSeq<span class="token operator">:</span> <span class="token number">15203720</span><span class="token punctuation">,</span>
      SignerEntries<span class="token operator">:</span> <span class="token punctuation">[</span>Array<span class="token punctuation">]</span><span class="token punctuation">,</span>
      SignerQuorum<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      index<span class="token operator">:</span> <span class="token string">&#39;4A017344F9068871DC873D548052FFFF7271B86DDEB68AA93A515A5D0228BC21&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  ledger_current_index<span class="token operator">:</span> <span class="token number">17881328</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
<span class="token operator">&gt;</span> remote<span class="token punctuation">.</span><span class="token function">getAccountSignerList</span><span class="token punctuation">(</span><span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>account_objects<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>SignerEntries<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    SignerEntry<span class="token operator">:</span> <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jfdqBEDsbk3eMSXX2t7CGeu2RPkEjHs6ie&#39;</span><span class="token punctuation">,</span> SignerWeight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    SignerEntry<span class="token operator">:</span> <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&#39;</span><span class="token punctuation">,</span> SignerWeight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></details><h4 id="_7-2-1-remote-buildsignerlisttx-options-isignerlisttxoptions-更新账户设置" tabindex="-1">7.2.1 Remote.buildSignerListTx(options: ISignerListTxOptions) 更新账户设置 <a class="header-anchor" href="#_7-2-1-remote-buildsignerlisttx-options-isignerlisttxoptions-更新账户设置" aria-hidden="true">#</a></h4><div class="warning custom-block"><p class="custom-block-title">废止主密钥</p><p>通常情况下， 启用多签的账户应该废止主密钥</p><p>可以通过 <code>Remote.buildAccountSetTx({account, type: &quot;property&quot;, set_flag: 4}).submitPromise()</code></p></div><div class="tip custom-block"><p class="custom-block-title">参数</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">ISignerListTxOptions</span> <span class="token punctuation">{</span>
  lists<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  account<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  address<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  threshold<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token keyword">const</span> <span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token parameter">timeout</span> <span class="token operator">=&gt;</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> timeout <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Remote <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/rpc&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> Wallet <span class="token operator">=</span> Remote<span class="token punctuation">.</span>Wallet

<span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span> server<span class="token operator">:</span> <span class="token string">&quot;http://swtcnode:5050&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> wallet <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> wallet_ec <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;shVCQFSxkF7DLXkrHY8X2PBKCKxS9&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> wallet_ed <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;sEdTJSpen5J8ZA7H4cVGDF6oSSLLW2Y&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> wallet_nosign <span class="token operator">=</span> <span class="token string">&quot;jHb9CJAWyB4jr91VRWn96DkukG4bwdtyTh&quot;</span>
<span class="token keyword">const</span> wallet_to <span class="token operator">=</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span>

<span class="token keyword">const</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildSignerListTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  account<span class="token operator">:</span> wallet<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
  threshold<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  lists<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> account<span class="token operator">:</span> wallet_ec<span class="token punctuation">.</span>address<span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> account<span class="token operator">:</span> wallet_ed<span class="token punctuation">.</span>address<span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> account<span class="token operator">:</span> wallet_nosign<span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>

<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> remote<span class="token punctuation">.</span><span class="token function">getAccountSignerList</span><span class="token punctuation">(</span>wallet<span class="token punctuation">.</span>address<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;===========before===========&quot;</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>account_objects<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>SignerEntries<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;===========update===========&quot;</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span>wallet<span class="token punctuation">.</span>secret<span class="token punctuation">)</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;===========sleeping===========&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;===========after===========&quot;</span><span class="token punctuation">)</span>
  result <span class="token operator">=</span> <span class="token keyword">await</span> remote<span class="token punctuation">.</span><span class="token function">getAccountSignerList</span><span class="token punctuation">(</span>wallet<span class="token punctuation">.</span>address<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>account_objects<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>SignerEntries<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>输出</p><div class="language-javascript"><pre><code><span class="token punctuation">{</span>
  Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  Fee<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  SignerEntries<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> SignerEntry<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> SignerEntry<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> SignerEntry<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  TransactionType<span class="token operator">:</span> <span class="token string">&#39;SignerListSet&#39;</span><span class="token punctuation">,</span>
  Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
  SignerQuorum<span class="token operator">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span>
<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>before<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>
<span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    SignerEntry<span class="token operator">:</span> <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jfdqBEDsbk3eMSXX2t7CGeu2RPkEjHs6ie&#39;</span><span class="token punctuation">,</span> SignerWeight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    SignerEntry<span class="token operator">:</span> <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&#39;</span><span class="token punctuation">,</span> SignerWeight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>update<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>
<span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;1200CF220000000024000000752026000000056840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E157446304402205A2638F015DEA84EA23B609423545BAB51C3B3A3AD87644B55C63A6FFAEE23CD022001E2E0E39F0E3410F07F64088509C0047374C76BFBAE02295E61EF8DF32F181681141359AA928F4D98FDB3D93E8B690C80D37DED11C3FBEC130003811448C7F1F5E9D4D0FC0D3F16F1606ACCCFB8D51463E1EC13000381144B0DECFADE9D4170260CD5BA9EC1CF065CA88946E1EC1300038114B5F762798A53D543A014CAF8B297CFF8F2F937E8E1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">117</span><span class="token punctuation">,</span>
    SignerEntries<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    SignerQuorum<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;SignerListSet&#39;</span><span class="token punctuation">,</span>
    TxnSignature<span class="token operator">:</span> <span class="token string">&#39;304402205A2638F015DEA84EA23B609423545BAB51C3B3A3AD87644B55C63A6FFAEE23CD022001E2E0E39F0E3410F07F64088509C0047374C76BFBAE02295E61EF8DF32F1816&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;20CC980EDC53BD8D0BB8C10422147A27C3037CBB5A292A0750C8E8ED29325477&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>sleeping<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>
<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>after<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>
<span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    SignerEntry<span class="token operator">:</span> <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jfdqBEDsbk3eMSXX2t7CGeu2RPkEjHs6ie&#39;</span><span class="token punctuation">,</span> SignerWeight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    SignerEntry<span class="token operator">:</span> <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&#39;</span><span class="token punctuation">,</span> SignerWeight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    SignerEntry<span class="token operator">:</span> <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jHb9CJAWyB4jr91VRWn96DkukG4bwdtyTh&#39;</span><span class="token punctuation">,</span> SignerWeight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></details><h4 id="_7-2-2-创建单签-设置序号-费用-memo" tabindex="-1">7.2.2 创建单签 设置序号/费用/memo <a class="header-anchor" href="#_7-2-2-创建单签-设置序号-费用-memo" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">创建事务</p><p><code>组织者</code> 创建常规事务，这里以支付为例。</p><p><code>tx.tx_json</code> 用来传送给多签参与者组装/签名/返回</p><p><code>组织者</code>(简化情况下也可以最后一个签名者) 完成最后组装 提交</p></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@swtc/rpc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> Wallet <span class="token operator">=</span> Remote<span class="token punctuation">.</span>Wallet
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtcnode:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> wallet <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildPaymentTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">...</span> from<span class="token operator">:</span> wallet<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
<span class="token operator">...</span> to<span class="token operator">:</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span><span class="token punctuation">,</span>
<span class="token operator">...</span> amount<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token string">&quot;slash&quot;</span><span class="token punctuation">)</span>
<span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> tx<span class="token punctuation">.</span><span class="token function">_setSequencePromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> tx<span class="token punctuation">.</span><span class="token function">addMemo</span><span class="token punctuation">(</span><span class="token string">&quot;多签示例&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> tx<span class="token punctuation">.</span><span class="token function">setFee</span><span class="token punctuation">(</span><span class="token number">30000</span><span class="token punctuation">)</span>
<span class="token keyword">undefined</span>
<span class="token operator">&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;JSLASH&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;issuer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;多签示例&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">120</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_7-2-3-tx-multisigning-wallet-object-传递-组装-签名-回传" tabindex="-1">7.2.3 tx.multiSigning(wallet: object) 传递/组装/签名/回传 <a class="header-anchor" href="#_7-2-3-tx-multisigning-wallet-object-传递-组装-签名-回传" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>简化流程下， <code>组织者</code> 可以依次传送 tx.tx_json 给多签参与方， 这样不需要手工更新签名</p><ol><li>传送 <code>tx_json</code> 给第一个同意签名者， 完成后收到回传的 <code>tx_json</code>, 此时内容已更新并包含第一个签名</li><li>传送 更新后的<code>tx_json</code> 给下一个同意签名者， 完成后收到回传的 <code>tx_json</code>, 此时内容已更新并包含下一个签名</li><li>依次递推</li></ol></div><details class="details custom-block"><summary>代码示例</summary><p>第一个签名，以收到的 <code>tx_json</code> 组装 tx_first, 签名后 将 <code>tx_first.tx_json</code> 回传 （简化情况下可以直接传递给下一个签名者）</p><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token comment">//const tx_json = `in whatever way you received`</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@swtc/rpc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> Wallet <span class="token operator">=</span> Remote<span class="token punctuation">.</span>Wallet
<span class="token operator">&gt;</span> <span class="token keyword">const</span> Transaction <span class="token operator">=</span> Remote<span class="token punctuation">.</span>Transaction
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtcnode:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> wallet_first <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;shVCQFSxkF7DLXkrHY8X2PBKCKxS9&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">let</span> tx_first <span class="token operator">=</span> Transaction<span class="token punctuation">.</span><span class="token function">buildTx</span><span class="token punctuation">(</span>tx_json<span class="token punctuation">,</span> remote<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> tx_first<span class="token punctuation">.</span><span class="token function">multiSigning</span><span class="token punctuation">(</span>wallet_first<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tx_first<span class="token punctuation">.</span>tx_json<span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">0.03</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;JSLASH&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;issuer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E5A49AE7ADBEE7A4BAE4BE8B&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jfdqBEDsbk3eMSXX2t7CGeu2RPkEjHs6ie&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0261DD84455B92BDFD59C1DB2A5BD9CE1A3AF0FD531A08EEB2EE354C3BB230B878&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100FDF8BEE7A22AAFB43B7862F943B3D2A1AF5A6937602401E07F45564F51A33C0902201C0371A4377234AE70F9A16BC5A44ABB863032544E70F48FFE8E790C05502A4C&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>下一个签名，以收到的 <code>tx_json</code> 组装 tx_next, 签名后 将 <code>tx_next.tx_json</code> 回传 （简化情况下可以直接传递给下下一个签名者）</p><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token comment">//const tx_json = `in whatever way you received`</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@swtc/rpc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> Wallet <span class="token operator">=</span> Remote<span class="token punctuation">.</span>Wallet
<span class="token operator">&gt;</span> <span class="token keyword">const</span> Transaction <span class="token operator">=</span> Remote<span class="token punctuation">.</span>Transaction
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtcnode:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> wallet_next <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;shVCQFSxkF7DLXkrHY8X2PBKCKxS9&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> tx_next <span class="token operator">=</span> Transaction<span class="token punctuation">.</span><span class="token function">buildTx</span><span class="token punctuation">(</span>tx_json<span class="token punctuation">,</span> remote<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> tx_next<span class="token punctuation">.</span><span class="token function">multiSigning</span><span class="token punctuation">(</span>wallet_next<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tx_next<span class="token punctuation">.</span>tx_json<span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;JSLASH&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;issuer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E5A49AE7ADBEE7A4BAE4BE8B&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jfdqBEDsbk3eMSXX2t7CGeu2RPkEjHs6ie&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0261DD84455B92BDFD59C1DB2A5BD9CE1A3AF0FD531A08EEB2EE354C3BB230B878&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100FDF8BEE7A22AAFB43B7862F943B3D2A1AF5A6937602401E07F45564F51A33C0902201C0371A4377234AE70F9A16BC5A44ABB863032544E70F48FFE8E790C05502A4C&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ED68635043BC70DE82272BF5990642400CF79089B2ABCF8EF9D10FFFB96A658763&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;40C4612F3BA50FAEEBA1FB30061CD0D77406BD2AFAAEF02AAC70E9FEAB7A8FF7DB207FFAA4A1F974CF86D383DB1112F543B7BA13E980DA2461ABB6F3EEAB170E&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_7-2-4-tx-multisigned-最后组装-完成" tabindex="-1">7.2.4 tx.multiSigned() 最后组装/完成 <a class="header-anchor" href="#_7-2-4-tx-multisigned-最后组装-完成" aria-hidden="true">#</a></h4><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>组织者</code> 将收到的回传 <code>tx_json</code> 完成最后组装, 正常情况下需要 拷贝/粘贴 签名</p><p>简化流程下最后一个收到的 <code>tx_json</code> 中已经包含所有已经完成的签名</p></div><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token comment">//const tx_json = `in whatever way you received`</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> Remote <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@swtc/rpc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Remote
<span class="token operator">&gt;</span> <span class="token keyword">const</span> Transaction <span class="token operator">=</span> Remote<span class="token punctuation">.</span>Transaction
<span class="token operator">&gt;</span> <span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;http://swtcnode:5050&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> tx_final <span class="token operator">=</span> Transaction<span class="token punctuation">.</span><span class="token function">buildTx</span><span class="token punctuation">(</span>tx_json<span class="token punctuation">,</span> remote<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> tx_final<span class="token punctuation">.</span><span class="token function">multiSigned</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tx_final<span class="token punctuation">.</span>tx_json<span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;JSLASH&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;issuer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E5A49AE7ADBEE7A4BAE4BE8B&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jfdqBEDsbk3eMSXX2t7CGeu2RPkEjHs6ie&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0261DD84455B92BDFD59C1DB2A5BD9CE1A3AF0FD531A08EEB2EE354C3BB230B878&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100FDF8BEE7A22AAFB43B7862F943B3D2A1AF5A6937602401E07F45564F51A33C0902201C0371A4377234AE70F9A16BC5A44ABB863032544E70F48FFE8E790C05502A4C&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ED68635043BC70DE82272BF5990642400CF79089B2ABCF8EF9D10FFFB96A658763&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;40C4612F3BA50FAEEBA1FB30061CD0D77406BD2AFAAEF02AAC70E9FEAB7A8FF7DB207FFAA4A1F974CF86D383DB1112F543B7BA13E980DA2461ABB6F3EEAB170E&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h4 id="_7-2-5-tx-submitpromise-提交" tabindex="-1">7.2.5 tx.submitPromise() 提交 <a class="header-anchor" href="#_7-2-5-tx-submitpromise-提交" aria-hidden="true">#</a></h4><details class="details custom-block"><summary>代码示例</summary><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> tx_final<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
Promise <span class="token punctuation">{</span> <span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;1200002200000000240000007861D4438D7EA4C680000000000000000000004A534C4153480000000000A582E432BFC48EEDEF852C814EC57F3CD2D41596684000000000007530730081141359AA928F4D98FDB3D93E8B690C80D37DED11C38314AF09183A11AA70DA06E115E03B0E5478232740B5F9EA7D0CE5A49AE7ADBEE7A4BAE4BE8BE1F1FCED73210261DD84455B92BDFD59C1DB2A5BD9CE1A3AF0FD531A08EEB2EE354C3BB230B87874473045022100FDF8BEE7A22AAFB43B7862F943B3D2A1AF5A6937602401E07F45564F51A33C0902201C0371A4377234AE70F9A16BC5A44ABB863032544E70F48FFE8E790C05502A4C811448C7F1F5E9D4D0FC0D3F16F1606ACCCFB8D51463E1ED7321ED68635043BC70DE82272BF5990642400CF79089B2ABCF8EF9D10FFFB96A658763744040C4612F3BA50FAEEBA1FB30061CD0D77406BD2AFAAEF02AAC70E9FEAB7A8FF7DB207FFAA4A1F974CF86D383DB1112F543B7BA13E980DA2461ABB6F3EEAB170E81144B0DECFADE9D4170260CD5BA9EC1CF065CA88946E1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Amount<span class="token operator">:</span> <span class="token punctuation">{</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JSLASH&#39;</span><span class="token punctuation">,</span>
      issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;0.1&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Destination<span class="token operator">:</span> <span class="token string">&#39;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;30000&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
    Signers<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;58E8649815D892817168F4B0A30E0BFFC629F76C84FFF7576DDC3CCC5A8537E3&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h3 id="_7-3-写入相关-合约" tabindex="-1">7.3 写入相关 - 合约 <a class="header-anchor" href="#_7-3-写入相关-合约" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">事务 (和 lib/api Remote 表现一致)</p><p>合约需要节点支持</p><p>目前公链上不支持</p></div><h4 id="_7-3-1-remote-buildcontractdeploytx-options-icontractdeploytxoptions-lua-部署" tabindex="-1">7.3.1 Remote.buildContractDeployTx(options: IContractDeployTxOptions) LUA 部署 <a class="header-anchor" href="#_7-3-1-remote-buildcontractdeploytx-options-icontractdeploytxoptions-lua-部署" aria-hidden="true">#</a></h4><h4 id="_7-3-2-remote-buildcontractcalltx-options-icontractcalltxoptions-lua-调用" tabindex="-1">7.3.2 Remote.buildContractCallTx(options: IContractCallTxOptions) LUA 调用 <a class="header-anchor" href="#_7-3-2-remote-buildcontractcalltx-options-icontractcalltxoptions-lua-调用" aria-hidden="true">#</a></h4><h4 id="_7-3-3-remote-buildcontractinittx-options-icontractinittxoptions-solidity-部署" tabindex="-1">7.3.3 Remote.buildContractInitTx(options: IContractInitTxOptions) SOLIDITY 部署 <a class="header-anchor" href="#_7-3-3-remote-buildcontractinittx-options-icontractinittxoptions-solidity-部署" aria-hidden="true">#</a></h4><h4 id="_7-3-4-remote-buildcontractinvoketx-options-icontractinvoketxoptions-solidity-调用" tabindex="-1">7.3.4 Remote.buildContractInvokeTx(options: IContractInvokeTxOptions) SOLIDITY 调用 <a class="header-anchor" href="#_7-3-4-remote-buildcontractinvoketx-options-icontractinvoketxoptions-solidity-调用" aria-hidden="true">#</a></h4></div></div><footer class="page-footer" data-v-da0c174a data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/swtcca/swtclib/edit/master/docs/docs/swtcrpc/index.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"readme.md\":\"8dd30f03\",\"index.md\":\"424e3b03\",\"docs_api_readme.md\":\"1bdf0fe3\",\"docs_api_index.md\":\"4ed9eb13\",\"docs_swtc_readme.md\":\"614e9654\",\"docs_swtc_index.md\":\"e6f89a39\",\"docs_examples_readme.md\":\"dcccac5e\",\"docs_examples_index.md\":\"e5db4001\",\"docs_swtclib_readme.md\":\"b3f1b043\",\"docs_swtclib_index.md\":\"080c5670\",\"docs_swtcapi_readme.md\":\"d83b76dd\",\"docs_swtcapi_index.md\":\"047840cf\",\"docs_swtcproxy_readme.md\":\"7087c48f\",\"docs_swtcproxy_index.md\":\"68421263\",\"docs_swtcrpc_readme.md\":\"aaac8f48\",\"docs_swtcrpc_index.md\":\"fe814b7c\",\"docs_swtctx_readme.md\":\"302e7045\",\"docs_swtctx_index.md\":\"3398456d\",\"docs_swtcwallet_readme.md\":\"7726d719\",\"docs_swtcwallet_index.md\":\"287e1acc\",\"docs_swtcxlib_readme.md\":\"8079514b\",\"docs_swtcxlib_index.md\":\"1b6f05c2\",\"docs_wallet_readme.md\":\"d7f9b861\",\"docs_wallet_index.md\":\"a335fd98\",\"docs_wallet_mobile.md\":\"e77c75fa\",\"docs_examples_a00_readme.md\":\"a8f92cc5\",\"docs_examples_a00_index.md\":\"289f13fb\",\"docs_examples_a01_readme.md\":\"e7f282d8\",\"docs_examples_a01_index.md\":\"1a143aca\",\"docs_examples_a02_readme.md\":\"be6f114b\",\"docs_examples_a02_index.md\":\"460cca1a\",\"docs_examples_a03_readme.md\":\"fa891e64\",\"docs_examples_a03_index.md\":\"aa2e23a6\",\"docs_examples_a04_readme.md\":\"c4de0f7a\",\"docs_examples_a04_index.md\":\"7dbe5da2\",\"docs_examples_a05_readme.md\":\"a52ef5aa\",\"docs_examples_a05_index.md\":\"6b237474\",\"docs_examples_c00_readme.md\":\"f11f7cd6\",\"docs_examples_c00_index.md\":\"470de97c\",\"docs_examples_d00_readme.md\":\"d335935d\",\"docs_examples_d00_index.md\":\"2f828036\",\"docs_examples_c01_readme.md\":\"6f98e2a0\",\"docs_examples_c01_index.md\":\"dba05563\",\"docs_examples_d01_readme.md\":\"e5ae565a\",\"docs_examples_d01_index.md\":\"02e7241c\",\"docs_examples_m00_readme.md\":\"0dc0efd3\",\"docs_examples_m00_index.md\":\"5ffefe42\",\"docs_examples_m02_readme.md\":\"b36ce3a8\",\"docs_examples_m02_index.md\":\"4185539c\",\"docs_examples_w01_readme.md\":\"3937736d\",\"docs_examples_w01_index.md\":\"3dda85f9\",\"docs_examples_w00_readme.md\":\"ed1d5c9d\",\"docs_examples_w00_index.md\":\"1ce6b995\",\"docs_examples_w03_readme.md\":\"d112abef\",\"docs_examples_w03_index.md\":\"c55332cb\",\"docs_examples_w02_readme.md\":\"d7a90965\",\"docs_examples_w02_index.md\":\"28fc4ed8\",\"docs_examples_w04_readme.md\":\"961811be\",\"docs_examples_w04_index.md\":\"0e637796\",\"docs_examples_w05_readme.md\":\"98887ed6\",\"docs_examples_w05_index.md\":\"d33f497a\",\"docs_examples_w06_readme.md\":\"0abeedb0\",\"docs_examples_w06_index.md\":\"f1cf4a51\"}")</script>
    <script type="module" async src="/swtclib/assets/app.4dcb24bf.js"></script>
  </body>
</html>