<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SWTC-LIB | swtclib</title>
    <meta name="description" content="swtclib documents">
    <link rel="stylesheet" href="/swtclib/assets/style.c55a4aab.css">
    <link rel="modulepreload" href="/swtclib/assets/Home.297bb7c8.js">
    <link rel="modulepreload" href="/swtclib/assets/AlgoliaSearchBox.a7e6b04a.js">
    <link rel="modulepreload" href="/swtclib/https://unpkg.com/mermaid/dist/mermaid.min.js">
    <link rel="modulepreload" href="/swtclib/assets/app.2c18be1c.js">
    <link rel="modulepreload" href="/swtclib/assets/structure.4417e9ad.js">
    <link rel="modulepreload" href="/swtclib/assets/docs_swtclib_README.md.8803b0d2.lean.js">
    <link rel="modulepreload" href="/swtclib/assets/app.2c18be1c.js">
    <meta name="twitter:title" content="SWTC-LIB | swtclib">
    <meta property="og:title" content="SWTC-LIB | swtclib">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/swtclib/" aria-label="swtclib, back to home" data-v-675d8756 data-v-4a583abe><!----> swtclib</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcxlib/" data-v-b8818f8c>国密综合 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/wallet/" data-v-b8818f8c>钱包 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/examples/" data-v-b8818f8c>实例 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcrpc/" data-v-b8818f8c>RPC <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/swtclib/docs/swtclib/" data-v-b8818f8c>WS <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/api/" data-v-b8818f8c>API <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcproxy/" data-v-b8818f8c>PROXY <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://swtcdoc.netlify.app/" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>swtcdoc <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/swtcca/swtclib" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcxlib/" data-v-b8818f8c>国密综合 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/wallet/" data-v-b8818f8c>钱包 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/examples/" data-v-b8818f8c>实例 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcrpc/" data-v-b8818f8c>RPC <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/swtclib/docs/swtclib/" data-v-b8818f8c>WS <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/api/" data-v-b8818f8c>API <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/swtclib/docs/swtcproxy/" data-v-b8818f8c>PROXY <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://swtcdoc.netlify.app/" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>swtcdoc <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/swtcca/swtclib" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#_0-接口说明">0. 接口说明</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-安装">1 安装</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_2-项目文件结构">2 项目文件结构</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_3-创建钱包">3 创建钱包</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-remote-类">4 REMOTE 类</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-1-创建-remote-对象">4.1 创建 Remote 对象</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-2-创建连接">4.2 创建连接</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-3-关闭连接-每个-remote-对象可以手动关闭连接。">4.3 关闭连接 每个 Remote 对象可以手动关闭连接。</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-4-请求底层服务器信息">4.4 请求底层服务器信息</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-5-获取最新账本信息">4.5 获取最新账本信息</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-6-获取某一账本具体信息">4.6 获取某一账本具体信息</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-7-查询某一交易具体信息">4.7 查询某一交易具体信息</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-8-请求账号信息">4.8 请求账号信息</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-9-获得账号可接收和发送的货币">4.9 获得账号可接收和发送的货币</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-10-获得账号关系">4.10 获得账号关系</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-11-获得账号挂单">4.11 获得账号挂单</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-12-获得账号交易列表">4.12 获得账号交易列表</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-13-获得市场挂单">4.13 获得市场挂单</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-14-获得挂单佣金设置信息">4.14 获得挂单佣金设置信息</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-15-支付">4.15 支付</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-16-设置关系">4.16 设置关系</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-17-设置账号属性-待完善">4.17 设置账号属性 ------待完善</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-18-挂单">4.18 挂单</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-19-取消挂单">4.19 取消挂单</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-20-部署合约-lua">4.20 部署合约 lua</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-21-执行合约-lua">4.21 执行合约 lua</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-22-设置挂单佣金">4.22 设置挂单佣金</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-23-部署合约-solidity-版">4.23 部署合约 Solidity 版</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-24-调用合约-solidity-版">4.24 调用合约(Solidity 版)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-25-监听事件">4.25 监听事件</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_5-request-类">5 REQUEST 类</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_5-1-指定账本">5.1 指定账本</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_5-2-提交请求">5.2 提交请求</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_6-transaction-类">6 TRANSACTION 类</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_6-1-获得交易账号">6.1 获得交易账号</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_6-2-获得交易类型">6.2 获得交易类型</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_6-3-传入私钥">6.3 传入私钥</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_6-4-添加备注-方法-addmemo-memo">6.4 添加备注 方法:addMemo(memo);</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_6-5-提交请求">6.5 提交请求</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-底层常见错误附录">7 底层常见错误附录</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_9-erc20-源码">9. erc20 源码</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_10-erc721-源码">10. erc721 源码</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_11-多重签名">11. 多重签名</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_11-0-费用">11.0 费用</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_11-1-查询帐号的签名列表">11.1 查询帐号的签名列表</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_11-2-设置帐号的签名列表">11.2 设置帐号的签名列表</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_11-3-废除帐号的主密钥">11.3 废除帐号的主密钥</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_11-4-激活帐号的主密钥">11.4 激活帐号的主密钥</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_11-5-多重签名-tx-multisigning-tx-multisigned">11.5 多重签名 - tx.multiSigning, tx.multiSigned</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_11-6-多重签名-remote-buildsignfirsttx-remote-buildsignothertx-remote-buildmultisignedtx">11.6 多重签名 - remote.buildSignFirstTx, remote.buildSignOtherTx, remote.buildMultisignedTx</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_12-ed25519-支持">12. ED25519 支持</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_12-0-eddsa-ed25519">12.0 EDDSA - ed25519</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_12-1-生成钱包-提供算法作为参数">12.1 生成钱包, 提供算法作为参数</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_12-2-签名透明支持，不需要任何特殊处理">12.2 签名透明支持，不需要任何特殊处理</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_12-2-多重签名透明支持，不需要任何特殊处理">12.2 多重签名透明支持，不需要任何特殊处理</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-da0c174a><div class="container" data-v-da0c174a><!--[--><!--]--><div style="position:relative;" class="content" data-v-da0c174a><div><h1 id="swtc-lib" tabindex="-1">SWTC-LIB <a class="header-anchor" href="#swtc-lib" aria-hidden="true">#</a></h1><p><div class="table-of-contents"><ul><li><a href="#_0-接口说明">0. 接口说明</a></li><li><a href="#_1-安装">1 安装</a></li><li><a href="#_2-项目文件结构">2 项目文件结构</a></li><li><a href="#_3-创建钱包">3 创建钱包</a></li><li><a href="#_4-remote-类">4 REMOTE 类</a><ul><li><a href="#_4-1-创建-remote-对象">4.1 创建 Remote 对象</a></li><li><a href="#_4-2-创建连接">4.2 创建连接</a></li><li><a href="#_4-3-关闭连接-每个-remote-对象可以手动关闭连接。">4.3 关闭连接 每个 Remote 对象可以手动关闭连接。</a></li><li><a href="#_4-4-请求底层服务器信息">4.4 请求底层服务器信息</a></li><li><a href="#_4-5-获取最新账本信息">4.5 获取最新账本信息</a></li><li><a href="#_4-6-获取某一账本具体信息">4.6 获取某一账本具体信息</a></li><li><a href="#_4-7-查询某一交易具体信息">4.7 查询某一交易具体信息</a></li><li><a href="#_4-8-请求账号信息">4.8 请求账号信息</a></li><li><a href="#_4-9-获得账号可接收和发送的货币">4.9 获得账号可接收和发送的货币</a></li><li><a href="#_4-10-获得账号关系">4.10 获得账号关系</a></li><li><a href="#_4-11-获得账号挂单">4.11 获得账号挂单</a></li><li><a href="#_4-12-获得账号交易列表">4.12 获得账号交易列表</a></li><li><a href="#_4-13-获得市场挂单">4.13 获得市场挂单</a></li><li><a href="#_4-14-获得挂单佣金设置信息">4.14 获得挂单佣金设置信息</a></li><li><a href="#_4-15-支付">4.15 支付</a></li><li><a href="#_4-16-设置关系">4.16 设置关系</a></li><li><a href="#_4-17-设置账号属性-待完善">4.17 设置账号属性 ------待完善</a></li><li><a href="#_4-18-挂单">4.18 挂单</a></li><li><a href="#_4-19-取消挂单">4.19 取消挂单</a></li><li><a href="#_4-20-部署合约-lua">4.20 部署合约 lua</a></li><li><a href="#_4-21-执行合约-lua">4.21 执行合约 lua</a></li><li><a href="#_4-22-设置挂单佣金">4.22 设置挂单佣金</a></li><li><a href="#_4-23-部署合约-solidity-版">4.23 部署合约 Solidity 版</a></li><li><a href="#_4-24-调用合约-solidity-版">4.24 调用合约(Solidity 版)</a></li><li><a href="#_4-25-监听事件">4.25 监听事件</a></li></ul></li><li><a href="#_5-request-类">5 REQUEST 类</a><ul><li><a href="#_5-1-指定账本">5.1 指定账本</a></li><li><a href="#_5-2-提交请求">5.2 提交请求</a></li></ul></li><li><a href="#_6-transaction-类">6 TRANSACTION 类</a><ul><li><a href="#_6-1-获得交易账号">6.1 获得交易账号</a></li><li><a href="#_6-2-获得交易类型">6.2 获得交易类型</a></li><li><a href="#_6-3-传入私钥">6.3 传入私钥</a></li><li><a href="#_6-4-添加备注-方法-addmemo-memo">6.4 添加备注 方法:addMemo(memo);</a></li><li><a href="#_6-5-提交请求">6.5 提交请求</a></li></ul></li><li><a href="#_7-底层常见错误附录">7 底层常见错误附录</a></li><li><a href="#_9-erc20-源码">9. erc20 源码</a></li><li><a href="#_10-erc721-源码">10. erc721 源码</a></li><li><a href="#_11-多重签名">11. 多重签名</a><ul><li><a href="#_11-0-费用">11.0 费用</a></li><li><a href="#_11-1-查询帐号的签名列表">11.1 查询帐号的签名列表</a></li><li><a href="#_11-2-设置帐号的签名列表">11.2 设置帐号的签名列表</a></li><li><a href="#_11-3-废除帐号的主密钥">11.3 废除帐号的主密钥</a></li><li><a href="#_11-4-激活帐号的主密钥">11.4 激活帐号的主密钥</a></li><li><a href="#_11-5-多重签名-tx-multisigning-tx-multisigned">11.5 多重签名 - tx.multiSigning, tx.multiSigned</a></li><li><a href="#_11-6-多重签名-remote-buildsignfirsttx-remote-buildsignothertx-remote-buildmultisignedtx">11.6 多重签名 - remote.buildSignFirstTx, remote.buildSignOtherTx, remote.buildMultisignedTx</a></li></ul></li><li><a href="#_12-ed25519-支持">12. ED25519 支持</a><ul><li><a href="#_12-0-eddsa-ed25519">12.0 EDDSA - ed25519</a></li><li><a href="#_12-1-生成钱包-提供算法作为参数">12.1 生成钱包, 提供算法作为参数</a></li><li><a href="#_12-2-签名透明支持，不需要任何特殊处理">12.2 签名透明支持，不需要任何特殊处理</a></li><li><a href="#_12-2-多重签名透明支持，不需要任何特殊处理">12.2 多重签名透明支持，不需要任何特殊处理</a></li></ul></li></ul></div></p><h2 id="_0-接口说明" tabindex="-1">0. 接口说明 <a class="header-anchor" href="#_0-接口说明" aria-hidden="true">#</a></h2><blockquote><h5 id="强制本地签名" tabindex="-1">强制本地签名 <a class="header-anchor" href="#强制本地签名" aria-hidden="true">#</a></h5><h5 id="合约测试只能在特定节点运行-solidity-支持到-0-5-4-需要安装-swtc-tum3-tum3-eth-abi-没有达到可用阶段" tabindex="-1">合约测试只能在特定节点运行, solidity 支持到 0.5.4, 需要安装 swtc-tum3 / tum3-eth-abi, 没有达到可用阶段 <a class="header-anchor" href="#合约测试只能在特定节点运行-solidity-支持到-0-5-4-需要安装-swtc-tum3-tum3-eth-abi-没有达到可用阶段" aria-hidden="true">#</a></h5><h5 id="集成生态节点-failover-const-remote-new-remote-remote-connectpromise-then-console-log-catch-console-error" tabindex="-1">集成生态节点 failover <code>const remote = new Remote() ; remote.connectPromise().then(console.log).catch(console.error)</code> <a class="header-anchor" href="#集成生态节点-failover-const-remote-new-remote-remote-connectpromise-then-console-log-catch-console-error" aria-hidden="true">#</a></h5><h5 id="多重签名测试链上没有支持" tabindex="-1">多重签名测试链上没有支持 <a class="header-anchor" href="#多重签名测试链上没有支持" aria-hidden="true">#</a></h5><h5 id="应用实例" tabindex="-1"><a href="./../examples/">应用实例</a> <a class="header-anchor" href="#应用实例" aria-hidden="true">#</a></h5></blockquote><h2 id="_1-安装" tabindex="-1">1 安装 <a class="header-anchor" href="#_1-安装" aria-hidden="true">#</a></h2><ol><li>安装 SWTC 公链库</li></ol><div class="language-bash"><pre><code><span class="token function">npm</span> <span class="token function">install</span> --save @swtc/lib
</code></pre></div><h2 id="_2-项目文件结构" tabindex="-1">2 项目文件结构 <a class="header-anchor" href="#_2-项目文件结构" aria-hidden="true">#</a></h2><h5 id="swtc-lib-库基于-ws-协议跟底层交互，其中-ws-封装到-server-类中，server-类是一个内部类，不对-外开放-server-类封装在-remote-类中，remote-类提供对外访问接口并可创建两类对象-get-方-式请求的-request-对象和-post-方式请求的-transaction-对象，这两类对象都通过-submit-或者-submitpromise-方法提交-数据到底层。" tabindex="-1">@swtc/lib 库基于 ws 协议跟底层交互，其中 ws 封装到 Server 类中，Server 类是一个内部类，不对 外开放;Server 类封装在 Remote 类中，Remote 类提供对外访问接口并可创建两类对象:Get 方 式请求的 Request 对象和 Post 方式请求的 Transaction 对象，这两类对象都通过 submit()或者 submitPromise()方法提交 数据到底层。 <a class="header-anchor" href="#swtc-lib-库基于-ws-协议跟底层交互，其中-ws-封装到-server-类中，server-类是一个内部类，不对-外开放-server-类封装在-remote-类中，remote-类提供对外访问接口并可创建两类对象-get-方-式请求的-request-对象和-post-方式请求的-transaction-对象，这两类对象都通过-submit-或者-submitpromise-方法提交-数据到底层。" aria-hidden="true">#</a></h5><p>文件结构图如下 <img src="/swtclib/structure.png" alt="structure"></p><h2 id="_3-创建钱包" tabindex="-1">3 创建钱包 <a class="header-anchor" href="#_3-创建钱包" aria-hidden="true">#</a></h2><blockquote><h5 id="首先引入-swtc-lib-库的-wallet-对象，然后使用以下两种方法创建钱包" tabindex="-1">首先引入@swtc/lib 库的 Wallet 对象，然后使用以下两种方法创建钱包 <a class="header-anchor" href="#首先引入-swtc-lib-库的-wallet-对象，然后使用以下两种方法创建钱包" aria-hidden="true">#</a></h5><h5 id="方法-1-wallet-generate" tabindex="-1">方法 1: Wallet.generate() <a class="header-anchor" href="#方法-1-wallet-generate" aria-hidden="true">#</a></h5><h5 id="方法-2-wallet-fromsecret-secret" tabindex="-1">方法 2: Wallet.fromSecret(secret); <a class="header-anchor" href="#方法-2-wallet-fromsecret-secret" aria-hidden="true">#</a></h5></blockquote><h5 id="参数" tabindex="-1">参数: <a class="header-anchor" href="#参数" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr></tbody></table><div class="language-javascript"><pre><code><span class="token comment">//创建Wallet对象</span>
<span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Wallet <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Wallet
<span class="token comment">//方式一</span>
<span class="token keyword">var</span> w1 <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w1<span class="token punctuation">)</span>
<span class="token comment">//方式二</span>
<span class="token keyword">var</span> w2 <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> w3 <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;ssLX1xmdj51Gu4BemCKb1ZKhFTjec&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> w4 <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token string">&quot;snaSEqR4cTU6stvgtQKjq9FNPet8m&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w2<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w3<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回的结果信息" tabindex="-1">返回的结果信息: <a class="header-anchor" href="#返回的结果信息" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr><tr><td>address</td><td>String</td><td style="text-align:right;">井通钱包地址</td></tr></tbody></table><h5 id="输出" tabindex="-1">输出 <a class="header-anchor" href="#输出" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> Wallet<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span> secret<span class="token operator">:</span> <span class="token string">&#39;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&#39;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-remote-类" tabindex="-1">4 REMOTE 类 <a class="header-anchor" href="#_4-remote-类" aria-hidden="true">#</a></h2><h5 id="remote-是跟井通底层交互最主要的类，它可以组装交易发送到底层、订阅事件及从底层拉取数据。提供以下方法" tabindex="-1">Remote 是跟井通底层交互最主要的类，它可以组装交易发送到底层、订阅事件及从底层拉取数据。提供以下方法: <a class="header-anchor" href="#remote-是跟井通底层交互最主要的类，它可以组装交易发送到底层、订阅事件及从底层拉取数据。提供以下方法" aria-hidden="true">#</a></h5><ul><li>Remote(options)</li><li>connect(callback)</li><li>disconnect()</li><li>requestServerInfo()</li><li>requestLedgerClosed()</li><li>requestLedger(options)</li><li>requestTx(options)</li><li>requestAccountInfo(options)</li><li>requestAccountTums(options)</li><li>requestAccountRelations(options)</li><li>requestAccountOffers(options)</li><li>requestAccountTx(options)</li><li>requestOrderBook(options)</li><li>requestPathFind(options)</li><li>createAccountStub()</li><li>createOrderBookStub()</li><li>buildPaymentTx(options)</li><li>buildRelationTx(options)</li><li>buildAccountSetTx(options)</li><li>buildOfferCreateTx(options)</li><li>buildOfferCancelTx(options)</li><li>deployContractTx(options)</li><li>callContractTx(options)</li></ul><h5 id="swtc-lib-remote-独享" tabindex="-1">@swtc/lib REMOTE 独享 <a class="header-anchor" href="#swtc-lib-remote-独享" aria-hidden="true">#</a></h5><ul><li>makeCurrency()</li><li>makeAmount()</li><li>remote.connectPromise()</li><li>req.submitPromise()</li><li>tx.signPromise()</li><li>tx.submitPromise()</li></ul><h3 id="_4-1-创建-remote-对象" tabindex="-1">4.1 创建 Remote 对象 <a class="header-anchor" href="#_4-1-创建-remote-对象" aria-hidden="true">#</a></h3><h5 id="方法-new-remote-options" tabindex="-1">方法:new Remote(options); <a class="header-anchor" href="#方法-new-remote-options" aria-hidden="true">#</a></h5><h5 id="参数-1" tabindex="-1">参数: <a class="header-anchor" href="#参数-1" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>server</td><td>String</td><td style="text-align:right;">井通底层服务地址</td></tr><tr><td>issuer</td><td>String</td><td style="text-align:right;">默认银关</td></tr><tr><td>solidity</td><td>Boolean</td><td style="text-align:right;">启用 solidity 支持</td></tr></tbody></table><h5 id="例子" tabindex="-1">例子 <a class="header-anchor" href="#例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-2-创建连接" tabindex="-1">4.2 创建连接 <a class="header-anchor" href="#_4-2-创建连接" aria-hidden="true">#</a></h3><h5 id="每个-remote-对象都应该首先手动连接底层，然后才可以请求底层的数据。请求结果在回调函数-callback-中" tabindex="-1">每个 Remote 对象都应该首先手动连接底层，然后才可以请求底层的数据。请求结果在回调函数 callback 中 <a class="header-anchor" href="#每个-remote-对象都应该首先手动连接底层，然后才可以请求底层的数据。请求结果在回调函数-callback-中" aria-hidden="true">#</a></h5><h5 id="方法-connect-callback" tabindex="-1">方法: connect(callback) <a class="header-anchor" href="#方法-connect-callback" aria-hidden="true">#</a></h5><h5 id="参数-回调函数-callback-err-result" tabindex="-1">参数: 回调函数 callback(err, result) <a class="header-anchor" href="#参数-回调函数-callback-err-result" aria-hidden="true">#</a></h5><h5 id="方法-connectpromise" tabindex="-1">方法: connectPromise() <a class="header-anchor" href="#方法-connectpromise" aria-hidden="true">#</a></h5><h5 id="参数-无" tabindex="-1">参数: 无 <a class="header-anchor" href="#参数-无" aria-hidden="true">#</a></h5><h5 id="例子-1" tabindex="-1">例子 <a class="header-anchor" href="#例子-1" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// remote.connect( (error, server_info) =&gt; {</span>
<span class="token comment">// 	if (error) {</span>
<span class="token comment">// 		console.log(error)</span>
<span class="token comment">// 	} else {</span>
<span class="token comment">// 		console.log(server_info)</span>
<span class="token comment">// 		remote.disconnect()</span>
<span class="token comment">// 	}</span>
<span class="token comment">// })</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">server_info</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>server_info<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果" aria-hidden="true">#</a></h5><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;fee_base&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee_ref&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token property">&quot;hostid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WALE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ledger_hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;325C01E5F35D6742D731883E4347A7CF227CF2C9410DBAFACCBF8007F29D47BB&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ledger_index&quot;</span><span class="token operator">:</span> <span class="token number">2838574</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ledger_time&quot;</span><span class="token operator">:</span> <span class="token number">607469770</span><span class="token punctuation">,</span>
  <span class="token property">&quot;load_base&quot;</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
  <span class="token property">&quot;load_factor&quot;</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pubkey_node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;n9KFgztij6QLsCk4AqDFteyJRJjMFRWV85h75wpaohRm6wVNRmDS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;random&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1E4412BDAC455C0FFED34716BFD414BC57298A1D456E502669E99EE35761DB96&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reserve_base&quot;</span><span class="token operator">:</span> <span class="token number">10000000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reserve_inc&quot;</span><span class="token operator">:</span> <span class="token number">1000000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;server_status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;full&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;validated_ledgers&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100-2064052,2106781-2838574&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明" tabindex="-1">返回结果说明: <a class="header-anchor" href="#返回结果说明" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>fee_base</td><td>Integer</td><td style="text-align:right;">基础费用(手续费计算公式因子)</td></tr><tr><td>fee_ref</td><td>Integer</td><td style="text-align:right;">引用费用(手续费计算公式因子)</td></tr><tr><td>hostid</td><td>String</td><td style="text-align:right;">主机名</td></tr><tr><td>ledger_hash</td><td>String</td><td style="text-align:right;">账本 hash</td></tr><tr><td>ledger_index</td><td>Integer</td><td style="text-align:right;">区块高度</td></tr><tr><td>ledger_time</td><td>Integer</td><td style="text-align:right;">账本关闭时间</td></tr><tr><td>pubkey_node</td><td>String</td><td style="text-align:right;">节点公钥</td></tr><tr><td>reserve_base</td><td>Integer</td><td style="text-align:right;">账号保留值</td></tr><tr><td>reserve_inc</td><td>Integer</td><td style="text-align:right;">用户每次挂单或信任冻结数量</td></tr><tr><td>server_status</td><td>String</td><td style="text-align:right;">服务器状态</td></tr><tr><td>validated_ledgers</td><td>String</td><td style="text-align:right;">账本区间</td></tr></tbody></table><h3 id="_4-3-关闭连接-每个-remote-对象可以手动关闭连接。" tabindex="-1">4.3 关闭连接 每个 Remote 对象可以手动关闭连接。 <a class="header-anchor" href="#_4-3-关闭连接-每个-remote-对象可以手动关闭连接。" aria-hidden="true">#</a></h3><h5 id="方法-disconnect" tabindex="-1">方法:disconnect() <a class="header-anchor" href="#方法-disconnect" aria-hidden="true">#</a></h5><h5 id="参数-无-1" tabindex="-1">参数:无 <a class="header-anchor" href="#参数-无-1" aria-hidden="true">#</a></h5><h5 id="例子-2" tabindex="-1">例子 <a class="header-anchor" href="#例子-2" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-4-请求底层服务器信息" tabindex="-1">4.4 请求底层服务器信息 <a class="header-anchor" href="#_4-4-请求底层服务器信息" aria-hidden="true">#</a></h3><h5 id="首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得井通底层的服务器信息，包含-服务程序版本号-version、该服务器缓存的账本区间-ledgers、节点公钥-node、服务器当前状态-state。其中服务器当前状态包含可提供服务状态-full-和验证节点状态-proposing。" tabindex="-1">首先通过本方法返回一个 Request 对象，然后通过 submitPromise 方法获得井通底层的服务器信息，包含 服务程序版本号 version、该服务器缓存的账本区间 ledgers、节点公钥 node、服务器当前状态 state。其中服务器当前状态包含可提供服务状态 full 和验证节点状态 proposing。 <a class="header-anchor" href="#首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得井通底层的服务器信息，包含-服务程序版本号-version、该服务器缓存的账本区间-ledgers、节点公钥-node、服务器当前状态-state。其中服务器当前状态包含可提供服务状态-full-和验证节点状态-proposing。" aria-hidden="true">#</a></h5><h5 id="方法-requestserverinfo" tabindex="-1">方法:requestServerInfo() <a class="header-anchor" href="#方法-requestserverinfo" aria-hidden="true">#</a></h5><h5 id="参数-无-2" tabindex="-1">参数:无 <a class="header-anchor" href="#参数-无-2" aria-hidden="true">#</a></h5><h5 id="返回-request-对象" tabindex="-1">返回:Request 对象 <a class="header-anchor" href="#返回-request-对象" aria-hidden="true">#</a></h5><h5 id="例子-3" tabindex="-1">例子: <a class="header-anchor" href="#例子-3" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> remote<span class="token punctuation">.</span><span class="token function">requestServerInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-1" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-1" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> serverInfo<span class="token operator">:</span> <span class="token punctuation">{</span> complete_ledgers<span class="token operator">:</span> <span class="token string">&#39;100-2064052,2106781-2838682&#39;</span><span class="token punctuation">,</span>
  ledger<span class="token operator">:</span>
   <span class="token string">&#39;77EC394117B23104A87F242664328045D380B419550EBF619B2251516991C548&#39;</span><span class="token punctuation">,</span>
  public_key<span class="token operator">:</span> <span class="token string">&#39;n9KFgztij6QLsCk4AqDFteyJRJjMFRWV85h75wpaohRm6wVNRmDS&#39;</span><span class="token punctuation">,</span>
  state<span class="token operator">:</span> <span class="token string">&#39;full   851:35:58&#39;</span><span class="token punctuation">,</span>
  peers<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  version<span class="token operator">:</span> <span class="token string">&#39;skywelld-0.29.60&#39;</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-1" tabindex="-1">返回结果说明: <a class="header-anchor" href="#返回结果说明-1" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>version</td><td>String</td><td style="text-align:right;">服务器部署项目版本</td></tr><tr><td>ledgers</td><td>String</td><td style="text-align:right;">账本区间</td></tr><tr><td>node</td><td>String</td><td style="text-align:right;">节点公钥</td></tr><tr><td>state</td><td>String</td><td style="text-align:right;">服务器状态</td></tr></tbody></table><h3 id="_4-5-获取最新账本信息" tabindex="-1">4.5 获取最新账本信息 <a class="header-anchor" href="#_4-5-获取最新账本信息" aria-hidden="true">#</a></h3><h5 id="首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得最新账本信息，包括区块高度-ledger-index-与区块-hash-ledger-hash" tabindex="-1">首先通过本方法返回一个 Request 对象，然后通过 submitPromise 方法获得最新账本信息，包括区块高度(ledger_index)与区块 hash(ledger_hash) <a class="header-anchor" href="#首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得最新账本信息，包括区块高度-ledger-index-与区块-hash-ledger-hash" aria-hidden="true">#</a></h5><h5 id="方法-requestledgerclosed" tabindex="-1">方法: requestLedgerClosed() <a class="header-anchor" href="#方法-requestledgerclosed" aria-hidden="true">#</a></h5><h5 id="参数-无-3" tabindex="-1">参数: 无 <a class="header-anchor" href="#参数-无-3" aria-hidden="true">#</a></h5><h5 id="返回-request-对象-1" tabindex="-1">返回: Request 对象 <a class="header-anchor" href="#返回-request-对象-1" aria-hidden="true">#</a></h5><h5 id="例子-4" tabindex="-1">例子: <a class="header-anchor" href="#例子-4" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> remote<span class="token punctuation">.</span><span class="token function">requestLedgerClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-2" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-2" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> ledgerInfo<span class="token operator">:</span> <span class="token punctuation">{</span> ledger_hash<span class="token operator">:</span>
   <span class="token string">&#39;93D6C3B76B5D6A2637F92F88A8CFB42C8433DA0EE69BD08A8CFAC327571173DD&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token number">2838718</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-2" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-2" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>ledger_hash</td><td>String</td><td style="text-align:right;">账本 hash</td></tr><tr><td>ledger_index</td><td>String</td><td style="text-align:right;">账本高度/区块高度</td></tr></tbody></table><h3 id="_4-6-获取某一账本具体信息" tabindex="-1">4.6 获取某一账本具体信息 <a class="header-anchor" href="#_4-6-获取某一账本具体信息" aria-hidden="true">#</a></h3><h5 id="首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账本的具体信息" tabindex="-1">首先通过本方法返回一个 Request 对象，然后通过 submitPromise 方法获得某一账本的具体信息 <a class="header-anchor" href="#首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账本的具体信息" aria-hidden="true">#</a></h5><h5 id="方法-remote-requestledger-ledger-index-’8488670’-transactions-true" tabindex="-1">方法:remote.requestLedger({ledger_index:’8488670’,transactions:true}); <a class="header-anchor" href="#方法-remote-requestledger-ledger-index-’8488670’-transactions-true" aria-hidden="true">#</a></h5><h5 id="参数-2" tabindex="-1">参数: <a class="header-anchor" href="#参数-2" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>ledger_index</td><td>String</td><td style="text-align:right;">井通区块高度</td></tr><tr><td>ledger_hash</td><td>String</td><td style="text-align:right;">井通区块 hash(与上面 ledger_index 二选其一)</td></tr><tr><td>transactions</td><td>Boolean</td><td style="text-align:right;">是否返回账本上的交易记录 hash，默认 false</td></tr></tbody></table><p>注:整体参数是 Object 类型，当参数都不填时，默认返回最新账本信息</p><h5 id="返回-request-对象-2" tabindex="-1">返回:Request 对象 <a class="header-anchor" href="#返回-request-对象-2" aria-hidden="true">#</a></h5><h5 id="例子-5" tabindex="-1">例子 <a class="header-anchor" href="#例子-5" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> remote
      <span class="token punctuation">.</span><span class="token function">requestLedger</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        ledger_index<span class="token operator">:</span> <span class="token string">&quot;2838718&quot;</span><span class="token punctuation">,</span>
        transactions<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-3" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-3" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> accepted<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  account_hash<span class="token operator">:</span>
   <span class="token string">&#39;4E64CF69B07D71B5216D8F9D8030D9D73958B34550A30FA7AC5894FF418FF9D4&#39;</span><span class="token punctuation">,</span>
  close_time<span class="token operator">:</span> <span class="token number">607471210</span><span class="token punctuation">,</span>
  close_time_human<span class="token operator">:</span> <span class="token string">&#39;2019-Apr-01 22:00:10&#39;</span><span class="token punctuation">,</span>
  close_time_resolution<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  closed<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  hash<span class="token operator">:</span>
   <span class="token string">&#39;93D6C3B76B5D6A2637F92F88A8CFB42C8433DA0EE69BD08A8CFAC327571173DD&#39;</span><span class="token punctuation">,</span>
  ledger_hash<span class="token operator">:</span>
   <span class="token string">&#39;93D6C3B76B5D6A2637F92F88A8CFB42C8433DA0EE69BD08A8CFAC327571173DD&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token string">&#39;2838718&#39;</span><span class="token punctuation">,</span>
  parent_hash<span class="token operator">:</span>
   <span class="token string">&#39;71CE1471C329AB64CDEF40C17484317760BA7C2DFFC731AE187AF0318BA6E20A&#39;</span><span class="token punctuation">,</span>
  seqNum<span class="token operator">:</span> <span class="token string">&#39;2838718&#39;</span><span class="token punctuation">,</span>
  totalCoins<span class="token operator">:</span> <span class="token string">&#39;600000000000000000&#39;</span><span class="token punctuation">,</span>
  total_coins<span class="token operator">:</span> <span class="token string">&#39;600000000000000000&#39;</span><span class="token punctuation">,</span>
  transaction_hash<span class="token operator">:</span>
   <span class="token string">&#39;0000000000000000000000000000000000000000000000000000000000000000&#39;</span><span class="token punctuation">,</span>
  transactions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-3" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-3" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>accepted</td><td>Boolean</td><td style="text-align:right;">区块是否已经产生</td></tr><tr><td>account_hash</td><td>String</td><td style="text-align:right;">状态 hash 树根</td></tr><tr><td>close_time</td><td>Integer</td><td style="text-align:right;">关闭时间</td></tr><tr><td>close_time_human</td><td>String</td><td style="text-align:right;">关闭时间</td></tr><tr><td>close_time_resoluti on</td><td>Integer</td><td style="text-align:right;">关闭周期</td></tr><tr><td>closed</td><td>Boolean</td><td style="text-align:right;">账本是否已经关闭</td></tr><tr><td>hash</td><td>String</td><td style="text-align:right;">账本 hash</td></tr><tr><td>ledger_hash</td><td>String</td><td style="text-align:right;">账本 hash</td></tr><tr><td>ledger_index</td><td>String</td><td style="text-align:right;">账本高度/区块高度</td></tr><tr><td>parent_hash</td><td>String</td><td style="text-align:right;">上一区块 hash 值</td></tr><tr><td>seqNum</td><td>String</td><td style="text-align:right;">账本高度/区块高度</td></tr><tr><td>totalCoins</td><td>String</td><td style="text-align:right;">swt 总量</td></tr><tr><td>total_coins</td><td>String</td><td style="text-align:right;">swt 总量</td></tr><tr><td>transaction_hash</td><td>String</td><td style="text-align:right;">交易 hash 树根</td></tr><tr><td>transactions</td><td>Array</td><td style="text-align:right;">该账本里的交易列表</td></tr></tbody></table><h3 id="_4-7-查询某一交易具体信息" tabindex="-1">4.7 查询某一交易具体信息 <a class="header-anchor" href="#_4-7-查询某一交易具体信息" aria-hidden="true">#</a></h3><h5 id="首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一交易的具体信息。" tabindex="-1">首先通过本方法返回一个 Request 对象，然后通过 submitPromise 方法获得某一交易的具体信息。 <a class="header-anchor" href="#首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一交易的具体信息。" aria-hidden="true">#</a></h5><h5 id="方法-remote-requesttx-hash-’xxx’" tabindex="-1">方法:remote.requestTx({hash:’xxx’}); <a class="header-anchor" href="#方法-remote-requesttx-hash-’xxx’" aria-hidden="true">#</a></h5><h5 id="参数-3" tabindex="-1">参数: <a class="header-anchor" href="#参数-3" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr></tbody></table><h5 id="返回-request-对象-3" tabindex="-1">返回: Request 对象 <a class="header-anchor" href="#返回-request-对象-3" aria-hidden="true">#</a></h5><h5 id="例子-6" tabindex="-1">例子: <a class="header-anchor" href="#例子-6" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> req <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">requestTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      hash<span class="token operator">:</span> <span class="token string">&quot;2C3F60ABEC539BEE768FAE1820B9C284C7EC2D45EF1D7F9E28F4357056E822F7&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> req<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-4" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-4" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jpLpucnjfX7ksggzc9Qw6hMSm1ATKJe3AF&#39;</span><span class="token punctuation">,</span>
  Amount<span class="token operator">:</span> <span class="token string">&#39;100000000000&#39;</span><span class="token punctuation">,</span>
  Destination<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
  Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
  Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> Memo<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> Memo<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  Sequence<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  SigningPubKey<span class="token operator">:</span>
   <span class="token string">&#39;0294535FEE309F280DC4CF9F4134ECC909F8521CF51FEB7D72454E77F929DCB8C9&#39;</span><span class="token punctuation">,</span>
  TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
  TxnSignature<span class="token operator">:</span>
   <span class="token string">&#39;30440220725FF0939129E01A1BBFD6F557D82184B08F20406C4B637F6DFCCDC047F4783F022064EEFE5F42A58903E95C16D14CE228584CDE37EB599D496CAA3EDFF2E5913838&#39;</span><span class="token punctuation">,</span>
  date<span class="token operator">:</span> <span class="token number">607487990</span><span class="token punctuation">,</span>
  hash<span class="token operator">:</span>
   <span class="token string">&#39;2C3F60ABEC539BEE768FAE1820B9C284C7EC2D45EF1D7F9E28F4357056E822F7&#39;</span><span class="token punctuation">,</span>
  inLedger<span class="token operator">:</span> <span class="token number">2840396</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token number">2840396</span><span class="token punctuation">,</span>
  meta<span class="token operator">:</span>
   <span class="token punctuation">{</span> AffectedNodes<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
     TransactionIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     TransactionResult<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
     delivered_amount<span class="token operator">:</span> <span class="token string">&#39;unavailable&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
关键信息<span class="token operator">:</span>【 交易费<span class="token operator">:</span> <span class="token number">0.01</span> 】
</code></pre></div><h5 id="返回结果说明-4" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-4" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>Account</td><td>String</td><td style="text-align:right;">钱包地址</td></tr><tr><td>Amount</td><td>String/O bject</td><td style="text-align:right;">交易金额</td></tr><tr><td>Destination</td><td>String</td><td style="text-align:right;">交易对家地址</td></tr><tr><td>Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>Memos</td><td>Array</td><td style="text-align:right;">备注</td></tr><tr><td>Sequence</td><td>Integer</td><td style="text-align:right;">自身账号的交易号</td></tr><tr><td>SigningPubKey</td><td>String</td><td style="text-align:right;">签名公钥</td></tr><tr><td>Timestamp</td><td>Integer</td><td style="text-align:right;">交易提交时间戳</td></tr><tr><td>TransactionType</td><td>String</td><td style="text-align:right;">交易类型</td></tr><tr><td>TxnSignature</td><td>String</td><td style="text-align:right;">交易签名</td></tr><tr><td>date</td><td>Integer</td><td style="text-align:right;">交易进账本时间</td></tr><tr><td>hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr><tr><td>inLedger</td><td>Integer</td><td style="text-align:right;">交易所在的账本号</td></tr><tr><td>ledger_index</td><td>Integer</td><td style="text-align:right;">账本高度</td></tr><tr><td>meta</td><td>Object</td><td style="text-align:right;">交易影响的节点</td></tr><tr><td>    AffectedNodes</td><td>Array</td><td style="text-align:right;">受影响的节点</td></tr><tr><td>    TransactionIndex</td><td>Integer</td><td style="text-align:right;">--</td></tr><tr><td>    TransactionResult</td><td>String</td><td style="text-align:right;">交易结果</td></tr><tr><td>validated</td><td>Boolean</td><td style="text-align:right;">交易是否通过验证</td></tr></tbody></table><h3 id="_4-8-请求账号信息" tabindex="-1">4.8 请求账号信息 <a class="header-anchor" href="#_4-8-请求账号信息" aria-hidden="true">#</a></h3><h5 id="首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账号的交易信息。" tabindex="-1">首先通过本方法返回一个 Request 对象，然后通过 submitPromise 方法获得某一账号的交易信息。 <a class="header-anchor" href="#首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账号的交易信息。" aria-hidden="true">#</a></h5><h5 id="方法-remote-requestaccountinfo-account-’xxx’" tabindex="-1">方法:remote.requestAccountInfo({account:’xxx’}); <a class="header-anchor" href="#方法-remote-requestaccountinfo-account-’xxx’" aria-hidden="true">#</a></h5><h5 id="参数-4" tabindex="-1">参数: <a class="header-anchor" href="#参数-4" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">井通钱包地址</td></tr></tbody></table><h5 id="返回-request-对象-4" tabindex="-1">返回:Request 对象 <a class="header-anchor" href="#返回-request-对象-4" aria-hidden="true">#</a></h5><h5 id="例子-7" tabindex="-1">例子 <a class="header-anchor" href="#例子-7" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span> <span class="token punctuation">}</span>
    <span class="token keyword">let</span> req <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">requestAccountInfo</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> req<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-5" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-5" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> account_data<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
     Balance<span class="token operator">:</span> <span class="token string">&#39;100000000000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;AccountRoot&#39;</span><span class="token punctuation">,</span>
     OwnerCount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     PreviousTxnID<span class="token operator">:</span>
      <span class="token string">&#39;2C3F60ABEC539BEE768FAE1820B9C284C7EC2D45EF1D7F9E28F4357056E822F7&#39;</span><span class="token punctuation">,</span>
     PreviousTxnLgrSeq<span class="token operator">:</span> <span class="token number">2840396</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
     index<span class="token operator">:</span>
      <span class="token string">&#39;DB35CDEAF3F0D3C190B041C0C7D92FB0E43CBCBFAD4F498C28858A35CEA8BBB7&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ledger_hash<span class="token operator">:</span>
   <span class="token string">&#39;7669E43FAD8A9926ECDDF642939A0B7EA48E0584FD4730F4CA68994E4C6890AB&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token number">2840469</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-5" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-5" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account_data</td><td>Object</td><td style="text-align:right;">账号信息</td></tr><tr><td>  Account</td><td>String</td><td style="text-align:right;">钱包地址</td></tr><tr><td>  Balance</td><td>String</td><td style="text-align:right;">swt 数量</td></tr><tr><td>  Domain</td><td>String</td><td style="text-align:right;">域名</td></tr><tr><td>  Flags</td><td>Integer</td><td style="text-align:right;">属性标志</td></tr><tr><td>  MessageKey</td><td>String</td><td style="text-align:right;">公共密钥，用于发送加密的邮件到这个帐户</td></tr><tr><td>  OwnerCount</td><td>Integer</td><td style="text-align:right;">用户拥有的挂单数和信任线数量的总和</td></tr><tr><td>  PreviousTxnID</td><td>String</td><td style="text-align:right;">操作该帐号的上一笔交易 hash</td></tr><tr><td>  PreviousTxnLgrSeq</td><td>Integer</td><td style="text-align:right;">该帐号上一笔交易所在的账本号</td></tr><tr><td>  RegularKey</td><td>String</td><td style="text-align:right;">RegularKey</td></tr><tr><td>  Sequence</td><td>Integer</td><td style="text-align:right;">账号当前序列号</td></tr><tr><td>  TransferRate</td><td>Integer</td><td style="text-align:right;">手续费汇率</td></tr><tr><td>  index</td><td>String</td><td style="text-align:right;">该数据所在索引 hash</td></tr><tr><td>ledger_hash</td><td>String</td><td style="text-align:right;">账本 hash</td></tr><tr><td>ledger_index</td><td>Integer</td><td style="text-align:right;">账本高度</td></tr><tr><td>validated</td><td>Boolean</td><td style="text-align:right;">交易是否通过验证</td></tr></tbody></table><h3 id="_4-9-获得账号可接收和发送的货币" tabindex="-1">4.9 获得账号可接收和发送的货币 <a class="header-anchor" href="#_4-9-获得账号可接收和发送的货币" aria-hidden="true">#</a></h3><h5 id="首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账号可发送和接收的货币种类。" tabindex="-1">首先通过本方法返回一个 Request 对象，然后通过 submitPromise 方法获得某一账号可发送和接收的货币种类。 <a class="header-anchor" href="#首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账号可发送和接收的货币种类。" aria-hidden="true">#</a></h5><h5 id="方法-remote-requestaccounttums-account-’xxx’" tabindex="-1">方法:remote.requestAccountTums({account:’xxx’}); <a class="header-anchor" href="#方法-remote-requestaccounttums-account-’xxx’" aria-hidden="true">#</a></h5><h5 id="参数-5" tabindex="-1">参数: <a class="header-anchor" href="#参数-5" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">井通钱包地址</td></tr></tbody></table><h5 id="返回-request-对象-5" tabindex="-1">返回:Request 对象 <a class="header-anchor" href="#返回-request-对象-5" aria-hidden="true">#</a></h5><h5 id="例子-8" tabindex="-1">例子: <a class="header-anchor" href="#例子-8" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span> <span class="token punctuation">}</span>
    <span class="token keyword">let</span> req <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">requestAccountTums</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> req<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-6" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-6" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> ledger_hash<span class="token operator">:</span>
   <span class="token string">&#39;80F7661460F62D707F923F4D6932624A1CBA6EF5E1F1CC4577AEA27D545CF2BD&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token number">2861794</span><span class="token punctuation">,</span>
  receive_currencies<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;CNY&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  send_currencies<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;CNY&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-6" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-6" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>ledger_hash</td><td>String</td><td style="text-align:right;">账本 hash</td></tr><tr><td>ledger_index</td><td>Integer</td><td style="text-align:right;">账本高度</td></tr><tr><td>receive_currencies</td><td>Array</td><td style="text-align:right;">可接收的货币列表</td></tr><tr><td>send_currencies</td><td>Array</td><td style="text-align:right;">可发送的货币列表</td></tr><tr><td>validated</td><td>Boolean</td><td style="text-align:right;">交易是否通过验证</td></tr></tbody></table><h3 id="_4-10-获得账号关系" tabindex="-1">4.10 获得账号关系 <a class="header-anchor" href="#_4-10-获得账号关系" aria-hidden="true">#</a></h3><h5 id="井通账户之间会建立各种不同的关系。这些关系由井通后台的关系-relations-机制来处理，目前支持以下关系-信任-trust-、授权-authorize-、冻结-freeze-。" tabindex="-1">井通账户之间会建立各种不同的关系。这些关系由井通后台的关系(relations)机制来处理，目前支持以下关系:信任(trust)、授权(authorize)、冻结(freeze)。 <a class="header-anchor" href="#井通账户之间会建立各种不同的关系。这些关系由井通后台的关系-relations-机制来处理，目前支持以下关系-信任-trust-、授权-authorize-、冻结-freeze-。" aria-hidden="true">#</a></h5><h5 id="首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账号指定关系的信息" tabindex="-1">首先通过本方法返回一个 Request 对象，然后通过 submitPromise 方法获得某一账号指定关系的信息 <a class="header-anchor" href="#首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账号指定关系的信息" aria-hidden="true">#</a></h5><h5 id="方法-remote-requestaccountrelations-account-’xxx’-type-’xxx’" tabindex="-1">方法:remote.requestAccountRelations({account:’xxx’,type:’xxx’}); <a class="header-anchor" href="#方法-remote-requestaccountrelations-account-’xxx’-type-’xxx’" aria-hidden="true">#</a></h5><h5 id="参数-6" tabindex="-1">参数: <a class="header-anchor" href="#参数-6" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">井通钱包地址</td></tr><tr><td>type</td><td>String</td><td style="text-align:right;">关系类型，固定的三个值:trust、authorize、freeze</td></tr></tbody></table><h5 id="返回-request-对象-6" tabindex="-1">返回: Request 对象 <a class="header-anchor" href="#返回-request-对象-6" aria-hidden="true">#</a></h5><h5 id="例子-9" tabindex="-1">例子 <a class="header-anchor" href="#例子-9" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
      account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
      type<span class="token operator">:</span> <span class="token string">&quot;trust&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> req <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">requestAccountRelations</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> req<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-7" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-7" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
  ledger_hash<span class="token operator">:</span>
   <span class="token string">&#39;427B3AD89CDA0A9B7ED229796EA4D10B781E4CAA14F89DBDA61086BBCCD0BA42&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token number">2861802</span><span class="token punctuation">,</span>
  lines<span class="token operator">:</span>
   <span class="token punctuation">[</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&#39;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&#39;</span><span class="token punctuation">,</span>
       balance<span class="token operator">:</span> <span class="token string">&#39;100&#39;</span><span class="token punctuation">,</span>
       currency<span class="token operator">:</span> <span class="token string">&#39;CNY&#39;</span><span class="token punctuation">,</span>
       limit<span class="token operator">:</span> <span class="token string">&#39;1000000000&#39;</span><span class="token punctuation">,</span>
       limit_peer<span class="token operator">:</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>
       no_skywell<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
       quality_in<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
       quality_out<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-7" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-7" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">钱包地址</td></tr><tr><td>ledger_hash</td><td>String</td><td style="text-align:right;">账本 hash</td></tr><tr><td>ledger_index</td><td>Integer</td><td style="text-align:right;">账本高度</td></tr><tr><td>lines</td><td>Array</td><td style="text-align:right;">该账户的信任线</td></tr><tr><td>account</td><td>String</td><td style="text-align:right;">信任的银关</td></tr><tr><td>balance</td><td>String</td><td style="text-align:right;">余额</td></tr><tr><td>currency</td><td>String</td><td style="text-align:right;">货币种类</td></tr><tr><td>limit</td><td>String</td><td style="text-align:right;">信任额度</td></tr><tr><td>limit_peer</td><td>String</td><td style="text-align:right;">对方设置的信任额度，默认 0</td></tr><tr><td>quality_in</td><td>Integer</td><td style="text-align:right;">兑换比例，默认 0，暂时未用</td></tr><tr><td>quality_out</td><td>Integer</td><td style="text-align:right;">兑换比例，默认 0，暂时未用</td></tr><tr><td>validated</td><td>Boolean</td><td style="text-align:right;">交易是否通过验证</td></tr></tbody></table><h3 id="_4-11-获得账号挂单" tabindex="-1">4.11 获得账号挂单 <a class="header-anchor" href="#_4-11-获得账号挂单" aria-hidden="true">#</a></h3><h5 id="首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账号的挂单信息" tabindex="-1">首先通过本方法返回一个 Request 对象，然后通过 submitPromise 方法获得某一账号的挂单信息 <a class="header-anchor" href="#首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账号的挂单信息" aria-hidden="true">#</a></h5><h5 id="方法-remote-requestaccountoffers-account-’xxx’" tabindex="-1">方法:remote.requestAccountOffers({account:’xxx’}); <a class="header-anchor" href="#方法-remote-requestaccountoffers-account-’xxx’" aria-hidden="true">#</a></h5><h5 id="参数-7" tabindex="-1">参数: <a class="header-anchor" href="#参数-7" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">井通钱包地址</td></tr></tbody></table><h5 id="例子-10" tabindex="-1">例子 <a class="header-anchor" href="#例子-10" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span> <span class="token punctuation">}</span>
    <span class="token keyword">let</span> req <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">requestAccountOffers</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> req<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-8" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-8" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
  ledger_hash<span class="token operator">:</span>
   <span class="token string">&#39;E02BA6ED09F7D946D6D4FE85FB5F29590A358551ECD463D9FEE40B8B9F6141E9&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token number">2861816</span><span class="token punctuation">,</span>
  offers<span class="token operator">:</span>
   <span class="token punctuation">[</span> <span class="token punctuation">{</span> flags<span class="token operator">:</span> <span class="token number">131072</span><span class="token punctuation">,</span>
       seq<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
       taker_gets<span class="token operator">:</span> <span class="token string">&#39;1000000&#39;</span><span class="token punctuation">,</span>
       taker_pays<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-8" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-8" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">钱包地址</td></tr><tr><td>ledger_hash</td><td>String</td><td style="text-align:right;">账本 hash</td></tr><tr><td>ledger_index</td><td>Integer</td><td style="text-align:right;">账本高度</td></tr><tr><td>offers</td><td>Array</td><td style="text-align:right;">该账户的挂单列表</td></tr><tr><td>  flags</td><td>Integer</td><td style="text-align:right;">买卖类型(131072 表示卖，否则是买)</td></tr><tr><td>  seq</td><td>String</td><td style="text-align:right;">余额</td></tr><tr><td>  taker_gets</td><td>String</td><td style="text-align:right;">货币种类</td></tr><tr><td>    value</td><td>String</td><td style="text-align:right;">金额</td></tr><tr><td>    currency</td><td>String</td><td style="text-align:right;">货币种类</td></tr><tr><td>    issuer</td><td>String</td><td style="text-align:right;">货币</td></tr><tr><td>  taket_pays</td><td>String</td><td style="text-align:right;">信任额度</td></tr><tr><td>    value</td><td>String</td><td style="text-align:right;">金额</td></tr><tr><td>    currency</td><td>String</td><td style="text-align:right;">货币种类</td></tr><tr><td>    issuer</td><td>String</td><td style="text-align:right;">货币</td></tr><tr><td>validated</td><td>Boolean</td><td style="text-align:right;">交易是否通过验证</td></tr></tbody></table><h3 id="_4-12-获得账号交易列表" tabindex="-1">4.12 获得账号交易列表 <a class="header-anchor" href="#_4-12-获得账号交易列表" aria-hidden="true">#</a></h3><h5 id="首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账号的交易列表信息。" tabindex="-1">首先通过本方法返回一个 Request 对象，然后通过 submitPromise 方法获得某一账号的交易列表信息。 <a class="header-anchor" href="#首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得某一账号的交易列表信息。" aria-hidden="true">#</a></h5><h5 id="方法-remote-requestaccounttx-account-’xxx’" tabindex="-1">方法:remote.requestAccountTx({account:’xxx’}); <a class="header-anchor" href="#方法-remote-requestaccounttx-account-’xxx’" aria-hidden="true">#</a></h5><h5 id="参数-8" tabindex="-1">参数: <a class="header-anchor" href="#参数-8" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">井通钱包地址</td></tr><tr><td>limit</td><td>Integer</td><td style="text-align:right;">限定返回多少条记录，默认 200</td></tr></tbody></table><h5 id="返回-request-对象-7" tabindex="-1">返回:Request 对象 <a class="header-anchor" href="#返回-request-对象-7" aria-hidden="true">#</a></h5><h5 id="例子-11" tabindex="-1">例子: <a class="header-anchor" href="#例子-11" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span> <span class="token punctuation">}</span>
    <span class="token keyword">let</span> req <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">requestAccountTx</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> req<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-9" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-9" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
  ledger_index_max<span class="token operator">:</span> <span class="token number">2844681</span><span class="token punctuation">,</span>
  ledger_index_min<span class="token operator">:</span> <span class="token number">101</span><span class="token punctuation">,</span>
  transactions<span class="token operator">:</span>
   <span class="token punctuation">[</span> <span class="token punctuation">{</span> date<span class="token operator">:</span> <span class="token number">1554174490</span><span class="token punctuation">,</span>
       hash<span class="token operator">:</span>
        <span class="token string">&#39;EB94F5155E8977B888E553C10C8EAC9567426BD3AF186E321CB614F4DCD1A4F2&#39;</span><span class="token punctuation">,</span>
       type<span class="token operator">:</span> <span class="token string">&#39;sent&#39;</span><span class="token punctuation">,</span>
       fee<span class="token operator">:</span> <span class="token string">&#39;0.01&#39;</span><span class="token punctuation">,</span>
       result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
       memos<span class="token operator">:</span> <span class="token punctuation">[</span>Array<span class="token punctuation">]</span><span class="token punctuation">,</span>
       counterparty<span class="token operator">:</span> <span class="token string">&#39;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&#39;</span><span class="token punctuation">,</span>
       amount<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
       effects<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span> date<span class="token operator">:</span> <span class="token number">1554172790</span><span class="token punctuation">,</span>
       hash<span class="token operator">:</span>
        <span class="token string">&#39;2C3F60ABEC539BEE768FAE1820B9C284C7EC2D45EF1D7F9E28F4357056E822F7&#39;</span><span class="token punctuation">,</span>
       type<span class="token operator">:</span> <span class="token string">&#39;received&#39;</span><span class="token punctuation">,</span>
       fee<span class="token operator">:</span> <span class="token string">&#39;0.01&#39;</span><span class="token punctuation">,</span>
       result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
       memos<span class="token operator">:</span> <span class="token punctuation">[</span>Array<span class="token punctuation">]</span><span class="token punctuation">,</span>
       counterparty<span class="token operator">:</span> <span class="token string">&#39;jpLpucnjfX7ksggzc9Qw6hMSm1ATKJe3AF&#39;</span><span class="token punctuation">,</span>
       amount<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
       effects<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-9" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-9" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">钱包地址</td></tr><tr><td>ledger_index_max</td><td>Integer</td><td style="text-align:right;">当前节点缓存的账本区间最大值</td></tr><tr><td>ledger_index_min</td><td>Integer</td><td style="text-align:right;">当前节点缓存的账本区间最小值</td></tr><tr><td>marker</td><td>Object</td><td style="text-align:right;">查到的当前记录标记</td></tr><tr><td>transactions</td><td>Array</td><td style="text-align:right;">交易记录列表</td></tr><tr><td>  date</td><td>Integer</td><td style="text-align:right;">时间戳</td></tr><tr><td>  hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr><tr><td>  type</td><td>String</td><td style="text-align:right;">交易类型</td></tr><tr><td>  fee</td><td>String</td><td style="text-align:right;">手续费</td></tr><tr><td>  result</td><td>String</td><td style="text-align:right;">交易结果</td></tr><tr><td>  memos</td><td>Array</td><td style="text-align:right;">备注</td></tr><tr><td>  counterparty</td><td>String</td><td style="text-align:right;">交易对家</td></tr><tr><td>  amount</td><td>Object</td><td style="text-align:right;">交易金额对象</td></tr><tr><td>     value</td><td>String</td><td style="text-align:right;">金额</td></tr><tr><td>     currency</td><td>String</td><td style="text-align:right;">货币种类</td></tr><tr><td>     issuer</td><td>String</td><td style="text-align:right;">货币</td></tr><tr><td>effects</td><td>Array</td><td style="text-align:right;">交易效果</td></tr></tbody></table><h3 id="_4-13-获得市场挂单" tabindex="-1">4.13 获得市场挂单 <a class="header-anchor" href="#_4-13-获得市场挂单" aria-hidden="true">#</a></h3><h5 id="首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得市场挂单列表信息。" tabindex="-1">首先通过本方法返回一个 Request 对象，然后通过 submitPromise 方法获得市场挂单列表信息。 <a class="header-anchor" href="#首先通过本方法返回一个-request-对象，然后通过-submitpromise-方法获得市场挂单列表信息。" aria-hidden="true">#</a></h5><h5 id="方法-remote-requestorderbook" tabindex="-1">方法:remote.requestOrderBook({}); <a class="header-anchor" href="#方法-remote-requestorderbook" aria-hidden="true">#</a></h5><h5 id="参数-9" tabindex="-1">参数: <a class="header-anchor" href="#参数-9" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>gets</td><td>Object</td><td style="text-align:right;">对家想要获得的货币信息</td></tr><tr><td>pays</td><td>Object</td><td style="text-align:right;">对家想要支付的货币信息</td></tr></tbody></table><h5 id="例子-12" tabindex="-1">例子 <a class="header-anchor" href="#例子-12" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
      limit<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      pays<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeCurrency</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      gets<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeCurrency</span><span class="token punctuation">(</span><span class="token string">&quot;CNY&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> req <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">requestOrderBook</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> req<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-10" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-10" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> ledger_current_index<span class="token operator">:</span> <span class="token number">2861869</span><span class="token punctuation">,</span>
  offers<span class="token operator">:</span>
   <span class="token punctuation">[</span> <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
       BookDirectory<span class="token operator">:</span>
        <span class="token string">&#39;AEC975E9D5B0DB3D88C5D0A31AB2884D40328C8ABE4E02664D038D7EA4C68000&#39;</span><span class="token punctuation">,</span>
       BookNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
       Flags<span class="token operator">:</span> <span class="token number">131072</span><span class="token punctuation">,</span>
       LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;Offer&#39;</span><span class="token punctuation">,</span>
       OwnerNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
       PreviousTxnID<span class="token operator">:</span>
        <span class="token string">&#39;3EB37E4CB1017C1A5F4DA81B95CBB94345405BA7F791445BF9EEA9AB8C177DD8&#39;</span><span class="token punctuation">,</span>
       PreviousTxnLgrSeq<span class="token operator">:</span> <span class="token number">2861851</span><span class="token punctuation">,</span>
       Sequence<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
       TakerGets<span class="token operator">:</span> <span class="token string">&#39;1000000&#39;</span><span class="token punctuation">,</span>
       TakerPays<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
       index<span class="token operator">:</span>
        <span class="token string">&#39;483DCDC95C3B1BECE5E67CBE8AD883607F6B63151E3233C9151C50AE4E96C59E&#39;</span><span class="token punctuation">,</span>
       owner_funds<span class="token operator">:</span> <span class="token string">&#39;11085930000&#39;</span><span class="token punctuation">,</span>
       quality<span class="token operator">:</span> <span class="token string">&#39;0.00000001&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-10" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-10" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>ledger_current_index</td><td>String</td><td style="text-align:right;">当前账本号</td></tr><tr><td>offers</td><td>Array</td><td style="text-align:right;">市场挂单列表</td></tr><tr><td>  Account</td><td>Integer</td><td style="text-align:right;">账号地址</td></tr><tr><td>  BookDirectory</td><td>String</td><td style="text-align:right;">--</td></tr><tr><td>  BookNode</td><td>String</td><td style="text-align:right;">--</td></tr><tr><td>  Flags</td><td>Integer</td><td style="text-align:right;">挂单买卖标记</td></tr><tr><td>  LedgerEntryType</td><td>String</td><td style="text-align:right;">账本数据结构类型</td></tr><tr><td>  OwnerNode</td><td>Array</td><td style="text-align:right;">--</td></tr><tr><td>  PreviousTxnID</td><td>String</td><td style="text-align:right;">上一笔交易 hash</td></tr><tr><td>  PreviousTxnLgrSeq</td><td>Integer</td><td style="text-align:right;">上一笔交易所在账本号</td></tr><tr><td>  Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>  TakerGets</td><td>Object</td><td style="text-align:right;">对方得到的。(买卖双方，当货币是 swt 时，数据类型 为对象;否则为 string)</td></tr><tr><td>    value</td><td>String</td><td style="text-align:right;">金额</td></tr><tr><td>    currency</td><td>String</td><td style="text-align:right;">货币种类</td></tr><tr><td>    issuer</td><td>String</td><td style="text-align:right;">货币</td></tr><tr><td>TakerPays</td><td>String</td><td style="text-align:right;">对方支付的</td></tr><tr><td>index</td><td>String</td><td style="text-align:right;">该数据所在索引 hash</td></tr><tr><td>owner_funds</td><td>String</td><td style="text-align:right;">用户 swt 资产</td></tr><tr><td>quality</td><td>String</td><td style="text-align:right;">价格或价格的倒数</td></tr><tr><td>validated</td><td>Boolean</td><td style="text-align:right;">交易是否通过验证</td></tr></tbody></table><h3 id="_4-14-获得挂单佣金设置信息" tabindex="-1">4.14 获得挂单佣金设置信息 <a class="header-anchor" href="#_4-14-获得挂单佣金设置信息" aria-hidden="true">#</a></h3><h5 id="首先通过-requestbrokerage-方法返回一个-request-对象，然后通过-submitpromise-方法提交。" tabindex="-1">首先通过 requestBrokerage 方法返回一个 Request 对象，然后通过 submitPromise 方法提交。 <a class="header-anchor" href="#首先通过-requestbrokerage-方法返回一个-request-对象，然后通过-submitpromise-方法提交。" aria-hidden="true">#</a></h5><h5 id="_4-14-1-创建查询挂单佣金对象" tabindex="-1">4.14.1 创建查询挂单佣金对象 <a class="header-anchor" href="#_4-14-1-创建查询挂单佣金对象" aria-hidden="true">#</a></h5><h6 id="方法-remote-requestbrokerage" tabindex="-1">方法: remote.requestBrokerage({}); <a class="header-anchor" href="#方法-remote-requestbrokerage" aria-hidden="true">#</a></h6><h6 id="参数-10" tabindex="-1">参数: <a class="header-anchor" href="#参数-10" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">井通钱包地址</td></tr></tbody></table><h6 id="返回-request-对象-8" tabindex="-1">返回:Request 对象 <a class="header-anchor" href="#返回-request-对象-8" aria-hidden="true">#</a></h6><h5 id="_4-14-2-提交查询" tabindex="-1"><a name="brokerageSubmit"></a> 4.14.2 提交查询 <a class="header-anchor" href="#_4-14-2-提交查询" aria-hidden="true">#</a></h5><h6 id="方法-request-submitpromise" tabindex="-1">方法:request.submitPromise() <a class="header-anchor" href="#方法-request-submitpromise" aria-hidden="true">#</a></h6><h6 id="参数-无-4" tabindex="-1">参数: 无 <a class="header-anchor" href="#参数-无-4" aria-hidden="true">#</a></h6><h6 id="返回-promise" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise" aria-hidden="true">#</a></h6><h5 id="查询佣金完整例子" tabindex="-1">查询佣金完整例子 <a class="header-anchor" href="#查询佣金完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">const</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
account <span class="token operator">=</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span>
remote<span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> request <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">requestBrokerage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> account <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> request<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-11" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-11" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&#39;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&#39;</span><span class="token punctuation">,</span>
  brokerages<span class="token operator">:</span>
   <span class="token punctuation">[</span> <span class="token punctuation">{</span> FeeCurrency<span class="token operator">:</span> <span class="token string">&#39;CNY&#39;</span><span class="token punctuation">,</span>
       FeeCurrencyIssuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
       OfferFeeRateDen<span class="token operator">:</span> <span class="token string">&#39;1000&#39;</span><span class="token punctuation">,</span>
       OfferFeeRateNum<span class="token operator">:</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>
       Platform<span class="token operator">:</span> <span class="token string">&#39;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&#39;</span><span class="token punctuation">,</span>
       fee_account<span class="token operator">:</span> <span class="token string">&#39;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  ledger_hash<span class="token operator">:</span>
   <span class="token string">&#39;D096FC540E2AA2AD0432EDF1B7F545D814D72972E6C8BA0B5A8221CB8612FE0E&#39;</span><span class="token punctuation">,</span>
  ledger_index<span class="token operator">:</span> <span class="token number">13681307</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-15-支付" tabindex="-1">4.15 支付 <a class="header-anchor" href="#_4-15-支付" aria-hidden="true">#</a></h3><h5 id="首先通过-buildpaymenttx-方法返回一个-transaction-对象，addmemo-添加备注为可选项，最后通过-submitpromise-方法提交支付信息。" tabindex="-1">首先通过 buildPaymentTx 方法返回一个 Transaction 对象，addMemo 添加备注为可选项，最后通过 submitPromise 方法提交支付信息。 <a class="header-anchor" href="#首先通过-buildpaymenttx-方法返回一个-transaction-对象，addmemo-添加备注为可选项，最后通过-submitpromise-方法提交支付信息。" aria-hidden="true">#</a></h5><h5 id="_4-15-1-创建支付对象" tabindex="-1"><a name="buildPaymentTx"></a> 4.15.1 创建支付对象 <a class="header-anchor" href="#_4-15-1-创建支付对象" aria-hidden="true">#</a></h5><h6 id="方法-remote-buildpaymenttx" tabindex="-1">方法: remote.buildPaymentTx({}); <a class="header-anchor" href="#方法-remote-buildpaymenttx" aria-hidden="true">#</a></h6><h6 id="参数-11" tabindex="-1">参数: <a class="header-anchor" href="#参数-11" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">发起账号</td></tr><tr><td>to</td><td>String</td><td style="text-align:right;">目标账号</td></tr><tr><td>amount</td><td>Object</td><td style="text-align:right;">支付金额</td></tr><tr><td>value</td><td>String</td><td style="text-align:right;">支付数量</td></tr><tr><td>currency</td><td>String</td><td style="text-align:right;">货币种类，三到六个字母或 20 字节的自定义货币</td></tr><tr><td>issuer</td><td>String</td><td style="text-align:right;">货币发行方</td></tr></tbody></table><h6 id="返回-transaction-对象" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象" aria-hidden="true">#</a></h6><h5 id="_4-15-2-提交支付" tabindex="-1"><a name="paymentSubmit"></a> 4.15.2 提交支付 <a class="header-anchor" href="#_4-15-2-提交支付" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-memo" tabindex="-1">方法:tx.submitPromise(secret, memo) <a class="header-anchor" href="#方法-tx-submitpromise-secret-memo" aria-hidden="true">#</a></h6><h6 id="参数-12" tabindex="-1">参数: <a class="header-anchor" href="#参数-12" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr><tr><td>memo</td><td>String</td><td style="text-align:right;">备注信息</td></tr></tbody></table><h6 id="返回-promise-1" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-1" aria-hidden="true">#</a></h6><h5 id="支付完整例子" tabindex="-1">支付完整例子 <a class="header-anchor" href="#支付完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildPaymentTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
      to<span class="token operator">:</span> <span class="token string">&quot;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&quot;</span><span class="token punctuation">,</span>
      amount<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">99900</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span>
      <span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;给支付&quot;</span>
    <span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-12" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-12" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;120000220000000024000000016140000017428107006840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E1574473045022100EC761F10DDA2371C77437EE2C7A71379B4214CF77E1C4058C46236B3E446ACE90220456CFB5ACDEE1EB7DEAC4819B5CD19C09911518BD38810A77EF20863C776FC8081141359AA928F4D98FDB3D93E8B690C80D37DED11C38314054FADDC8595E2950FA43F673F65C2009F58C7F1F9EA7D09E7BB99E694AFE4BB98E1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
     Amount<span class="token operator">:</span> <span class="token string">&#39;99900000000&#39;</span><span class="token punctuation">,</span>
     Destination<span class="token operator">:</span> <span class="token string">&#39;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&#39;</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span>
      <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
     TxnSignature<span class="token operator">:</span>
      <span class="token string">&#39;3045022100EC761F10DDA2371C77437EE2C7A71379B4214CF77E1C4058C46236B3E446ACE90220456CFB5ACDEE1EB7DEAC4819B5CD19C09911518BD38810A77EF20863C776FC80&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;EB94F5155E8977B888E553C10C8EAC9567426BD3AF186E321CB614F4DCD1A4F2&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-11" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-11" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>engine_result</td><td>String</td><td style="text-align:right;">请求结果</td></tr><tr><td>engine_result_code</td><td>Array</td><td style="text-align:right;">请求结果编码</td></tr><tr><td>engine_result_message</td><td>String</td><td style="text-align:right;">请求结果 message 信息</td></tr><tr><td>   tx_blob</td><td>String</td><td style="text-align:right;">16 进制签名后的交易</td></tr><tr><td>   tx_json</td><td>Object</td><td style="text-align:right;">交易内容</td></tr><tr><td>   Account</td><td>String</td><td style="text-align:right;">账号地址</td></tr><tr><td>   Amount</td><td>String</td><td style="text-align:right;">交易金额</td></tr><tr><td>   Destination</td><td>String</td><td style="text-align:right;">对家</td></tr><tr><td>   Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>   Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>   Memos</td><td>Array</td><td style="text-align:right;">备注</td></tr><tr><td>   Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>   SigningPubKey</td><td>Object</td><td style="text-align:right;">签名公钥</td></tr><tr><td>   TransactionType</td><td>String</td><td style="text-align:right;">交易类型</td></tr><tr><td>   TxnSignature</td><td>String</td><td style="text-align:right;">交易签名</td></tr><tr><td>   hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr></tbody></table><h3 id="_4-16-设置关系" tabindex="-1">4.16 设置关系 <a class="header-anchor" href="#_4-16-设置关系" aria-hidden="true">#</a></h3><h5 id="首先通过-buildrelationtx-方法返回一个-transaction-对象，然后通过-submitpromise-方法提交支付信息。目前支持的关系类型-信任-trust-、授权-authorize-、冻结-freeze" tabindex="-1">首先通过 buildRelationTx 方法返回一个 Transaction 对象，然后通过 submitPromise 方法提交支付信息。目前支持的关系类型:信任(trust)、授权(authorize)、冻结 (freeze) <a class="header-anchor" href="#首先通过-buildrelationtx-方法返回一个-transaction-对象，然后通过-submitpromise-方法提交支付信息。目前支持的关系类型-信任-trust-、授权-authorize-、冻结-freeze" aria-hidden="true">#</a></h5><h5 id="_4-16-1-创建关系对象" tabindex="-1"><a name="buildRelationTx"></a> 4.16.1 创建关系对象 <a class="header-anchor" href="#_4-16-1-创建关系对象" aria-hidden="true">#</a></h5><h6 id="方法-remote-buildrelationtx" tabindex="-1">方法:remote.buildRelationTx({}); <a class="header-anchor" href="#方法-remote-buildrelationtx" aria-hidden="true">#</a></h6><h6 id="参数-13" tabindex="-1">参数 <a class="header-anchor" href="#参数-13" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>type</td><td>String</td><td style="text-align:right;">关系种类</td></tr><tr><td>account</td><td>String</td><td style="text-align:right;">设置关系的源账号</td></tr><tr><td>target</td><td>String</td><td style="text-align:right;">目标账号，授权和冻结才有</td></tr><tr><td>limit</td><td>Object</td><td style="text-align:right;">关系金额</td></tr><tr><td>value</td><td>String</td><td style="text-align:right;">数量</td></tr><tr><td>currency</td><td>String</td><td style="text-align:right;">货币种类，三到六个字母或 20 字节的自定义货币</td></tr><tr><td>issuer</td><td>String</td><td style="text-align:right;">货币发行方</td></tr></tbody></table><h6 id="返回-transaction-对象-1" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-1" aria-hidden="true">#</a></h6><h5 id="_4-16-2-关系设置" tabindex="-1"><a name="relationSubmit"></a> 4.16.2 关系设置 <a class="header-anchor" href="#_4-16-2-关系设置" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-memo-1" tabindex="-1">方法:tx.submitPromise(secret, memo) <a class="header-anchor" href="#方法-tx-submitpromise-secret-memo-1" aria-hidden="true">#</a></h6><h6 id="参数-14" tabindex="-1">参数: <a class="header-anchor" href="#参数-14" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr><tr><td>memo</td><td>String</td><td style="text-align:right;">备注信息</td></tr></tbody></table><h6 id="返回-promise-2" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-2" aria-hidden="true">#</a></h6><h6 id="方法-tx-submitpromise-secret" tabindex="-1">方法: tx.submitPromise(secret); <a class="header-anchor" href="#方法-tx-submitpromise-secret" aria-hidden="true">#</a></h6><h6 id="参数-无-5" tabindex="-1">参数:无 <a class="header-anchor" href="#参数-无-5" aria-hidden="true">#</a></h6><h5 id="设置关系完整例子" tabindex="-1">设置关系完整例子 <a class="header-anchor" href="#设置关系完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
      account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
      target<span class="token operator">:</span> <span class="token string">&quot;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&quot;</span><span class="token punctuation">,</span>
      limit<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;CNY&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      type<span class="token operator">:</span> <span class="token string">&quot;authorize&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildRelationTx</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span>
      <span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;授权&quot;</span>
    <span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-13" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-13" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;1200152200000000240000000820230000000163D4838D7EA4C68000000000000000000000000000434E590000000000054FADDC8595E2950FA43F673F65C2009F58C7F16840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E1574463044022078E283810BF73CB8D932077C757A9FC5881C52B7475BE010BFD8A9731FDE1BB802202268AE34DFF38C171A70623A5E4EFA9069645E39F12D03DE6D9DD826F481FAC881141359AA928F4D98FDB3D93E8B690C80D37DED11C38714054FADDC8595E2950FA43F673F65C2009F58C7F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     LimitAmount<span class="token operator">:</span>
      <span class="token punctuation">{</span> currency<span class="token operator">:</span> <span class="token string">&#39;CNY&#39;</span><span class="token punctuation">,</span>
        issuer<span class="token operator">:</span> <span class="token string">&#39;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&#39;</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> <span class="token string">&#39;1&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     RelationType<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span>
      <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
     Target<span class="token operator">:</span> <span class="token string">&#39;jVnqw7H46sjpgNFzYvYWS4TAp13NKQA1D&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;RelationSet&#39;</span><span class="token punctuation">,</span>
     TxnSignature<span class="token operator">:</span>
      <span class="token string">&#39;3044022078E283810BF73CB8D932077C757A9FC5881C52B7475BE010BFD8A9731FDE1BB802202268AE34DFF38C171A70623A5E4EFA9069645E39F12D03DE6D9DD826F481FAC8&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;C95235169DB1F994F67E0CC73BB98D0D044D2C4093E846675B29E4F13BE97DAC&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-12" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-12" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>engine_result</td><td>String</td><td style="text-align:right;">请求结果</td></tr><tr><td>engine_result_code</td><td>Array</td><td style="text-align:right;">请求结果编码</td></tr><tr><td>engine_result_message</td><td>String</td><td style="text-align:right;">请求结果 message 信息</td></tr><tr><td>tx_blob</td><td>String</td><td style="text-align:right;">16 进制签名后的交易</td></tr><tr><td>tx_json</td><td>Object</td><td style="text-align:right;">交易内容</td></tr><tr><td>  Account</td><td>String</td><td style="text-align:right;">账号地址</td></tr><tr><td>  Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>  Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>  LimitAmount</td><td>Object</td><td style="text-align:right;">关系的额度</td></tr><tr><td>    currency</td><td>String</td><td style="text-align:right;">货币</td></tr><tr><td>    issuer</td><td>String</td><td style="text-align:right;">货币发行方</td></tr><tr><td>    value</td><td>String</td><td style="text-align:right;">额度</td></tr><tr><td>  RelationType</td><td>Integer</td><td style="text-align:right;">关系类型:0 信任;1 授权;3 冻结/解冻;</td></tr><tr><td>  Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>  SigningPubKey</td><td>Object</td><td style="text-align:right;">签名公钥</td></tr><tr><td>  Target</td><td>String</td><td style="text-align:right;">关系对家</td></tr><tr><td>  Timestamp</td><td>Integer</td><td style="text-align:right;">时间戳</td></tr><tr><td>  TransactionType</td><td>String</td><td style="text-align:right;">交易类型:TrustSet 信任;RelationDel 解冻;RelationSet 授权/冻结</td></tr><tr><td>  TxnSignature</td><td>String</td><td style="text-align:right;">交易签名</td></tr><tr><td>  hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr></tbody></table><h3 id="_4-17-设置账号属性-待完善" tabindex="-1">4.17 设置账号属性 ------待完善 <a class="header-anchor" href="#_4-17-设置账号属性-待完善" aria-hidden="true">#</a></h3><h5 id="首先通过-buildaccountsettx-方法返回一个-transaction-对象，然后通过-submitpromise-方法设置账号属性。目前支持的三类-property、delegate-、signer。property-用于设置账号一般属性-delegate-用于某账号设置委托帐户-signer-用于设置签名。" tabindex="-1">首先通过 buildAccountSetTx 方法返回一个 Transaction 对象，然后通过 submitPromise 方法设置账号属性。目前支持的三类:<code>property</code>、<code>delegate</code> 、<code>signer</code>。property 用于设置账号一般属性;delegate 用于某账号设置委托帐户;signer 用于设置签名。 <a class="header-anchor" href="#首先通过-buildaccountsettx-方法返回一个-transaction-对象，然后通过-submitpromise-方法设置账号属性。目前支持的三类-property、delegate-、signer。property-用于设置账号一般属性-delegate-用于某账号设置委托帐户-signer-用于设置签名。" aria-hidden="true">#</a></h5><h5 id="_4-17-1-创建属性对象" tabindex="-1"><a name="buildAccountSetTx"></a>4.17.1 创建属性对象 <a class="header-anchor" href="#_4-17-1-创建属性对象" aria-hidden="true">#</a></h5><h6 id="方法-remote-buildaccountsettx" tabindex="-1">方法:remote.buildAccountSetTx({}); <a class="header-anchor" href="#方法-remote-buildaccountsettx" aria-hidden="true">#</a></h6><h6 id="参数-15" tabindex="-1">参数: <a class="header-anchor" href="#参数-15" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>type</td><td>String</td><td style="text-align:right;">属性种类</td></tr><tr><td>account</td><td>String</td><td style="text-align:right;">设置属性的源账号</td></tr><tr><td>set_flag</td><td>String</td><td style="text-align:right;">属性编号</td></tr></tbody></table><h6 id="返回-transaction-对象-2" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-2" aria-hidden="true">#</a></h6><h5 id="_4-17-2-属性设置" tabindex="-1"><a name="accountSetSubmit"></a>4.17.2 属性设置 <a class="header-anchor" href="#_4-17-2-属性设置" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-memo-2" tabindex="-1">方法:tx.submitPromise(secret, memo) <a class="header-anchor" href="#方法-tx-submitpromise-secret-memo-2" aria-hidden="true">#</a></h6><h6 id="参数-16" tabindex="-1">参数: <a class="header-anchor" href="#参数-16" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr><tr><td>memo</td><td>String</td><td style="text-align:right;">备注信息</td></tr></tbody></table><h6 id="返回-promise-3" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-3" aria-hidden="true">#</a></h6><h5 id="设置属性完整例子" tabindex="-1">设置属性完整例子 <a class="header-anchor" href="#设置属性完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;err:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;property&quot;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildAccountSetTx</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-14" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-14" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;120003220000000024000000022F2436322C6840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E157446304402201FED6F42DE3F437321D59706846DD9A1DF4D90568A57E2F601AAE138F427800A0220108F4E08476283CC549A9DB21E36DFBBCDF2012C3A690AFBD9AE789C2C9C6C6581141359AA928F4D98FDB3D93E8B690C80D37DED11C3&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span>
      <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
     Timestamp<span class="token operator">:</span> <span class="token number">607531564</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;AccountSet&#39;</span><span class="token punctuation">,</span>
     TxnSignature<span class="token operator">:</span>
      <span class="token string">&#39;304402201FED6F42DE3F437321D59706846DD9A1DF4D90568A57E2F601AAE138F427800A0220108F4E08476283CC549A9DB21E36DFBBCDF2012C3A690AFBD9AE789C2C9C6C65&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;56969504AF776BB5EBC8830D87822E201973C4EBCD24CEA64A90D10EF740BD90&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-18-挂单" tabindex="-1">4.18 挂单 <a class="header-anchor" href="#_4-18-挂单" aria-hidden="true">#</a></h3><h5 id="首先通过-buildoffercreatetx-方法返回一个-transaction-对象，然后通过-submitpromise-方法提交挂单。" tabindex="-1">首先通过 buildOfferCreateTx 方法返回一个 Transaction 对象，然后通过 submitPromise 方法提交挂单。 <a class="header-anchor" href="#首先通过-buildoffercreatetx-方法返回一个-transaction-对象，然后通过-submitpromise-方法提交挂单。" aria-hidden="true">#</a></h5><h5 id="_4-18-1-创建挂单对象" tabindex="-1"><a name="offerCreateBuild"></a> 4.18.1 创建挂单对象 <a class="header-anchor" href="#_4-18-1-创建挂单对象" aria-hidden="true">#</a></h5><h6 id="方法-remote-buildoffercreatetx" tabindex="-1">方法:remote.buildOfferCreateTx({}); <a class="header-anchor" href="#方法-remote-buildoffercreatetx" aria-hidden="true">#</a></h6><h6 id="参数-17" tabindex="-1">参数: <a class="header-anchor" href="#参数-17" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>type</td><td>String</td><td style="text-align:right;">挂单类型，固定的两个值:Buy、Sell</td></tr><tr><td>account</td><td>String</td><td style="text-align:right;">挂单方账号</td></tr><tr><td>taker_gets</td><td>Object</td><td style="text-align:right;">对方得到的，即挂单方支付的</td></tr><tr><td>   value</td><td>String</td><td style="text-align:right;">数量</td></tr><tr><td>   currency</td><td>String</td><td style="text-align:right;">货币种类</td></tr><tr><td>   issuer</td><td>String</td><td style="text-align:right;">货币发行方</td></tr><tr><td>taker_pays</td><td>Object</td><td style="text-align:right;">对方支付的，即挂单方获得的</td></tr><tr><td>   value</td><td>String</td><td style="text-align:right;">数量</td></tr><tr><td>   currency</td><td>String</td><td style="text-align:right;">货币种类</td></tr><tr><td>   issuer</td><td>String</td><td style="text-align:right;">货币发行方</td></tr></tbody></table><h6 id="返回-transaction-对象-3" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-3" aria-hidden="true">#</a></h6><h5 id="_4-18-2-提交挂单" tabindex="-1"><a name="offerCreateSubmit"></a> 4.18.2 提交挂单 <a class="header-anchor" href="#_4-18-2-提交挂单" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-memo-3" tabindex="-1">方法:tx.submitPromise(secret, memo) <a class="header-anchor" href="#方法-tx-submitpromise-secret-memo-3" aria-hidden="true">#</a></h6><h6 id="参数-18" tabindex="-1">参数: <a class="header-anchor" href="#参数-18" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr><tr><td>memo</td><td>String</td><td style="text-align:right;">备注信息</td></tr></tbody></table><h6 id="返回-promise-4" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-4" aria-hidden="true">#</a></h6><h5 id="设置属性完整例子-1" tabindex="-1">设置属性完整例子 <a class="header-anchor" href="#设置属性完整例子-1" aria-hidden="true">#</a></h5><h5 id="挂单完整例子" tabindex="-1">挂单完整例子 <a class="header-anchor" href="#挂单完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span> server<span class="token operator">:</span> <span class="token string">&quot;ws://ws.swtclib.ca:5020&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">&quot;Sell&quot;</span><span class="token punctuation">,</span>
      account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
      taker_pays<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      taker_gets<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token string">&quot;slash&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildOfferCreateTx</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span>
      <span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;payment tx demo&quot;</span>
    <span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h6 id="返回结果-15" tabindex="-1">返回结果: <a class="header-anchor" href="#返回结果-15" aria-hidden="true">#</a></h6><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span> <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span> <span class="token string">&#39;120007220008000024000000706440000000000F424065D4038D7EA4C680000000000000000000004A534C4153480000000000A582E432BFC48EEDEF852C814EC57F3CD2D415966840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E1574473045022100DF3A6A51BBE9C3D87C9923DE59C59D443A58A78254DB99881A2BE095D3C1B3C6022009947792ADA2E6FFB920D73E1E98331BE07DA55786251937B36536A8A4EBD15C81141359AA928F4D98FDB3D93E8B690C80D37DED11C3F9EA7D0F7061796D656E742074782064656D6FE1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span> <span class="token punctuation">{</span>
    Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
    Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
    Flags<span class="token operator">:</span> <span class="token number">524288</span><span class="token punctuation">,</span>
    Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    Sequence<span class="token operator">:</span> <span class="token number">112</span><span class="token punctuation">,</span>
    SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
    TakerGets<span class="token operator">:</span> <span class="token punctuation">{</span>
      currency<span class="token operator">:</span> <span class="token string">&#39;JSLASH&#39;</span><span class="token punctuation">,</span>
      issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;0.01&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    TakerPays<span class="token operator">:</span> <span class="token string">&#39;1000000&#39;</span><span class="token punctuation">,</span>
    TransactionType<span class="token operator">:</span> <span class="token string">&#39;OfferCreate&#39;</span><span class="token punctuation">,</span>
    TxnSignature<span class="token operator">:</span> <span class="token string">&#39;3045022100DF3A6A51BBE9C3D87C9923DE59C59D443A58A78254DB99881A2BE095D3C1B3C6022009947792ADA2E6FFB920D73E1E98331BE07DA55786251937B36536A8A4EBD15C&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;27BE735F6D1A226A67821EDE68270B21F09A9DEDCEA2B018A3EBE341E28829B4&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="返回结果说明-13" tabindex="-1">返回结果说明: <a class="header-anchor" href="#返回结果说明-13" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>engine_result</td><td>String</td><td style="text-align:right;">请求结果</td></tr><tr><td>engine_result_code</td><td>Array</td><td style="text-align:right;">请求结果编码</td></tr><tr><td>engine_result_message</td><td>String</td><td style="text-align:right;">请求结果 message 信息</td></tr><tr><td>tx_blob</td><td>String</td><td style="text-align:right;">16 进制签名后的交易</td></tr><tr><td>tx_json</td><td>Object</td><td style="text-align:right;">交易内容</td></tr><tr><td>   Account</td><td>String</td><td style="text-align:right;">账号地址</td></tr><tr><td>   Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>   Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>   Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>   SigningPubKey</td><td>String</td><td style="text-align:right;">签名公钥</td></tr><tr><td>   TakerGets</td><td>Object</td><td style="text-align:right;">对家得到的</td></tr><tr><td>      currency</td><td>String</td><td style="text-align:right;">货币</td></tr><tr><td>      issuer</td><td>String</td><td style="text-align:right;">货币发行方</td></tr><tr><td>      value</td><td>String</td><td style="text-align:right;">额度</td></tr><tr><td>   TakerPays</td><td>String</td><td style="text-align:right;">对家支付的;</td></tr><tr><td>   Timestamp</td><td>Integer</td><td style="text-align:right;">时间戳</td></tr><tr><td>   TransactionType</td><td>String</td><td style="text-align:right;">交易类型:TrustSet 信任;RelationDel 解冻;RelationSet 授权/冻结</td></tr><tr><td>   TxnSignature</td><td>String</td><td style="text-align:right;">交易签名</td></tr><tr><td>   hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr></tbody></table><h3 id="_4-19-取消挂单" tabindex="-1">4.19 取消挂单 <a class="header-anchor" href="#_4-19-取消挂单" aria-hidden="true">#</a></h3><h5 id="首先通过-buildoffercanceltx-方法返回一个-transaction-对象，然后通过-submitpromise-方法取消挂单。" tabindex="-1">首先通过 buildOfferCancelTx 方法返回一个 Transaction 对象，然后通过 submitPromise 方法取消挂单。 <a class="header-anchor" href="#首先通过-buildoffercanceltx-方法返回一个-transaction-对象，然后通过-submitpromise-方法取消挂单。" aria-hidden="true">#</a></h5><h5 id="_4-19-1-创建取消挂单对象" tabindex="-1">4.19.1 <a name="offerCancelBuild"></a> 创建取消挂单对象 <a class="header-anchor" href="#_4-19-1-创建取消挂单对象" aria-hidden="true">#</a></h5><h5 id="方法-remote-buildoffercanceltx" tabindex="-1">方法:remote.buildOfferCancelTx({}); <a class="header-anchor" href="#方法-remote-buildoffercanceltx" aria-hidden="true">#</a></h5><h5 id="参数-19" tabindex="-1">参数: <a class="header-anchor" href="#参数-19" aria-hidden="true">#</a></h5><p>| 参数 | 类型 | 说明 | | -------- | ------- | -----------: | ---------- | | account | String | | 挂单方账号 | | sequence | Integer | 取消的单子号 |</p><h5 id="返回-transaction-对象-4" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-4" aria-hidden="true">#</a></h5><h5 id="_4-19-2-取消挂单" tabindex="-1"><a name="offerCancelSubmit"></a> 4.19.2 取消挂单 <a class="header-anchor" href="#_4-19-2-取消挂单" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-memo-4" tabindex="-1">方法:tx.submitPromise(secret, memo) <a class="header-anchor" href="#方法-tx-submitpromise-secret-memo-4" aria-hidden="true">#</a></h6><h6 id="参数-20" tabindex="-1">参数: <a class="header-anchor" href="#参数-20" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr><tr><td>memo</td><td>String</td><td style="text-align:right;">备注信息</td></tr></tbody></table><h6 id="返回-promise-5" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-5" aria-hidden="true">#</a></h6><h5 id="取消挂单完整例子" tabindex="-1">取消挂单完整例子 <a class="header-anchor" href="#取消挂单完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span> sequence<span class="token operator">:</span> <span class="token number">7</span> <span class="token punctuation">}</span>
    <span class="token keyword">let</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildOfferCancelTx</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-16" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-16" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;120008220000000024000000092019000000076840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E1574473045022100DA68AEF2F6A29A593490AD89218890E98CB0D9DEB645DCA92A6444E3DE9957440220141D389B41ACB777B14A862B58FCE2CDBC5353ECBDED42C2FD9D584B39F61AF181141359AA928F4D98FDB3D93E8B690C80D37DED11C3&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     OfferSequence<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span>
      <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;OfferCancel&#39;</span><span class="token punctuation">,</span>
     TxnSignature<span class="token operator">:</span>
      <span class="token string">&#39;3045022100DA68AEF2F6A29A593490AD89218890E98CB0D9DEB645DCA92A6444E3DE9957440220141D389B41ACB777B14A862B58FCE2CDBC5353ECBDED42C2FD9D584B39F61AF1&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;AAD3063387632E3BEDF947FBBD2694A364FE1FF15EC1CDE26B7FEBA70B32BDD7&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-14" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-14" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>engine_result</td><td>String</td><td style="text-align:right;">请求结果</td></tr><tr><td>engine_result_code</td><td>Array</td><td style="text-align:right;">请求结果编码</td></tr><tr><td>engine_result_message</td><td>String</td><td style="text-align:right;">请求结果 message 信息</td></tr><tr><td>tx_blob</td><td>String</td><td style="text-align:right;">16 进制签名后的交易</td></tr><tr><td>tx_json</td><td>Object</td><td style="text-align:right;">交易内容</td></tr><tr><td>   Account</td><td>String</td><td style="text-align:right;">账号地址</td></tr><tr><td>   Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>   Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>   OfferSequence</td><td>Integer</td><td style="text-align:right;">取消的单子号</td></tr><tr><td>   Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>   SigningPubKey</td><td>String</td><td style="text-align:right;">签名公钥</td></tr><tr><td>   Timestamp</td><td>Integer</td><td style="text-align:right;">时间戳</td></tr><tr><td>   TransactionType</td><td>String</td><td style="text-align:right;">交易类型:OfferCancel 取消订单</td></tr><tr><td>   TxnSignature</td><td>String</td><td style="text-align:right;">交易签名</td></tr><tr><td>   hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr></tbody></table><h3 id="_4-20-部署合约-lua" tabindex="-1">4.20 部署合约 lua <a class="header-anchor" href="#_4-20-部署合约-lua" aria-hidden="true">#</a></h3><h5 id="首先通过-deploycontracttx-方法返回一个-transaction-对象，然后通过-submitpromise-方法部署合约。" tabindex="-1">首先通过 deployContractTx 方法返回一个 Transaction 对象，然后通过 submitPromise 方法部署合约。 <a class="header-anchor" href="#首先通过-deploycontracttx-方法返回一个-transaction-对象，然后通过-submitpromise-方法部署合约。" aria-hidden="true">#</a></h5><h5 id="_4-20-1-创建部署合约对象" tabindex="-1"><a name="contractDeployBuild"></a>4.20.1 创建部署合约对象 <a class="header-anchor" href="#_4-20-1-创建部署合约对象" aria-hidden="true">#</a></h5><h6 id="方法-remote-deploycontracttx" tabindex="-1">方法:remote.deployContractTx({}); <a class="header-anchor" href="#方法-remote-deploycontracttx" aria-hidden="true">#</a></h6><h6 id="参数-21" tabindex="-1">参数: <a class="header-anchor" href="#参数-21" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">合约交易源账号</td></tr><tr><td>amount</td><td>String/Number</td><td style="text-align:right;">支付金额(最多支持六位小数)</td></tr><tr><td>payload</td><td>String</td><td style="text-align:right;">智能合约代码(16 进制字符串)</td></tr></tbody></table><h6 id="可选参数" tabindex="-1">可选参数: <a class="header-anchor" href="#可选参数" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>params</td><td>String</td><td style="text-align:right;">合约参数</td></tr></tbody></table><h5 id="返回-transaction-对象-5" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-5" aria-hidden="true">#</a></h5><h5 id="_4-20-2-部署合约" tabindex="-1"><a name="contractDeploySubmit"></a> 4.20.2 部署合约 <a class="header-anchor" href="#_4-20-2-部署合约" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-memo-5" tabindex="-1">方法:tx.submitPromise(secret, memo); <a class="header-anchor" href="#方法-tx-submitpromise-secret-memo-5" aria-hidden="true">#</a></h6><h6 id="参数-22" tabindex="-1">参数: <a class="header-anchor" href="#参数-22" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr><tr><td>memo</td><td>String</td><td style="text-align:right;">备注信息</td></tr></tbody></table><h6 id="返回-promise-6" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-6" aria-hidden="true">#</a></h6><h5 id="部署合约完整例子" tabindex="-1">部署合约完整例子 <a class="header-anchor" href="#部署合约完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> utils <span class="token operator">=</span> Remote<span class="token punctuation">.</span>utils
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;err:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
    amount<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    payload<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">stringToHex</span><span class="token punctuation">(</span>
      <span class="token string">&quot;result={}; function Init(t) result=scGetAccountBalance(t) return result end; function foo(t) result=scGetAccountBalance(t) return result end;&quot;</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// payload: utils.stringToHex(&#39;result={}; function Init(t) result=scGetAccountInfo(t) return result end; function foo(t) a={} result=scGetAccountInfo(t) return result end&#39;),</span>
    params<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">deployContractTx</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-17" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-17" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> ContractState<span class="token operator">:</span> <span class="token string">&#39;jNdpxLQbmMMf4ZVXjn3nb98xPYQ7EpEpTN&#39;</span><span class="token punctuation">,</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;12001E220000000024000000052024000000006140000000009896806840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E1574473045022100EDC511C9AD68BEBD47F00CF7271E7DD6BF608E6C7A1ACC3B1D471B057B5E2C0C02203292629E4E6905C222BF99BE8023356B3040355D446DE2FAE6D1099DA6AE426B7F8D726573756C743D7B7D3B2066756E6374696F6E20496E697428742920726573756C743D73634765744163636F756E7442616C616E63652874292072657475726E20726573756C7420656E643B2066756E6374696F6E20666F6F28742920726573756C743D73634765744163636F756E7442616C616E63652874292072657475726E20726573756C7420656E643B81141359AA928F4D98FDB3D93E8B690C80D37DED11C3FAEB7012226A706D4B456D32735565766670466A533751486454385378375A476F4558544A417AE1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
     Amount<span class="token operator">:</span> <span class="token string">&#39;10000000&#39;</span><span class="token punctuation">,</span>
     Args<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Method<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Payload<span class="token operator">:</span>
      <span class="token string">&#39;726573756C743D7B7D3B2066756E6374696F6E20496E697428742920726573756C743D73634765744163636F756E7442616C616E63652874292072657475726E20726573756C7420656E643B2066756E6374696F6E20666F6F28742920726573756C743D73634765744163636F756E7442616C616E63652874292072657475726E20726573756C7420656E643B&#39;</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span>
      <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;ConfigContract&#39;</span><span class="token punctuation">,</span>
     TxnSignature<span class="token operator">:</span>
      <span class="token string">&#39;3045022100EDC511C9AD68BEBD47F00CF7271E7DD6BF608E6C7A1ACC3B1D471B057B5E2C0C02203292629E4E6905C222BF99BE8023356B3040355D446DE2FAE6D1099DA6AE426B&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;71C1AAEAAB9D2F9CC4C65D9A9DB733EB80DF6037BDC6D4A6F1445BFDBDE25A02&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-15" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-15" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>ContractState</td><td>String</td><td style="text-align:right;">生成的合约地址</td></tr><tr><td>engine_result</td><td>String</td><td style="text-align:right;">请求结果</td></tr><tr><td>engine_result_code</td><td>Array</td><td style="text-align:right;">请求结果编码</td></tr><tr><td>engine_result_message</td><td>String</td><td style="text-align:right;">请求结果 message 信息</td></tr><tr><td>tx_blob</td><td>String</td><td style="text-align:right;">16 进制签名后的交易</td></tr><tr><td>tx_json</td><td>Object</td><td style="text-align:right;">交易内容</td></tr><tr><td>   Account</td><td>String</td><td style="text-align:right;">账号地址</td></tr><tr><td>   Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>   Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>   Method</td><td>Integer</td><td style="text-align:right;">合约交易方法:0 表示部署;1 表示调用</td></tr><tr><td>   Payload</td><td>Integer</td><td style="text-align:right;">16 进制合约代码</td></tr><tr><td>   Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>   SigningPubKey</td><td>String</td><td style="text-align:right;">签名公钥</td></tr><tr><td>   TransactionType</td><td>String</td><td style="text-align:right;">交易类型:ConfigContract 部署合约</td></tr><tr><td>   TxnSignature</td><td>String</td><td style="text-align:right;">交易签名</td></tr><tr><td>   hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr></tbody></table><h3 id="_4-21-执行合约-lua" tabindex="-1">4.21 执行合约 lua <a class="header-anchor" href="#_4-21-执行合约-lua" aria-hidden="true">#</a></h3><h5 id="首先通过-callcontracttx-方法返回一个-transaction-对象，然后通过-submitpromise-方法执行合约" tabindex="-1">首先通过 callContractTx 方法返回一个 Transaction 对象，然后通过 submitPromise 方法执行合约 <a class="header-anchor" href="#首先通过-callcontracttx-方法返回一个-transaction-对象，然后通过-submitpromise-方法执行合约" aria-hidden="true">#</a></h5><h5 id="_4-21-1-创建执行合约对象" tabindex="-1"><a name="contractCallBuild"></a> 4.21.1 创建执行合约对象 <a class="header-anchor" href="#_4-21-1-创建执行合约对象" aria-hidden="true">#</a></h5><h6 id="方法-remote-callcontracttx" tabindex="-1">方法:remote.callContractTx({}); <a class="header-anchor" href="#方法-remote-callcontracttx" aria-hidden="true">#</a></h6><h6 id="参数-23" tabindex="-1">参数: <a class="header-anchor" href="#参数-23" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">合约交易源账号</td></tr><tr><td>destination</td><td>String</td><td style="text-align:right;">合约地址</td></tr><tr><td>foo</td><td>String</td><td style="text-align:right;">合约函数名</td></tr></tbody></table><h6 id="可选参数-1" tabindex="-1">可选参数: <a class="header-anchor" href="#可选参数-1" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>params</td><td>String</td><td style="text-align:right;">合约参数</td></tr></tbody></table><h5 id="返回-transaction-对象-6" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-6" aria-hidden="true">#</a></h5><h5 id="_4-21-2-执行合约" tabindex="-1"><a name="contractCallSubmit"></a> 4.21.2 执行合约 <a class="header-anchor" href="#_4-21-2-执行合约" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-memo-6" tabindex="-1">方法:tx.submitPromise(secret, memo); <a class="header-anchor" href="#方法-tx-submitpromise-secret-memo-6" aria-hidden="true">#</a></h6><h6 id="参数-24" tabindex="-1">参数: <a class="header-anchor" href="#参数-24" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr><tr><td>memo</td><td>String</td><td style="text-align:right;">备注信息</td></tr></tbody></table><h6 id="返回-promise-7" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-7" aria-hidden="true">#</a></h6><h5 id="执行合约完整例子" tabindex="-1">执行合约完整例子 <a class="header-anchor" href="#执行合约完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;err:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
    destination<span class="token operator">:</span> <span class="token string">&quot;jNdpxLQbmMMf4ZVXjn3nb98xPYQ7EpEpTN&quot;</span><span class="token punctuation">,</span>
    foo<span class="token operator">:</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span>
    params<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">callContractTx</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-18" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-18" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token operator">&gt;</span> res<span class="token operator">:</span> <span class="token punctuation">{</span> ContractState<span class="token operator">:</span> <span class="token string">&#39;99889937242&#39;</span><span class="token punctuation">,</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;12001E220000000024000000062024000000016840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E1574473045022100DCB940C040EC1FE8BCC12E6BC2B4F980249048A29BDE21819851A794267E3CF9022033589643344130F1B8DA29C437B411875BA98C84056228AC1CC758FE8E98DB4F701103666F6F81141359AA928F4D98FDB3D93E8B690C80D37DED11C38314956A3DB0148D023D018A67AD20FE8E5275FB5B17FAEB7012226A706D4B456D32735565766670466A533751486454385378375A476F4558544A417AE1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
     Args<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
     ContractMethod<span class="token operator">:</span> <span class="token string">&#39;666F6F&#39;</span><span class="token punctuation">,</span>
     Destination<span class="token operator">:</span> <span class="token string">&#39;jNdpxLQbmMMf4ZVXjn3nb98xPYQ7EpEpTN&#39;</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Method<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span>
      <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;ConfigContract&#39;</span><span class="token punctuation">,</span>
     TxnSignature<span class="token operator">:</span>
      <span class="token string">&#39;3045022100DCB940C040EC1FE8BCC12E6BC2B4F980249048A29BDE21819851A794267E3CF9022033589643344130F1B8DA29C437B411875BA98C84056228AC1CC758FE8E98DB4F&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;060E534F8274A25EF4D48C5A6DC49F4200173BF6E61F287854821F598829BEBC&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-16" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-16" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>ContractState</td><td>String</td><td style="text-align:right;">调用的合约结果</td></tr><tr><td>engine_result</td><td>String</td><td style="text-align:right;">请求结果</td></tr><tr><td>engine_result_code</td><td>Array</td><td style="text-align:right;">请求结果编码</td></tr><tr><td>engine_result_message</td><td>String</td><td style="text-align:right;">请求结果 message 信息</td></tr><tr><td>tx_blob</td><td>String</td><td style="text-align:right;">16 进制签名后的交易</td></tr><tr><td>tx_json</td><td>Object</td><td style="text-align:right;">交易内容</td></tr><tr><td>   Account</td><td>String</td><td style="text-align:right;">账号地址</td></tr><tr><td>   Args</td><td>Array</td><td style="text-align:right;">合约传入的参数</td></tr><tr><td>   ContractMethod</td><td>String</td><td style="text-align:right;">合约函数名</td></tr><tr><td>   Destination</td><td>String</td><td style="text-align:right;">调用的合约地址</td></tr><tr><td>   Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>   Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>   Method</td><td>Integer</td><td style="text-align:right;">合约交易方法:0 表示部署;1 表示调用</td></tr><tr><td>   Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>   SigningPubKey</td><td>String</td><td style="text-align:right;">签名公钥</td></tr><tr><td>   TransactionType</td><td>String</td><td style="text-align:right;">交易类型:ConfigContract 合约类</td></tr><tr><td>   TxnSignature</td><td>String</td><td style="text-align:right;">交易签名</td></tr><tr><td>   hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr></tbody></table><h3 id="_4-22-设置挂单佣金" tabindex="-1">4.22 设置挂单佣金 <a class="header-anchor" href="#_4-22-设置挂单佣金" aria-hidden="true">#</a></h3><h5 id="首先通过-buildbrokeragetx-方法返回一个-transaction-对象，然后通过-submitpromise-方法设置平台手续费" tabindex="-1">首先通过 buildBrokerageTx 方法返回一个 Transaction 对象，然后通过 submitPromise 方法设置平台手续费 <a class="header-anchor" href="#首先通过-buildbrokeragetx-方法返回一个-transaction-对象，然后通过-submitpromise-方法设置平台手续费" aria-hidden="true">#</a></h5><h5 id="_4-22-1-创建挂单佣金对象" tabindex="-1">4.22.1 创建挂单佣金对象 <a class="header-anchor" href="#_4-22-1-创建挂单佣金对象" aria-hidden="true">#</a></h5><h6 id="方法-remote-buildbrokeragetx" tabindex="-1">方法: remote.buildBrokerageTx({}) <a class="header-anchor" href="#方法-remote-buildbrokeragetx" aria-hidden="true">#</a></h6><h6 id="参数-25" tabindex="-1">参数: <a class="header-anchor" href="#参数-25" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">管理员账号</td></tr><tr><td>mol</td><td>Integer</td><td style="text-align:right;">分子(0 和正整数)</td></tr><tr><td>den</td><td>Integer</td><td style="text-align:right;">分母(正整数)</td></tr><tr><td>app</td><td>Integer</td><td style="text-align:right;">应用来源序号(正整数)</td></tr><tr><td>amount</td><td>Object</td><td style="text-align:right;">币种对象</td></tr><tr><td>  value</td><td>String</td><td style="text-align:right;">数量，这里只是占位，没有实际意义。</td></tr><tr><td>  currency</td><td>String</td><td style="text-align:right;">货币种类</td></tr><tr><td>  issuer</td><td>String</td><td style="text-align:right;">货币发行方</td></tr></tbody></table><h5 id="_4-22-2-设置挂单佣金" tabindex="-1">4.22.2 设置挂单佣金 <a class="header-anchor" href="#_4-22-2-设置挂单佣金" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-1" tabindex="-1">方法:tx.submitPromise(secret); <a class="header-anchor" href="#方法-tx-submitpromise-secret-1" aria-hidden="true">#</a></h6><h6 id="参数-secret-密钥" tabindex="-1">参数: <code>secret</code> 密钥 <a class="header-anchor" href="#参数-secret-密钥" aria-hidden="true">#</a></h6><h6 id="返回-promise-8" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-8" aria-hidden="true">#</a></h6><h5 id="设置挂单佣金完整例子" tabindex="-1">设置挂单佣金完整例子 <a class="header-anchor" href="#设置挂单佣金完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">const</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
secret <span class="token operator">=</span> <span class="token string">&quot;s..........&quot;</span>
account <span class="token operator">=</span> <span class="token string">&quot;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&quot;</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildBrokerageTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      account<span class="token punctuation">,</span>
      mol<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      den<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
      feeAccount<span class="token operator">:</span> account<span class="token punctuation">,</span>
      amount<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;CNY&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="返回结果-19" tabindex="-1">返回结果 <a class="header-anchor" href="#返回结果-19" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token punctuation">{</span> engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;1200CD220000000024000002873900000000000000013A00000000000003E861D48AA87BEE538000000000000000000000000000434E590000000000A582E432BFC48EEDEF852C814EC57F3CD2D41596684000000000002710732102197F1426BCA2F59B6B910F0391E55888B4FE80AF962478493104A33274B1B03A74463044022074D90571F33918F429BE4C88B33206BD0848C0DAFB4A2B88256B642AB44D858002201BBEE1EBD5C0AEE07C604BA36F6E6479D4BD7D70DA143CF27E8D3A4E30673B1B8114AF09183A11AA70DA06E115E03B0E5478232740B58914AF09183A11AA70DA06E115E03B0E5478232740B5&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&#39;</span><span class="token punctuation">,</span>
     Amount<span class="token operator">:</span>
      <span class="token punctuation">{</span> currency<span class="token operator">:</span> <span class="token string">&#39;CNY&#39;</span><span class="token punctuation">,</span>
        issuer<span class="token operator">:</span> <span class="token string">&#39;jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or&#39;</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> <span class="token string">&#39;3&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
     FeeAccountID<span class="token operator">:</span> <span class="token string">&#39;jGxW97eCqxfAWvmqSgNkwc2apCejiM89bG&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     OfferFeeRateDen<span class="token operator">:</span> <span class="token string">&#39;00000000000003E8&#39;</span><span class="token punctuation">,</span>
     OfferFeeRateNum<span class="token operator">:</span> <span class="token string">&#39;0000000000000001&#39;</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">647</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span>
      <span class="token string">&#39;02197F1426BCA2F59B6B910F0391E55888B4FE80AF962478493104A33274B1B03A&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;Brokerage&#39;</span><span class="token punctuation">,</span>
     TxnSignature<span class="token operator">:</span>
      <span class="token string">&#39;3044022074D90571F33918F429BE4C88B33206BD0848C0DAFB4A2B88256B642AB44D858002201BBEE1EBD5C0AEE07C604BA36F6E6479D4BD7D70DA143CF27E8D3A4E30673B1B&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;A74D89B9FBA9A6D9F4158373EF9C57180186548B48CCA9C70F933083F12B5B0B&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-17" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-17" aria-hidden="true">#</a></h5><h3 id="_4-23-部署合约-solidity-版" tabindex="-1">4.23 部署合约 Solidity 版 <a class="header-anchor" href="#_4-23-部署合约-solidity-版" aria-hidden="true">#</a></h3><h5 id="首先通过-initcontract-方法返回一个-transaction-对象，然后通过-setsecret-传入密钥，最后通过-submit-方法完成合约的部署" tabindex="-1">首先通过 initContract 方法返回一个 Transaction 对象，然后通过 setSecret 传入密钥，最后通过 submit 方法完成合约的部署 <a class="header-anchor" href="#首先通过-initcontract-方法返回一个-transaction-对象，然后通过-setsecret-传入密钥，最后通过-submit-方法完成合约的部署" aria-hidden="true">#</a></h5><h5 id="_4-23-1-创建合约部署对象" tabindex="-1">4.23.1 创建合约部署对象 <a class="header-anchor" href="#_4-23-1-创建合约部署对象" aria-hidden="true">#</a></h5><h6 id="方法-remote-initcontract" tabindex="-1">方法:remote.initContract({}); <a class="header-anchor" href="#方法-remote-initcontract" aria-hidden="true">#</a></h6><h6 id="参数-26" tabindex="-1">参数 <a class="header-anchor" href="#参数-26" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">合约发布者</td></tr><tr><td>amount</td><td>Integer</td><td style="text-align:right;">手续费</td></tr><tr><td>payload</td><td>String</td><td style="text-align:right;">合约编译后的 16 进制字节码</td></tr><tr><td>abi</td><td>Array</td><td style="text-align:right;">合约 abi</td></tr><tr><td>params</td><td>Array</td><td style="text-align:right;">可选，合约初始化参数</td></tr></tbody></table><h6 id="返回-transaction-对象-7" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-7" aria-hidden="true">#</a></h6><h5 id="_4-23-2-部署合约" tabindex="-1"><a name="initContractSubmit"></a> 4.23.2 部署合约 <a class="header-anchor" href="#_4-23-2-部署合约" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-2" tabindex="-1">方法:tx.submitPromise(secret); <a class="header-anchor" href="#方法-tx-submitpromise-secret-2" aria-hidden="true">#</a></h6><h6 id="参数-密钥" tabindex="-1">参数: 密钥 <a class="header-anchor" href="#参数-密钥" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">合约发布者私钥</td></tr></tbody></table><h6 id="返回-promise-9" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-9" aria-hidden="true">#</a></h6><h5 id="部署合约完整例子-1" tabindex="-1">部署合约完整例子 <a class="header-anchor" href="#部署合约完整例子-1" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">const</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  solidity<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token punctuation">{</span>
  address<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> abi <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;totalSupply&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;decimals&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint8&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;withdraw&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;payable&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;_from&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;SWTBalance&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;balanceOf&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;owner&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;symbol&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;_to&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;_value&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;allowance&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;initialSupply&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;tokenName&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;tokenSymbol&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;constructor&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> payload <span class="token operator">=</span>
  <span class="token string">&quot;60806040526012600260006101000a81548160ff021916908360ff16021790555034801561002c57600080fd5b50604051610c7e380380610c7e8339810180604052606081101561004f57600080fd5b8101908080519060200190929190805164010000000081111561007157600080fd5b8281019050602081018481111561008757600080fd5b81518560018202830111640100000000821117156100a457600080fd5b505092919060200180516401000000008111156100c057600080fd5b828101905060208101848111156100d657600080fd5b81518560018202830111640100000000821117156100f357600080fd5b5050929190505050600260009054906101000a900460ff1660ff16600a0a8302600381905550600354600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555081600090805190602001906101759291906101d6565b50806001908051906020019061018c9291906101d6565b5033600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050505061027b565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061021757805160ff1916838001178555610245565b82800160010185558215610245579182015b82811115610244578251825591602001919060010190610229565b5b5090506102529190610256565b5090565b61027891905b8082111561027457600081600090555060010161025c565b5090565b90565b6109f48061028a6000396000f3fe6080604052600436106100ae576000357c01000000000000000000000000000000000000000000000000000000009004806370a082311161007657806370a082311461020e5780638da5cb5b1461027357806395d89b41146102ca578063a9059cbb1461035a578063dd62ed3e146103b5576100ae565b806306fdde03146100b357806318160ddd14610143578063313ce5671461016e5780633ccfd60b1461019f578063675c7ae6146101a9575b600080fd5b3480156100bf57600080fd5b506100c861043a565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101085780820151818401526020810190506100ed565b50505050905090810190601f1680156101355780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561014f57600080fd5b506101586104d8565b6040518082815260200191505060405180910390f35b34801561017a57600080fd5b506101836104de565b604051808260ff1660ff16815260200191505060405180910390f35b6101a76104f1565b005b3480156101b557600080fd5b506101f8600480360360208110156101cc57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506105cf565b6040518082815260200191505060405180910390f35b34801561021a57600080fd5b5061025d6004803603602081101561023157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506105f0565b6040518082815260200191505060405180910390f35b34801561027f57600080fd5b50610288610608565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156102d657600080fd5b506102df61062e565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561031f578082015181840152602081019050610304565b50505050905090810190601f16801561034c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561036657600080fd5b506103b36004803603604081101561037d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506106cc565b005b3480156103c157600080fd5b50610424600480360360408110156103d857600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506106db565b6040518082815260200191505060405180910390f35b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104d05780601f106104a5576101008083540402835291602001916104d0565b820191906000526020600020905b8154815290600101906020018083116104b357829003601f168201915b505050505081565b60035481565b600260009054906101000a900460ff1681565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561054d57600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc3073ffffffffffffffffffffffffffffffffffffffff16319081150290604051600060405180830381858888f193505050501580156105cc573d6000803e3d6000fd5b50565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b60056020528060005260406000206000915090505481565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156106c45780601f10610699576101008083540402835291602001916106c4565b820191906000526020600020905b8154815290600101906020018083116106a757829003601f168201915b505050505081565b6106d7338383610700565b5050565b6006602052816000526040600020602052806000526040600020600091509150505481565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151561073c57600080fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541015151561078a57600080fd5b600560008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205481600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020540111151561081857600080fd5b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600560008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205401905081600560008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254039250508190555081600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555080600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600560008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054011415156109c257fe5b5050505056fea165627a7a72305820d122ff8ff7133c0852e95b8334f76d8f494b11ac94ac3c4b3409bad19f0d09340029&quot;</span>

remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">initContract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      account<span class="token operator">:</span> v<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
      amount<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      payload<span class="token punctuation">,</span>
      abi<span class="token punctuation">,</span>
      params<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2000</span><span class="token punctuation">,</span> <span class="token string">&quot;TestCurrency&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TEST1&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>secret<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="输出-1" tabindex="-1">输出 <a class="header-anchor" href="#输出-1" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token punctuation">{</span> ContractState<span class="token operator">:</span> <span class="token string">&#39;j3QhjEeyB2uje8HeyYKByRNqS3sYzH7Yuz&#39;</span><span class="token punctuation">,</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;12001F220000000024000002702026000000006140000000009896806840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E1574463044022043113BE98D73B0404E5B2D27CF66E89D03F1523E6C5D662ED0F3CDE983962FC90220099391CB17B50D6941B69344D070C9C1A43BF98DBE401B8E4522E4DABB499F407010DAFB3630383036303430353236303132363030323630303036313031303030613831353438313630666630323139313639303833363066663136303231373930353535303334383031353631303032633537363030303830666435623530363034303531363130633765333830333830363130633765383333393831303138303630343035323630363038313130313536313030346635373630303038306664356238313031393038303830353139303630323030313930393239313930383035313634303130303030303030303831313131353631303037313537363030303830666435623832383130313930353036303230383130313834383131313135363130303837353736303030383066643562383135313835363030313832303238333031313136343031303030303030303038323131313731353631303061343537363030303830666435623530353039323931393036303230303138303531363430313030303030303030383131313135363130306330353736303030383066643562383238313031393035303630323038313031383438313131313536313030643635373630303038306664356238313531383536303031383230323833303131313634303130303030303030303832313131373135363130306633353736303030383066643562353035303932393139303530353035303630303236303030393035343930363130313030306139303034363066663136363066663136363030613061383330323630303338313930353535303630303335343630303536303030333337336666666666666666666666666666666666666666666666666666666666666666666666666666666631363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136383135323630323030313930383135323630323030313630303032303831393035353530383136303030393038303531393036303230303139303631303137353932393139303631303164363536356235303830363030313930383035313930363032303031393036313031386339323931393036313031643635363562353033333630303436303030363130313030306138313534383137336666666666666666666666666666666666666666666666666666666666666666666666666666666630323139313639303833373366666666666666666666666666666666666666666666666666666666666666666666666666666666313630323137393035353530353035303530363130323762353635623832383035343630303138313630303131363135363130313030303230333136363030323930303439303630303035323630323036303030323039303630316630313630323039303034383130313932383236303166313036313032313735373830353136306666313931363833383030313137383535353631303234353536356238323830303136303031303138353535383231353631303234353537393138323031356238323831313131353631303234343537383235313832353539313630323030313931393036303031303139303631303232393536356235623530393035303631303235323931393036313032353635363562353039303536356236313032373839313930356238303832313131353631303237343537363030303831363030303930353535303630303130313631303235633536356235303930353635623930353635623631303966343830363130323861363030303339363030306633666536303830363034303532363030343336313036313030616535373630303033353763303130303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303930303438303633373061303832333131313631303037363537383036333730613038323331313436313032306535373830363338646135636235623134363130323733353738303633393564383962343131343631303263613537383036336139303539636262313436313033356135373830363364643632656433653134363130336235353736313030616535363562383036333036666464653033313436313030623335373830363331383136306464643134363130313433353738303633333133636535363731343631303136653537383036333363636664363062313436313031396635373830363336373563376165363134363130316139353735623630303038306664356233343830313536313030626635373630303038306664356235303631303063383631303433613536356236303430353138303830363032303031383238313033383235323833383138313531383135323630323030313931353038303531393036303230303139303830383338333630303035623833383131303135363130313038353738303832303135313831383430313532363032303831303139303530363130306564353635623530353035303530393035303930383130313930363031663136383031353631303133353537383038323033383035313630303138333630323030333631303130303061303331393136383135323630323030313931353035623530393235303530353036303430353138303931303339306633356233343830313536313031346635373630303038306664356235303631303135383631303464383536356236303430353138303832383135323630323030313931353035303630343035313830393130333930663335623334383031353631303137613537363030303830666435623530363130313833363130346465353635623630343035313830383236306666313636306666313638313532363032303031393135303530363034303531383039313033393066333562363130316137363130346631353635623030356233343830313536313031623535373630303038306664356235303631303166383630303438303336303336303230383131303135363130316363353736303030383066643562383130313930383038303335373366666666666666666666666666666666666666666666666666666666666666666666666666666666313639303630323030313930393239313930353035303530363130356366353635623630343035313830383238313532363032303031393135303530363034303531383039313033393066333562333438303135363130323161353736303030383066643562353036313032356436303034383033363033363032303831313031353631303233313537363030303830666435623831303139303830383033353733666666666666666666666666666666666666666666666666666666666666666666666666666666663136393036303230303139303932393139303530353035303631303566303536356236303430353138303832383135323630323030313931353035303630343035313830393130333930663335623334383031353631303237663537363030303830666435623530363130323838363130363038353635623630343035313830383237336666666666666666666666666666666666666666666666666666666666666666666666666666666631363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136383135323630323030313931353035303630343035313830393130333930663335623334383031353631303264363537363030303830666435623530363130326466363130363265353635623630343035313830383036303230303138323831303338323532383338313831353138313532363032303031393135303830353139303630323030313930383038333833363030303562383338313130313536313033316635373830383230313531383138343031353236303230383130313930353036313033303435363562353035303530353039303530393038313031393036303166313638303135363130333463353738303832303338303531363030313833363032303033363130313030306130333139313638313532363032303031393135303562353039323530353035303630343035313830393130333930663335623334383031353631303336363537363030303830666435623530363130336233363030343830333630333630343038313130313536313033376435373630303038306664356238313031393038303830333537336666666666666666666666666666666666666666666666666666666666666666666666666666666631363930363032303031393039323931393038303335393036303230303139303932393139303530353035303631303663633536356230303562333438303135363130336331353736303030383066643562353036313034323436303034383033363033363034303831313031353631303364383537363030303830666435623831303139303830383033353733666666666666666666666666666666666666666666666666666666666666666666666666666666663136393036303230303139303932393139303830333537336666666666666666666666666666666666666666666666666666666666666666666666666666666631363930363032303031393039323931393035303530353036313036646235363562363034303531383038323831353236303230303139313530353036303430353138303931303339306633356236303030383035343630303138313630303131363135363130313030303230333136363030323930303438303630316630313630323038303931303430323630323030313630343035313930383130313630343035323830393239313930383138313532363032303031383238303534363030313831363030313136313536313031303030323033313636303032393030343830313536313034643035373830363031663130363130346135353736313031303038303833353430343032383335323931363032303031393136313034643035363562383230313931393036303030353236303230363030303230393035623831353438313532393036303031303139303630323030313830383331313631303462333537383239303033363031663136383230313931356235303530353035303530383135363562363030333534383135363562363030323630303039303534393036313031303030613930303436306666313638313536356236303034363030303930353439303631303130303061393030343733666666666666666666666666666666666666666666666666666666666666666666666666666666663136373366666666666666666666666666666666666666666666666666666666666666666666666666666666313633333733666666666666666666666666666666666666666666666666666666666666666666666666666666663136313431353135363130353464353736303030383066643562363030343630303039303534393036313031303030613930303437336666666666666666666666666666666666666666666666666666666666666666666666666666666631363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136363130386663333037336666666666666666666666666666666666666666666666666666666666666666666666666666666631363331393038313135303239303630343035313630303036303430353138303833303338313835383838386631393335303530353035303135383031353631303563633537336436303030383033653364363030306664356235303536356236303030383137336666666666666666666666666666666666666666666666666666666666666666666666666666666631363331393035303931393035303536356236303035363032303532383036303030353236303430363030303230363030303931353039303530353438313536356236303034363030303930353439303631303130303061393030343733666666666666666666666666666666666666666666666666666666666666666666666666666666663136383135363562363030313830353436303031383136303031313631353631303130303032303331363630303239303034383036303166303136303230383039313034303236303230303136303430353139303831303136303430353238303932393139303831383135323630323030313832383035343630303138313630303131363135363130313030303230333136363030323930303438303135363130366334353738303630316631303631303639393537363130313030383038333534303430323833353239313630323030313931363130366334353635623832303139313930363030303532363032303630303032303930356238313534383135323930363030313031393036303230303138303833313136313036613735373832393030333630316631363832303139313562353035303530353035303831353635623631303664373333383338333631303730303536356235303530353635623630303636303230353238313630303035323630343036303030323036303230353238303630303035323630343036303030323036303030393135303931353035303534383135363562363030303733666666666666666666666666666666666666666666666666666666666666666666666666666666663136383237336666666666666666666666666666666666666666666666666666666666666666666666666666666631363134313531353135363130373363353736303030383066643562383036303035363030303835373366666666666666666666666666666666666666666666666666666666666666666666666666666666313637336666666666666666666666666666666666666666666666666666666666666666666666666666666631363831353236303230303139303831353236303230303136303030323035343130313531353135363130373861353736303030383066643562363030353630303038333733666666666666666666666666666666666666666666666666666666666666666666666666666666663136373366666666666666666666666666666666666666666666666666666666666666666666666666666666313638313532363032303031393038313532363032303031363030303230353438313630303536303030383537336666666666666666666666666666666666666666666666666666666666666666666666666666666631363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136383135323630323030313930383135323630323030313630303032303534303131313135313536313038313835373630303038306664356236303030363030353630303038343733666666666666666666666666666666666666666666666666666666666666666666666666666666663136373366666666666666666666666666666666666666666666666666666666666666666666666666666666313638313532363032303031393038313532363032303031363030303230353436303035363030303836373366666666666666666666666666666666666666666666666666666666666666666666666666666666313637336666666666666666666666666666666666666666666666666666666666666666666666666666666631363831353236303230303139303831353236303230303136303030323035343031393035303831363030353630303038363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136373366666666666666666666666666666666666666666666666666666666666666666666666666666666313638313532363032303031393038313532363032303031363030303230363030303832383235343033393235303530383139303535353038313630303536303030383537336666666666666666666666666666666666666666666666666666666666666666666666666666666631363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136383135323630323030313930383135323630323030313630303032303630303038323832353430313932353035303831393035353530383036303035363030303835373366666666666666666666666666666666666666666666666666666666666666666666666666666666313637336666666666666666666666666666666666666666666666666666666666666666666666666666666631363831353236303230303139303831353236303230303136303030323035343630303536303030383737336666666666666666666666666666666666666666666666666666666666666666666666666666666631363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136383135323630323030313930383135323630323030313630303032303534303131343135313536313039633235376665356235303530353035303536666561313635363237613761373233303538323064313232666638666637313333633038353265393562383333346637366438663439346231316163393461633363346233343039626164313966306430393334303032393030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303037643030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303630303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303061303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030306335343635373337343433373537323732363536653633373930303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030353534343535333534333130303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303081141359AA928F4D98FDB3D93E8B690C80D37DED11C3&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
     Amount<span class="token operator">:</span> <span class="token string">&#39;10000000&#39;</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Method<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Payload<span class="token operator">:</span>
      <span class="token string">&#39;36303830363034303532363031323630303236303030363130313030306138313534383136306666303231393136393038333630666631363032313739303535353033343830313536313030326335373630303038306664356235303630343035313631306337653338303338303631306337653833333938313031383036303430353236303630383131303135363130303466353736303030383066643562383130313930383038303531393036303230303139303932393139303830353136343031303030303030303038313131313536313030373135373630303038306664356238323831303139303530363032303831303138343831313131353631303038373537363030303830666435623831353138353630303138323032383330313131363430313030303030303030383231313137313536313030613435373630303038306664356235303530393239313930363032303031383035313634303130303030303030303831313131353631303063303537363030303830666435623832383130313930353036303230383130313834383131313135363130306436353736303030383066643562383135313835363030313832303238333031313136343031303030303030303038323131313731353631303066333537363030303830666435623530353039323931393035303530353036303032363030303930353439303631303130303061393030343630666631363630666631363630306130613833303236303033383139303535353036303033353436303035363030303333373366666666666666666666666666666666666666666666666666666666666666666666666666666666313637336666666666666666666666666666666666666666666666666666666666666666666666666666666631363831353236303230303139303831353236303230303136303030323038313930353535303831363030303930383035313930363032303031393036313031373539323931393036313031643635363562353038303630303139303830353139303630323030313930363130313863393239313930363130316436353635623530333336303034363030303631303130303061383135343831373366666666666666666666666666666666666666666666666666666666666666666666666666666666303231393136393038333733666666666666666666666666666666666666666666666666666666666666666666666666666666663136303231373930353535303530353035303631303237623536356238323830353436303031383136303031313631353631303130303032303331363630303239303034393036303030353236303230363030303230393036303166303136303230393030343831303139323832363031663130363130323137353738303531363066663139313638333830303131373835353536313032343535363562383238303031363030313031383535353832313536313032343535373931383230313562383238313131313536313032343435373832353138323535393136303230303139313930363030313031393036313032323935363562356235303930353036313032353239313930363130323536353635623530393035363562363130323738393139303562383038323131313536313032373435373630303038313630303039303535353036303031303136313032356335363562353039303536356239303536356236313039663438303631303238613630303033393630303066336665363038303630343035323630303433363130363130306165353736303030333537633031303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303039303034383036333730613038323331313136313030373635373830363337306130383233313134363130323065353738303633386461356362356231343631303237333537383036333935643839623431313436313032636135373830363361393035396362623134363130333561353738303633646436326564336531343631303362353537363130306165353635623830363330366664646530333134363130306233353738303633313831363064646431343631303134333537383036333331336365353637313436313031366535373830363333636366643630623134363130313966353738303633363735633761653631343631303161393537356236303030383066643562333438303135363130306266353736303030383066643562353036313030633836313034336135363562363034303531383038303630323030313832383130333832353238333831383135313831353236303230303139313530383035313930363032303031393038303833383336303030356238333831313031353631303130383537383038323031353138313834303135323630323038313031393035303631303065643536356235303530353035303930353039303831303139303630316631363830313536313031333535373830383230333830353136303031383336303230303336313031303030613033313931363831353236303230303139313530356235303932353035303530363034303531383039313033393066333562333438303135363130313466353736303030383066643562353036313031353836313034643835363562363034303531383038323831353236303230303139313530353036303430353138303931303339306633356233343830313536313031376135373630303038306664356235303631303138333631303464653536356236303430353138303832363066663136363066663136383135323630323030313931353035303630343035313830393130333930663335623631303161373631303466313536356230303562333438303135363130316235353736303030383066643562353036313031663836303034383033363033363032303831313031353631303163633537363030303830666435623831303139303830383033353733666666666666666666666666666666666666666666666666666666666666666666666666666666663136393036303230303139303932393139303530353035303631303563663536356236303430353138303832383135323630323030313931353035303630343035313830393130333930663335623334383031353631303231613537363030303830666435623530363130323564363030343830333630333630323038313130313536313032333135373630303038306664356238313031393038303830333537336666666666666666666666666666666666666666666666666666666666666666666666666666666631363930363032303031393039323931393035303530353036313035663035363562363034303531383038323831353236303230303139313530353036303430353138303931303339306633356233343830313536313032376635373630303038306664356235303631303238383631303630383536356236303430353138303832373366666666666666666666666666666666666666666666666666666666666666666666666666666666313637336666666666666666666666666666666666666666666666666666666666666666666666666666666631363831353236303230303139313530353036303430353138303931303339306633356233343830313536313032643635373630303038306664356235303631303264663631303632653536356236303430353138303830363032303031383238313033383235323833383138313531383135323630323030313931353038303531393036303230303139303830383338333630303035623833383131303135363130333166353738303832303135313831383430313532363032303831303139303530363130333034353635623530353035303530393035303930383130313930363031663136383031353631303334633537383038323033383035313630303138333630323030333631303130303061303331393136383135323630323030313931353035623530393235303530353036303430353138303931303339306633356233343830313536313033363635373630303038306664356235303631303362333630303438303336303336303430383131303135363130333764353736303030383066643562383130313930383038303335373366666666666666666666666666666666666666666666666666666666666666666666666666666666313639303630323030313930393239313930383033353930363032303031393039323931393035303530353036313036636335363562303035623334383031353631303363313537363030303830666435623530363130343234363030343830333630333630343038313130313536313033643835373630303038306664356238313031393038303830333537336666666666666666666666666666666666666666666666666666666666666666666666666666666631363930363032303031393039323931393038303335373366666666666666666666666666666666666666666666666666666666666666666666666666666666313639303630323030313930393239313930353035303530363130366462353635623630343035313830383238313532363032303031393135303530363034303531383039313033393066333562363030303830353436303031383136303031313631353631303130303032303331363630303239303034383036303166303136303230383039313034303236303230303136303430353139303831303136303430353238303932393139303831383135323630323030313832383035343630303138313630303131363135363130313030303230333136363030323930303438303135363130346430353738303630316631303631303461353537363130313030383038333534303430323833353239313630323030313931363130346430353635623832303139313930363030303532363032303630303032303930356238313534383135323930363030313031393036303230303138303833313136313034623335373832393030333630316631363832303139313562353035303530353035303831353635623630303335343831353635623630303236303030393035343930363130313030306139303034363066663136383135363562363030343630303039303534393036313031303030613930303437336666666666666666666666666666666666666666666666666666666666666666666666666666666631363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136333337336666666666666666666666666666666666666666666666666666666666666666666666666666666631363134313531353631303534643537363030303830666435623630303436303030393035343930363130313030306139303034373366666666666666666666666666666666666666666666666666666666666666666666666666666666313637336666666666666666666666666666666666666666666666666666666666666666666666666666666631363631303866633330373366666666666666666666666666666666666666666666666666666666666666666666666666666666313633313930383131353032393036303430353136303030363034303531383038333033383138353838383866313933353035303530353031353830313536313035636335373364363030303830336533643630303066643562353035363562363030303831373366666666666666666666666666666666666666666666666666666666666666666666666666666666313633313930353039313930353035363562363030353630323035323830363030303532363034303630303032303630303039313530393035303534383135363562363030343630303039303534393036313031303030613930303437336666666666666666666666666666666666666666666666666666666666666666666666666666666631363831353635623630303138303534363030313831363030313136313536313031303030323033313636303032393030343830363031663031363032303830393130343032363032303031363034303531393038313031363034303532383039323931393038313831353236303230303138323830353436303031383136303031313631353631303130303032303331363630303239303034383031353631303663343537383036303166313036313036393935373631303130303830383335343034303238333532393136303230303139313631303663343536356238323031393139303630303035323630323036303030323039303562383135343831353239303630303130313930363032303031383038333131363130366137353738323930303336303166313638323031393135623530353035303530353038313536356236313036643733333833383336313037303035363562353035303536356236303036363032303532383136303030353236303430363030303230363032303532383036303030353236303430363030303230363030303931353039313530353035343831353635623630303037336666666666666666666666666666666666666666666666666666666666666666666666666666666631363832373366666666666666666666666666666666666666666666666666666666666666666666666666666666313631343135313531353631303733633537363030303830666435623830363030353630303038353733666666666666666666666666666666666666666666666666666666666666666666666666666666663136373366666666666666666666666666666666666666666666666666666666666666666666666666666666313638313532363032303031393038313532363032303031363030303230353431303135313531353631303738613537363030303830666435623630303536303030383337336666666666666666666666666666666666666666666666666666666666666666666666666666666631363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136383135323630323030313930383135323630323030313630303032303534383136303035363030303835373366666666666666666666666666666666666666666666666666666666666666666666666666666666313637336666666666666666666666666666666666666666666666666666666666666666666666666666666631363831353236303230303139303831353236303230303136303030323035343031313131353135363130383138353736303030383066643562363030303630303536303030383437336666666666666666666666666666666666666666666666666666666666666666666666666666666631363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136383135323630323030313930383135323630323030313630303032303534363030353630303038363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136373366666666666666666666666666666666666666666666666666666666666666666666666666666666313638313532363032303031393038313532363032303031363030303230353430313930353038313630303536303030383637336666666666666666666666666666666666666666666666666666666666666666666666666666666631363733666666666666666666666666666666666666666666666666666666666666666666666666666666663136383135323630323030313930383135323630323030313630303032303630303038323832353430333932353035303831393035353530383136303035363030303835373366666666666666666666666666666666666666666666666666666666666666666666666666666666313637336666666666666666666666666666666666666666666666666666666666666666666666666666666631363831353236303230303139303831353236303230303136303030323036303030383238323534303139323530353038313930353535303830363030353630303038353733666666666666666666666666666666666666666666666666666666666666666666666666666666663136373366666666666666666666666666666666666666666666666666666666666666666666666666666666313638313532363032303031393038313532363032303031363030303230353436303035363030303837373366666666666666666666666666666666666666666666666666666666666666666666666666666666313637336666666666666666666666666666666666666666666666666666666666666666666666666666666631363831353236303230303139303831353236303230303136303030323035343031313431353135363130396332353766653562353035303530353035366665613136353632376137613732333035383230643132326666386666373133336330383532653935623833333466373664386634393462313161633934616333633462333430396261643139663064303933343030323930303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030376430303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303036303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030613030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303063353436353733373434333735373237323635366536333739303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303535343435353335343331303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030&#39;</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">624</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span>
      <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;AlethContract&#39;</span><span class="token punctuation">,</span>
     TxnSignature<span class="token operator">:</span>
      <span class="token string">&#39;3044022043113BE98D73B0404E5B2D27CF66E89D03F1523E6C5D662ED0F3CDE983962FC90220099391CB17B50D6941B69344D070C9C1A43BF98DBE401B8E4522E4DABB499F40&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;BE321F06749FA9FFEA556BB5761BE964D5C3029BF95EE6D95B21EB738EF53765&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-24-调用合约-solidity-版" tabindex="-1">4.24 调用合约(Solidity 版) <a class="header-anchor" href="#_4-24-调用合约-solidity-版" aria-hidden="true">#</a></h3><h5 id="首先通过-invokecontract-方法返回一个-transaction-对象，然后通过-submitpromise-方法完成合约的调用。" tabindex="-1">首先通过 invokeContract 方法返回一个 Transaction 对象，然后通过 submitPromise 方法完成合约的调用。 <a class="header-anchor" href="#首先通过-invokecontract-方法返回一个-transaction-对象，然后通过-submitpromise-方法完成合约的调用。" aria-hidden="true">#</a></h5><h5 id="_4-24-1-创建合约调用对象" tabindex="-1">4.24.1 创建合约调用对象 <a class="header-anchor" href="#_4-24-1-创建合约调用对象" aria-hidden="true">#</a></h5><h6 id="方法-remote-invokecontract" tabindex="-1">方法:remote.invokeContract({}) <a class="header-anchor" href="#方法-remote-invokecontract" aria-hidden="true">#</a></h6><h6 id="参数-27" tabindex="-1">参数 <a class="header-anchor" href="#参数-27" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">合约发布者</td></tr><tr><td>destination</td><td>String</td><td style="text-align:right;">合约帐号</td></tr><tr><td>abi</td><td>Array</td><td style="text-align:right;">合约 abi</td></tr><tr><td>func</td><td>String</td><td style="text-align:right;">合约函数名及参数</td></tr></tbody></table><h6 id="返回-transaction-对象-8" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-8" aria-hidden="true">#</a></h6><h5 id="_4-24-3-执行合约" tabindex="-1"><a name="invokeContractSubmit"></a> 4.24.3 执行合约 <a class="header-anchor" href="#_4-24-3-执行合约" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-3" tabindex="-1">方法:tx.submitPromise(secret); <a class="header-anchor" href="#方法-tx-submitpromise-secret-3" aria-hidden="true">#</a></h6><h6 id="参数-28" tabindex="-1">参数: <a class="header-anchor" href="#参数-28" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">合约执行者私钥</td></tr></tbody></table><h6 id="返回-promise-10" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-10" aria-hidden="true">#</a></h6><h6 id="例子-13" tabindex="-1">例子 <a class="header-anchor" href="#例子-13" aria-hidden="true">#</a></h6><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span> server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span> solidity<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token punctuation">{</span>
  address<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> abi <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;totalSupply&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;decimals&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint8&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;withdraw&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;payable&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;_from&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;SWTBalance&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;balanceOf&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;owner&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;symbol&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;_to&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;_value&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    constant<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;address&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;allowance&quot;</span><span class="token punctuation">,</span>
    outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    inputs<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;initialSupply&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;tokenName&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;tokenSymbol&quot;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    payable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stateMutability<span class="token operator">:</span> <span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">&quot;constructor&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token keyword">var</span> tx
<span class="token keyword">var</span> destination <span class="token operator">=</span> <span class="token string">&quot;j3QhjEeyB2uje8HeyYKByRNqS3sYzH7Yuz&quot;</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">invokeContract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      account<span class="token operator">:</span> v<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
      destination<span class="token punctuation">,</span>
      abi<span class="token punctuation">,</span>
      func<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">transfer(&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>destination<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;, 5)</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>secret<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h6 id="输出-2" tabindex="-1">输出 <a class="header-anchor" href="#输出-2" aria-hidden="true">#</a></h6><div class="language-javascript"><pre><code><span class="token punctuation">{</span> ContractState<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;12001F220000000024000002722026000000016140000000000000006840000000000027107321029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15744630440220508E92885543E6359463B420B4E1962D65DD4744D19FC90F278A2D6DC9F3D43102204C9E1D16759E1D76A0305C1A7782F633C5B23213B4FA3135E550C3F87ECA022581141359AA928F4D98FDB3D93E8B690C80D37DED11C383145124F49CD3012D9DF1A5359522CA54ED92C5A637FEEF70138861393035396362623030303030303030303030303030303035313234663439636433303132643964663161353335393532326361353465643932633561363337386232386436663530303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303035041000E1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
     Amount<span class="token operator">:</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>
     Args<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
     Destination<span class="token operator">:</span> <span class="token string">&#39;j3QhjEeyB2uje8HeyYKByRNqS3sYzH7Yuz&#39;</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Method<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">626</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span>
      <span class="token string">&#39;029110C3744FB57BD1F4824F5B989AE75EB6402B4365B501F6EDCA9BE44A675E15&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;AlethContract&#39;</span><span class="token punctuation">,</span>
     TxnSignature<span class="token operator">:</span>
      <span class="token string">&#39;30440220508E92885543E6359463B420B4E1962D65DD4744D19FC90F278A2D6DC9F3D43102204C9E1D16759E1D76A0305C1A7782F633C5B23213B4FA3135E550C3F87ECA0225&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;041F2D514FCEABE5015B3E26F47041DB7E51FA577D9331507E9B2BB8DDCD0162&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-25-监听事件" tabindex="-1">4.25 监听事件 <a class="header-anchor" href="#_4-25-监听事件" aria-hidden="true">#</a></h3><h5 id="remote-有两个监听事件-监听所有交易-transactions-和监听所有账本-ledger-closed-，监听结果放到回调函数中，回调中只有一个参数，为监听到的消息。" tabindex="-1">Remote 有两个监听事件:监听所有交易(transactions)和监听所有账本(ledger_closed)，监听结果放到回调函数中，回调中只有一个参数，为监听到的消息。 <a class="header-anchor" href="#remote-有两个监听事件-监听所有交易-transactions-和监听所有账本-ledger-closed-，监听结果放到回调函数中，回调中只有一个参数，为监听到的消息。" aria-hidden="true">#</a></h5><h5 id="方法-remote-on-transactions-callback" tabindex="-1">方法:remote.on(&#39;transactions&#39;,callback); <a class="header-anchor" href="#方法-remote-on-transactions-callback" aria-hidden="true">#</a></h5><h5 id="方法-remote-on-ledger-closed-callback" tabindex="-1">方法:remote.on(&#39;ledger_closed&#39;,callback); <a class="header-anchor" href="#方法-remote-on-ledger-closed-callback" aria-hidden="true">#</a></h5><h5 id="例子-14" tabindex="-1">例子: <a class="header-anchor" href="#例子-14" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;err:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  remote<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;transactions&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;tx: &quot;</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  remote<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;ledger_closed&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ledger: &quot;</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_5-request-类" tabindex="-1">5 REQUEST 类 <a class="header-anchor" href="#_5-request-类" aria-hidden="true">#</a></h2><h5 id="request-类主管-get-请求，包括获得服务器、账号、挂单、路径等信息。请求时不需要提供密-钥，且对所有用户公开。所有的请求是异步的，会提供一个回调函数。每个回调函数有两个参-数，一个是错误，另一个是结果。提供以下方法" tabindex="-1">Request 类主管 GET 请求，包括获得服务器、账号、挂单、路径等信息。请求时不需要提供密 钥，且对所有用户公开。所有的请求是异步的，会提供一个回调函数。每个回调函数有两个参 数，一个是错误，另一个是结果。提供以下方法: <a class="header-anchor" href="#request-类主管-get-请求，包括获得服务器、账号、挂单、路径等信息。请求时不需要提供密-钥，且对所有用户公开。所有的请求是异步的，会提供一个回调函数。每个回调函数有两个参-数，一个是错误，另一个是结果。提供以下方法" aria-hidden="true">#</a></h5><ul><li>selectLedger(ledger)</li><li>submit(callback)</li><li>submitPromise()</li></ul><h3 id="_5-1-指定账本" tabindex="-1">5.1 指定账本 <a class="header-anchor" href="#_5-1-指定账本" aria-hidden="true">#</a></h3><h5 id="方法-selectledger-ledger" tabindex="-1">方法:selectLedger(ledger); <a class="header-anchor" href="#方法-selectledger-ledger" aria-hidden="true">#</a></h5><h5 id="参数-29" tabindex="-1">参数: <a class="header-anchor" href="#参数-29" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>ledger</td><td>String</td><td style="text-align:right;">账本高度或者账号 hash</td></tr></tbody></table><h5 id="例子-15" tabindex="-1">例子 <a class="header-anchor" href="#例子-15" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;err:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> req <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">requestAccountInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  req<span class="token punctuation">.</span><span class="token function">selectLedger</span><span class="token punctuation">(</span><span class="token string">&quot;2846000&quot;</span><span class="token punctuation">)</span>
  req<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_5-2-提交请求" tabindex="-1">5.2 提交请求 <a class="header-anchor" href="#_5-2-提交请求" aria-hidden="true">#</a></h3><h5 id="方法-submit-callback" tabindex="-1">方法:submit(callback); <a class="header-anchor" href="#方法-submit-callback" aria-hidden="true">#</a></h5><h5 id="参数-回调函数，包含两个参数-错误信息和结果信息" tabindex="-1">参数:回调函数，包含两个参数:错误信息和结果信息 <a class="header-anchor" href="#参数-回调函数，包含两个参数-错误信息和结果信息" aria-hidden="true">#</a></h5><h5 id="方法-submitpromise-secret-memo" tabindex="-1">方法:submitPromise(secret, memo); <a class="header-anchor" href="#方法-submitpromise-secret-memo" aria-hidden="true">#</a></h5><h6 id="参数-30" tabindex="-1">参数: <a class="header-anchor" href="#参数-30" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr><tr><td>memo</td><td>String</td><td style="text-align:right;">备注信息</td></tr></tbody></table><h6 id="返回-promise-11" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-11" aria-hidden="true">#</a></h6><h5 id="例子-16" tabindex="-1">例子 <a class="header-anchor" href="#例子-16" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;err:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> req <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">requestAccountInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  req<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_6-transaction-类" tabindex="-1">6 TRANSACTION 类 <a class="header-anchor" href="#_6-transaction-类" aria-hidden="true">#</a></h2><h5 id="transaction-类主管-post-请求，包括组装交易和交易参数。请求时需要提供密钥，且交易可以-进行本地签名和服务器签名。目前支持服务器签名，本地签名支持主要的交易，还有部分参数-不支持。所有的请求是异步的，会提供一个回调函数。每个回调函数有两个参数，一个是错误，-另一个是结果。提供以下方法" tabindex="-1">Transaction 类主管 POST 请求，包括组装交易和交易参数。请求时需要提供密钥，且交易可以 进行本地签名和服务器签名。目前支持服务器签名，本地签名支持主要的交易，还有部分参数 不支持。所有的请求是异步的，会提供一个回调函数。每个回调函数有两个参数，一个是错误， 另一个是结果。提供以下方法: <a class="header-anchor" href="#transaction-类主管-post-请求，包括组装交易和交易参数。请求时需要提供密钥，且交易可以-进行本地签名和服务器签名。目前支持服务器签名，本地签名支持主要的交易，还有部分参数-不支持。所有的请求是异步的，会提供一个回调函数。每个回调函数有两个参数，一个是错误，-另一个是结果。提供以下方法" aria-hidden="true">#</a></h5><ul><li>getAccount()</li><li>getTransactionType()</li><li>setSecret(secret)</li><li>addMemo(memo)</li><li>setPath(key)</li><li>setSendMax(amount)</li><li>setTransferRate(rate)</li><li>setFlags(flags)</li><li>submit(callback)</li></ul><h5 id="额外" tabindex="-1">额外 <a class="header-anchor" href="#额外" aria-hidden="true">#</a></h5><ul><li>signPromise(secret, [memo, [sequence])]</li><li>submitPromise(secret, [memo, [sequence])]</li></ul><h3 id="_6-1-获得交易账号" tabindex="-1">6.1 获得交易账号 <a class="header-anchor" href="#_6-1-获得交易账号" aria-hidden="true">#</a></h3><h5 id="方法-getaccount" tabindex="-1">方法:getAccount(); <a class="header-anchor" href="#方法-getaccount" aria-hidden="true">#</a></h5><h5 id="参数-无-6" tabindex="-1">参数:无 <a class="header-anchor" href="#参数-无-6" aria-hidden="true">#</a></h5><h5 id="返回-账号" tabindex="-1">返回:账号 <a class="header-anchor" href="#返回-账号" aria-hidden="true">#</a></h5><h5 id="例子-17" tabindex="-1">例子: <a class="header-anchor" href="#例子-17" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span> sequence<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span>
<span class="token keyword">var</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildOfferCancelTx</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
<span class="token keyword">var</span> account <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span>
</code></pre></div><h3 id="_6-2-获得交易类型" tabindex="-1">6.2 获得交易类型 <a class="header-anchor" href="#_6-2-获得交易类型" aria-hidden="true">#</a></h3><h5 id="方法-gettransactiontype" tabindex="-1">方法:getTransactionType(); <a class="header-anchor" href="#方法-gettransactiontype" aria-hidden="true">#</a></h5><h5 id="参数-无-7" tabindex="-1">参数:无 <a class="header-anchor" href="#参数-无-7" aria-hidden="true">#</a></h5><h5 id="返回-交易类型" tabindex="-1">返回:交易类型 <a class="header-anchor" href="#返回-交易类型" aria-hidden="true">#</a></h5><h5 id="例子-18" tabindex="-1">例子: <a class="header-anchor" href="#例子-18" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span> sequence<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span>
<span class="token keyword">var</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildOfferCancelTx</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
<span class="token keyword">var</span> type <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">getTransactionType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span>
</code></pre></div><h3 id="_6-3-传入私钥" tabindex="-1">6.3 传入私钥 <a class="header-anchor" href="#_6-3-传入私钥" aria-hidden="true">#</a></h3><h5 id="交易提交之前需要传入私钥。" tabindex="-1">交易提交之前需要传入私钥。 <a class="header-anchor" href="#交易提交之前需要传入私钥。" aria-hidden="true">#</a></h5><h5 id="方法-setsecret-secret" tabindex="-1">方法:setSecret(secret); <a class="header-anchor" href="#方法-setsecret-secret" aria-hidden="true">#</a></h5><h5 id="参数-31" tabindex="-1">参数: <a class="header-anchor" href="#参数-31" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">井通钱包私钥</td></tr></tbody></table><h5 id="返回-transaction-对象-9" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-9" aria-hidden="true">#</a></h5><h5 id="例子-19" tabindex="-1">例子: <a class="header-anchor" href="#例子-19" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span> sequence<span class="token operator">:</span> <span class="token number">8</span> <span class="token punctuation">}</span>
<span class="token keyword">var</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildOfferCancelTx</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
tx<span class="token punctuation">.</span><span class="token function">setSecret</span><span class="token punctuation">(</span><span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_6-4-添加备注-方法-addmemo-memo" tabindex="-1">6.4 添加备注 方法:addMemo(memo); <a class="header-anchor" href="#_6-4-添加备注-方法-addmemo-memo" aria-hidden="true">#</a></h3><h5 id="参数-32" tabindex="-1">参数: <a class="header-anchor" href="#参数-32" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>memo</td><td>String</td><td style="text-align:right;">备注信息，不超过 2k。</td></tr></tbody></table><h5 id="返回-transaction-对象-10" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-10" aria-hidden="true">#</a></h5><h5 id="例子-20" tabindex="-1">例子: <a class="header-anchor" href="#例子-20" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildPaymentTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  account<span class="token operator">:</span> <span class="token string">&quot;jB7rxgh43ncbTX4WeMoeadiGMfmfqY2xLZ&quot;</span><span class="token punctuation">,</span>
  to<span class="token operator">:</span> <span class="token string">&quot;jDUjqoDZLhzx4DCf6pvSivjkjgtRESY62c&quot;</span><span class="token punctuation">,</span>
  amount<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
tx<span class="token punctuation">.</span><span class="token function">addMemo</span><span class="token punctuation">(</span><span class="token string">&quot;给jDUjqoDZLhzx4DCf6pvSivjkjgtRESY62c支付0.5swt.&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_6-5-提交请求" tabindex="-1">6.5 提交请求 <a class="header-anchor" href="#_6-5-提交请求" aria-hidden="true">#</a></h3><h5 id="方法-submit-callback-1" tabindex="-1">方法:submit(callback); <a class="header-anchor" href="#方法-submit-callback-1" aria-hidden="true">#</a></h5><h5 id="参数-回调函数，包含两个参数-错误信息和结果信息-1" tabindex="-1">参数:回调函数，包含两个参数:错误信息和结果信息 <a class="header-anchor" href="#参数-回调函数，包含两个参数-错误信息和结果信息-1" aria-hidden="true">#</a></h5><h5 id="方法-submitpromise-secret-memo-1" tabindex="-1">方法:submitPromise(secret, memo); <a class="header-anchor" href="#方法-submitpromise-secret-memo-1" aria-hidden="true">#</a></h5><h5 id="参数-密钥-留言" tabindex="-1">参数:密钥, 留言 <a class="header-anchor" href="#参数-密钥-留言" aria-hidden="true">#</a></h5><h5 id="例子-21" tabindex="-1">例子: <a class="header-anchor" href="#例子-21" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">var</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token string">&quot;ws://ts5.jingtum.com:5030&quot;</span><span class="token punctuation">,</span>
  issuer<span class="token operator">:</span> <span class="token string">&quot;jBciDE8Q3uJjf111VeiUNM775AMKHEbBLS&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> req <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">requestAccountInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      account<span class="token operator">:</span> <span class="token string">&quot;jB7rxgh43ncbTX4WeMoeadiGMfmfqY2xLZ&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> req<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h2 id="_7-底层常见错误附录" tabindex="-1">7 底层常见错误附录 <a class="header-anchor" href="#_7-底层常见错误附录" aria-hidden="true">#</a></h2><table><thead><tr><th>错误名称</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>tecCLAIM</td><td style="text-align:right;">Fee claimed. Sequence used. No action.</td></tr><tr><td>tecDIR_FULL</td><td style="text-align:right;">Can not add entry to full directory.</td></tr><tr><td>tecFAILED_PROCESSING</td><td style="text-align:right;">Failed to correctly process transaction.</td></tr><tr><td>tecINSUF_RESERVE_LINE</td><td style="text-align:right;">Insufficient reserve to add trust line.</td></tr><tr><td>tecINSUF_RESERVE_OFFER</td><td style="text-align:right;">Insufficient reserve to create offer.</td></tr><tr><td>tecNO_DST</td><td style="text-align:right;">Destination does not exist. Send SWT to create it.</td></tr><tr><td>tecNO_DST_INSUF_SWT</td><td style="text-align:right;">Destination does not exist. Too little SWT sent to create it.</td></tr><tr><td>tecNO_LINE_INSUF_RESERVE</td><td style="text-align:right;">No such line. Too little reserve to create it.</td></tr><tr><td>tecNO_LINE_REDUNDANT</td><td style="text-align:right;">Can&#39;t set non-existent line to default.</td></tr><tr><td>tecPATH_DRY</td><td style="text-align:right;">Path could not send partial amount.</td></tr><tr><td>tecPATH_PARTIAL</td><td style="text-align:right;">Path could not send full amount.</td></tr><tr><td>tecMASTER_DISABLED</td><td style="text-align:right;">Master key is disabled.</td></tr><tr><td>tecNO_REGULAR_KEY</td><td style="text-align:right;">Regular key is not set.</td></tr><tr><td>tecUNFUNDED</td><td style="text-align:right;">One of _ADD, _OFFER, or _SEND. Deprecated.</td></tr><tr><td>tecUNFUNDED_ADD</td><td style="text-align:right;">Insufficient SWT balance for WalletAdd.</td></tr><tr><td>tecUNFUNDED_OFFER</td><td style="text-align:right;">Insufficient balance to fund created offer.</td></tr><tr><td>tecUNFUNDED_PAYMENT</td><td style="text-align:right;">Insufficient SWT balance to send.</td></tr><tr><td>tecOWNERS</td><td style="text-align:right;">Non-zero owner count.</td></tr><tr><td>tecNO_ISSUER</td><td style="text-align:right;">Issuer account does not exist.</td></tr><tr><td>tecNO_AUTH</td><td style="text-align:right;">Not authorized to hold asset.</td></tr><tr><td>tecNO_LINE</td><td style="text-align:right;">No such line.</td></tr><tr><td>tecINSUFF_FEE</td><td style="text-align:right;">Insufficient balance to pay fee.</td></tr><tr><td>tecFROZEN</td><td style="text-align:right;">Asset is frozen.</td></tr><tr><td>tecNO_TARGET</td><td style="text-align:right;">Target account does not exist.</td></tr><tr><td>tecNO_PERMISSION</td><td style="text-align:right;">No permission to perform requested operation.</td></tr><tr><td>tecNO_ENTRY</td><td style="text-align:right;">No matching entry found.</td></tr><tr><td>tecINSUFFICIENT_RESERVE</td><td style="text-align:right;">Insufficient reserve to complete requested operation.</td></tr><tr><td>tecNEED_MASTER_KEY</td><td style="text-align:right;">The operation requires the use of the Master Key.</td></tr><tr><td>tecDST_TAG_NEEDED</td><td style="text-align:right;">A destination tag is required.</td></tr><tr><td>tecINTERNAL</td><td style="text-align:right;">An internal error has occurred during processing.</td></tr><tr><td>tefALREADY</td><td style="text-align:right;">The exact transaction was already in this ledger.</td></tr><tr><td>tefBAD_ADD_AUTH</td><td style="text-align:right;">Not authorized to add account.</td></tr><tr><td>tefBAD_AUTH</td><td style="text-align:right;">Transaction&#39;s public key is not authorized.</td></tr><tr><td>tefBAD_LEDGER</td><td style="text-align:right;">Ledger in unexpected state.</td></tr><tr><td>tefCREATED</td><td style="text-align:right;">Can&#39;t add an already created account.</td></tr><tr><td>tefEXCEPTION</td><td style="text-align:right;">Unexpected program state.</td></tr><tr><td>tefFAILURE</td><td style="text-align:right;">Failed to apply.</td></tr><tr><td>tefINTERNAL</td><td style="text-align:right;">Internal error.</td></tr><tr><td>tefMASTER_DISABLED</td><td style="text-align:right;">Master key is disabled.</td></tr><tr><td>tefMAX_LEDGER</td><td style="text-align:right;">Ledger sequence too high.</td></tr><tr><td>tefNO_AUTH_REQUIRED</td><td style="text-align:right;">Auth is not required.</td></tr><tr><td>tefPAST_SEQ</td><td style="text-align:right;">This sequence number has already past.</td></tr><tr><td>tefWRONG_PRIOR</td><td style="text-align:right;">This previous transaction does not match.</td></tr><tr><td>telLOCAL_ERROR</td><td style="text-align:right;">Local failure.</td></tr><tr><td>telBAD_DOMAIN</td><td style="text-align:right;">Domain too long.</td></tr><tr><td>telBAD_PATH_COUNT</td><td style="text-align:right;">Malformed: Too many paths.</td></tr><tr><td>telBAD_PUBLIC_KEY</td><td style="text-align:right;">Public key too long.</td></tr><tr><td>telFAILED_PROCESSING</td><td style="text-align:right;">Failed to correctly process transaction.</td></tr><tr><td>telINSUF_FEE_P</td><td style="text-align:right;">Fee insufficient.</td></tr><tr><td>telNO_DST_PARTIAL</td><td style="text-align:right;">Partial payment to create account not allowed.</td></tr><tr><td>telBLKLIST</td><td style="text-align:right;">Tx disable for blacklist.</td></tr><tr><td>telINSUF_FUND</td><td style="text-align:right;">Fund insufficient.</td></tr><tr><td>temMALFORMED</td><td style="text-align:right;">Malformed transaction.</td></tr><tr><td>temBAD_AMOUNT</td><td style="text-align:right;">Can only send positive amounts.</td></tr><tr><td>temBAD_AUTH_MASTER</td><td style="text-align:right;">Auth for unclaimed account needs correct master key.</td></tr><tr><td>temBAD_CURRENCY</td><td style="text-align:right;">Malformed: Bad currency.</td></tr><tr><td>temBAD_EXPIRATION</td><td style="text-align:right;">Malformed: Bad expiration.</td></tr><tr><td>temBAD_FEE</td><td style="text-align:right;">Invalid fee, negative or not SWT.</td></tr><tr><td>temBAD_ISSUER</td><td style="text-align:right;">Malformed: Bad issuer.</td></tr><tr><td>temBAD_LIMIT</td><td style="text-align:right;">Limits must be non-negative.</td></tr><tr><td>temBAD_QUORUM</td><td style="text-align:right;">Quorums must be non-negative.</td></tr><tr><td>temBAD_WEIGHT</td><td style="text-align:right;">Weights must be non-negative.</td></tr><tr><td>temBAD_OFFER</td><td style="text-align:right;">Malformed: Bad offer.</td></tr><tr><td>temBAD_PATH</td><td style="text-align:right;">Malformed: Bad path.</td></tr><tr><td>temBAD_PATH_LOOP</td><td style="text-align:right;">Malformed: Loop in path.</td></tr><tr><td>temBAD_SEND_SWT_LIMIT</td><td style="text-align:right;">Malformed: Limit quality is not allowed for SWT to SWT.</td></tr><tr><td>temBAD_SEND_SWT_MAX</td><td style="text-align:right;">Malformed: Send max is not allowed for SWT to SWT.</td></tr><tr><td>temBAD_SEND_SWT_NO_DIR ECT</td><td style="text-align:right;">Malformed: No Skywell direct is not allowed for SWT to SWT.</td></tr><tr><td>temBAD_SEND_SWT_PARTIAL</td><td style="text-align:right;">Malformed: Partial payment is not allowed for SWT to SWT.</td></tr><tr><td>temBAD_SEND_SWT_PATHS</td><td style="text-align:right;">Malformed: Paths are not allowed for SWT to SWT.</td></tr><tr><td>temBAD_SEQUENCE</td><td style="text-align:right;">Malformed: Sequence is not in the past.</td></tr><tr><td>temBAD_SIGNATURE</td><td style="text-align:right;">Malformed: Bad signature.</td></tr><tr><td>temBAD_SRC_ACCOUNT</td><td style="text-align:right;">Malformed: Bad source account.</td></tr><tr><td>temBAD_TRANSFER_RATE</td><td style="text-align:right;">Malformed: Transfer rate must be &gt;= 1.0</td></tr><tr><td>temDST_IS_SRC</td><td style="text-align:right;">Destination may not be source.</td></tr><tr><td>temDST_NEEDED</td><td style="text-align:right;">Destination not specified.</td></tr><tr><td>temINVALID</td><td style="text-align:right;">The transaction is ill-formed.</td></tr><tr><td>temINVALID_FLAG</td><td style="text-align:right;">The transaction has an invalid flag.</td></tr><tr><td>temREDUNDANT</td><td style="text-align:right;">Sends same currency to self.</td></tr><tr><td>temREDUNDANTSIGN</td><td style="text-align:right;">Add self as additional sign.</td></tr><tr><td>temSKYWELL_EMPTY</td><td style="text-align:right;">PathSet with no paths.</td></tr><tr><td>temUNCERTAIN</td><td style="text-align:right;">In process of determining result. Never returned.</td></tr><tr><td>temUNKNOWN</td><td style="text-align:right;">The transaction requires logic that is not implemented yet.</td></tr><tr><td>temDISABLED</td><td style="text-align:right;">The transaction requires logic that is currently disabled.</td></tr><tr><td>temMULTIINIT</td><td style="text-align:right;">contract code has multi init function</td></tr><tr><td>terRETRY</td><td style="text-align:right;">Retry transaction.</td></tr><tr><td>terFUNDS_SPENT</td><td style="text-align:right;">Can&#39;t set password, password set funds already spent.</td></tr><tr><td>terINSUF_FEE_B</td><td style="text-align:right;">Account balance can&#39;t pay fee.</td></tr><tr><td>terLAST</td><td style="text-align:right;">Process last.</td></tr><tr><td>terNO_SKYWELL</td><td style="text-align:right;">Path does not permit rippling.</td></tr><tr><td>terNO_ACCOUNT</td><td style="text-align:right;">The source account does not exist.</td></tr><tr><td>terNO_AUTH</td><td style="text-align:right;">Not authorized to hold IOUs.</td></tr><tr><td>terNO_LINE</td><td style="text-align:right;">No such line.</td></tr><tr><td>terPRE_SEQ</td><td style="text-align:right;">Missing/inapplicable prior transaction.</td></tr><tr><td>terOWNERS</td><td style="text-align:right;">Non-zero owner count.</td></tr><tr><td>tesSUCCESS</td><td style="text-align:right;">The transaction was applied. Only final in a validated ledger.</td></tr></tbody></table><h2 id="_9-erc20-源码" tabindex="-1">9. erc20 源码 <a class="header-anchor" href="#_9-erc20-源码" aria-hidden="true">#</a></h2><div class="language-javascript"><pre><code>pragma solidity <span class="token operator">^</span><span class="token number">0.5</span><span class="token number">.4</span><span class="token punctuation">;</span>
contract TokenTest <span class="token punctuation">{</span>
    string <span class="token keyword">public</span> name<span class="token punctuation">;</span>
    string <span class="token keyword">public</span> symbol<span class="token punctuation">;</span>
    uint8  <span class="token keyword">public</span> decimals <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>  <span class="token comment">// decimals 可以有的小数点个数，最小的代币单位。18 是建议的默认值</span>
    uint256 <span class="token keyword">public</span> totalSupply<span class="token punctuation">;</span>
    address  payable <span class="token keyword">public</span> owner<span class="token punctuation">;</span>
    <span class="token comment">// 用mapping保存每个地址对应的余额</span>
    <span class="token function">mapping</span> <span class="token punctuation">(</span><span class="token parameter">address</span> <span class="token operator">=&gt;</span> uint256<span class="token punctuation">)</span> <span class="token keyword">public</span> balanceOf<span class="token punctuation">;</span>
    <span class="token comment">// 存储对账号的控制</span>
    <span class="token function">mapping</span> <span class="token punctuation">(</span><span class="token parameter">address</span> <span class="token operator">=&gt;</span> <span class="token function">mapping</span> <span class="token punctuation">(</span><span class="token parameter">address</span> <span class="token operator">=&gt;</span> uint256<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">public</span> allowance<span class="token punctuation">;</span>
    <span class="token comment">/**
     * 初始化构造
     */</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>uint256 initialSupply<span class="token punctuation">,</span> string memory tokenName <span class="token punctuation">,</span> string  memory tokenSymbol<span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token punctuation">{</span>
        totalSupply <span class="token operator">=</span> initialSupply <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">**</span> <span class="token function">uint256</span><span class="token punctuation">(</span>decimals<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 供应的份额，份额跟最小的代币单位有关，份额 = 币数 * 10 ** decimals。</span>
        balanceOf<span class="token punctuation">[</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">]</span> <span class="token operator">=</span> totalSupply<span class="token punctuation">;</span>
        name <span class="token operator">=</span> tokenName<span class="token punctuation">;</span> <span class="token comment">// 代币名称</span>
        symbol <span class="token operator">=</span> tokenSymbol<span class="token punctuation">;</span>  <span class="token comment">// 代币符号</span>
        owner <span class="token operator">=</span> msg<span class="token punctuation">.</span>sender<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 代币交易转移的内部实现
     */</span>
    <span class="token keyword">function</span> <span class="token function">_transfer</span><span class="token punctuation">(</span><span class="token parameter">address   _from<span class="token punctuation">,</span> address  _to<span class="token punctuation">,</span> uint  _value</span><span class="token punctuation">)</span> internal<span class="token punctuation">{</span>
        <span class="token comment">// 确保目标地址不为0x0，因为0x0地址代表销毁</span>
        <span class="token function">require</span><span class="token punctuation">(</span>_to <span class="token operator">!=</span> <span class="token function">address</span><span class="token punctuation">(</span><span class="token number">0x0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 检查发送者余额</span>
        <span class="token function">require</span><span class="token punctuation">(</span>balanceOf<span class="token punctuation">[</span>_from<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> _value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 确保转移为正数个</span>
        <span class="token function">require</span><span class="token punctuation">(</span>balanceOf<span class="token punctuation">[</span>_to<span class="token punctuation">]</span> <span class="token operator">+</span> _value <span class="token operator">&gt;</span> balanceOf<span class="token punctuation">[</span>_to<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 以下用来检查交易，</span>
        uint previousBalances <span class="token operator">=</span> balanceOf<span class="token punctuation">[</span>_from<span class="token punctuation">]</span> <span class="token operator">+</span> balanceOf<span class="token punctuation">[</span>_to<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// Subtract from the sender</span>
        balanceOf<span class="token punctuation">[</span>_from<span class="token punctuation">]</span> <span class="token operator">-=</span> _value<span class="token punctuation">;</span>
        <span class="token comment">// Add the same to the recipient</span>
        balanceOf<span class="token punctuation">[</span>_to<span class="token punctuation">]</span> <span class="token operator">+=</span> _value<span class="token punctuation">;</span>

        <span class="token comment">// 用assert来检查代码逻辑。</span>
        <span class="token function">assert</span><span class="token punctuation">(</span>balanceOf<span class="token punctuation">[</span>_from<span class="token punctuation">]</span> <span class="token operator">+</span> balanceOf<span class="token punctuation">[</span>_to<span class="token punctuation">]</span> <span class="token operator">==</span> previousBalances<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     *  代币交易转移
     * 从自己（创建交易者）账号发送`_value`个代币到 `_to`账号
     * @param _to 接收者地址
     * @param _value 转移数额
     */</span>
    <span class="token keyword">function</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token parameter">address _to<span class="token punctuation">,</span> uint256 _value</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token punctuation">{</span>
        <span class="token function">_transfer</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">,</span> _to<span class="token punctuation">,</span> _value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">withdraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> payable <span class="token keyword">public</span><span class="token punctuation">{</span>
        <span class="token function">require</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>sender <span class="token operator">==</span> owner<span class="token punctuation">)</span><span class="token punctuation">;</span>
        owner<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span>balance<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">SWTBalance</span><span class="token punctuation">(</span><span class="token parameter">address _from</span><span class="token punctuation">)</span> <span class="token keyword">public</span> view <span class="token function">returns</span> <span class="token punctuation">(</span><span class="token parameter">uint256</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
        <span class="token keyword">return</span> _from<span class="token punctuation">.</span>balance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_10-erc721-源码" tabindex="-1">10. erc721 源码 <a class="header-anchor" href="#_10-erc721-源码" aria-hidden="true">#</a></h2><h2 id="_11-多重签名" tabindex="-1">11. 多重签名 <a class="header-anchor" href="#_11-多重签名" aria-hidden="true">#</a></h2><h3 id="_11-0-费用" tabindex="-1">11.0 费用 <a class="header-anchor" href="#_11-0-费用" aria-hidden="true">#</a></h3><h5 id="多重签名需要耗费更多的资源，费用相应的增加，每一个签名需要相应费用-用-tx-setfee-设置" tabindex="-1">多重签名需要耗费更多的资源，费用相应的增加，每一个签名需要相应费用, 用 tx.setFee()设置 <a class="header-anchor" href="#多重签名需要耗费更多的资源，费用相应的增加，每一个签名需要相应费用-用-tx-setfee-设置" aria-hidden="true">#</a></h5><h3 id="_11-1-查询帐号的签名列表" tabindex="-1">11.1 查询帐号的签名列表 <a class="header-anchor" href="#_11-1-查询帐号的签名列表" aria-hidden="true">#</a></h3><h5 id="首先通过-requestsignerlist-方法返回一个-request-对象，通过-submitpromise-方法提交列表信息" tabindex="-1">首先通过 requestSignerList 方法返回一个 Request 对象，通过 submitPromise()方法提交列表信息 <a class="header-anchor" href="#首先通过-requestsignerlist-方法返回一个-request-对象，通过-submitpromise-方法提交列表信息" aria-hidden="true">#</a></h5><h5 id="_11-1-1-创建查询签名列表" tabindex="-1">11.1.1 创建查询签名列表 <a class="header-anchor" href="#_11-1-1-创建查询签名列表" aria-hidden="true">#</a></h5><h6 id="方法-remote-requestsignerlist" tabindex="-1">方法:remote.requestSignerList({}) <a class="header-anchor" href="#方法-remote-requestsignerlist" aria-hidden="true">#</a></h6><h6 id="参数-33" tabindex="-1">参数 <a class="header-anchor" href="#参数-33" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">源账号</td></tr></tbody></table><h6 id="返回-request-对象-9" tabindex="-1">返回: Request 对象 <a class="header-anchor" href="#返回-request-对象-9" aria-hidden="true">#</a></h6><h5 id="_11-1-2-查询" tabindex="-1">11.1.2 查询 <a class="header-anchor" href="#_11-1-2-查询" aria-hidden="true">#</a></h5><h6 id="方法-request-submitpromise-1" tabindex="-1">方法: request.submitPromise() <a class="header-anchor" href="#方法-request-submitpromise-1" aria-hidden="true">#</a></h6><h6 id="返回-promise-12" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-12" aria-hidden="true">#</a></h6><h5 id="查询帐号的签名列表完整例子" tabindex="-1">查询帐号的签名列表完整例子 <a class="header-anchor" href="#查询帐号的签名列表完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">const</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span> server<span class="token operator">:</span> <span class="token string">&quot;ws://101.200.230.74:5020&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;snaK5evc1SddiDca1BpZbg1UBft42&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">log_json</span> <span class="token operator">=</span> <span class="token parameter">object</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> remote
      <span class="token punctuation">.</span><span class="token function">requestSignerList</span><span class="token punctuation">(</span><span class="token punctuation">{</span> account<span class="token operator">:</span> a<span class="token punctuation">.</span>address <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>account_objects<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="输出-3" tabindex="-1">输出 <a class="header-anchor" href="#输出-3" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token string">&#39;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&#39;</span><span class="token punctuation">,</span>
  account_objects<span class="token operator">:</span>
   <span class="token punctuation">[</span> <span class="token punctuation">{</span> Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
       LedgerEntryType<span class="token operator">:</span> <span class="token string">&#39;SignerList&#39;</span><span class="token punctuation">,</span>
       OwnerNode<span class="token operator">:</span> <span class="token string">&#39;0000000000000000&#39;</span><span class="token punctuation">,</span>
       PreviousTxnID<span class="token operator">:</span>
        <span class="token string">&#39;9EC422C5D2153FC0FD26884DEA440596E9AC96435E3BCE3E543208CD075B5188&#39;</span><span class="token punctuation">,</span>
       PreviousTxnLgrSeq<span class="token operator">:</span> <span class="token number">532758</span><span class="token punctuation">,</span>
       SignerEntries<span class="token operator">:</span> <span class="token punctuation">[</span>Array<span class="token punctuation">]</span><span class="token punctuation">,</span>
       SignerQuorum<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
       index<span class="token operator">:</span>
        <span class="token string">&#39;D1A5CF852001ABB5FC6E7C7ECF527737F11EA3E2B6E4077B94EB7679CB371F50&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  ledger_current_index<span class="token operator">:</span> <span class="token number">549390</span><span class="token punctuation">,</span>
  validated<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
<span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;LedgerEntryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SignerList&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;OwnerNode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PreviousTxnID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9EC422C5D2153FC0FD26884DEA440596E9AC96435E3BCE3E543208CD075B5188&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PreviousTxnLgrSeq&quot;</span><span class="token operator">:</span> <span class="token number">532758</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SignerEntries&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;SignerEntry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;SignerWeight&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;SignerEntry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;SignerWeight&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SignerQuorum&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string">&quot;index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;D1A5CF852001ABB5FC6E7C7ECF527737F11EA3E2B6E4077B94EB7679CB371F50&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h5 id="返回结果说明-18" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-18" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">设置签名列表的源账号</td></tr><tr><td>account_objects</td><td>Array</td><td style="text-align:right;">签名列表相关信息</td></tr><tr><td>  ----</td><td>Object</td><td style="text-align:right;">签名列表相关信息</td></tr><tr><td>    Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>    LedgerEntryType</td><td>String</td><td style="text-align:right;">账本数据结构类型，SignerList 表示签名列表类型</td></tr><tr><td>    OwnerNode</td><td>String</td><td style="text-align:right;">列表索引标记</td></tr><tr><td>    PreviousTxnID</td><td>String</td><td style="text-align:right;">上一笔交易 hash</td></tr><tr><td>    PreviousTxnLgrSeq</td><td>Integer</td><td style="text-align:right;">上一笔交易所在账本号</td></tr><tr><td>    SignerEntries</td><td>Array</td><td style="text-align:right;">签名列表</td></tr><tr><td>      SignerEntry</td><td>Object</td><td style="text-align:right;">单个签名对象</td></tr><tr><td>        Account</td><td>String</td><td style="text-align:right;">签名者账号地址</td></tr><tr><td>        SignerWeight</td><td>Integer</td><td style="text-align:right;">该签名者在签名列表中的权重</td></tr><tr><td>    SignerQuorum</td><td>Integer</td><td style="text-align:right;">签名列表阈值</td></tr><tr><td>    index</td><td>String</td><td style="text-align:right;">签名列表 id</td></tr><tr><td>ledger_current_index</td><td>String</td><td style="text-align:right;">当前账本号</td></tr><tr><td>validated</td><td>Boolean</td><td style="text-align:right;">当前账本中，交易是否通过验证</td></tr></tbody></table><h3 id="_11-2-设置帐号的签名列表" tabindex="-1">11.2 设置帐号的签名列表 <a class="header-anchor" href="#_11-2-设置帐号的签名列表" aria-hidden="true">#</a></h3><h5 id="首先通过-buildsignerlisttx-方法返回一个-transaction-对象，通过-submit-方法提交列表信息" tabindex="-1">首先通过 buildSignerListTx 方法返回一个 Transaction 对象，通过 submit 方法提交列表信息 <a class="header-anchor" href="#首先通过-buildsignerlisttx-方法返回一个-transaction-对象，通过-submit-方法提交列表信息" aria-hidden="true">#</a></h5><h5 id="_11-2-1-创建签名列表对象" tabindex="-1">11.2.1 创建签名列表对象 <a class="header-anchor" href="#_11-2-1-创建签名列表对象" aria-hidden="true">#</a></h5><h6 id="方法-remote-buildsignerlisttx" tabindex="-1">方法:remote.buildSignerListTx({}) <a class="header-anchor" href="#方法-remote-buildsignerlisttx" aria-hidden="true">#</a></h6><h6 id="参数-34" tabindex="-1">参数 <a class="header-anchor" href="#参数-34" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">交易账号</td></tr><tr><td>threshold</td><td>Integer</td><td style="text-align:right;">生效阈值</td></tr><tr><td>lists</td><td>Array</td><td style="text-align:right;">签名列表</td></tr><tr><td>  ---</td><td>Object</td><td style="text-align:right;">列表对象</td></tr><tr><td>    account</td><td>String</td><td style="text-align:right;">帐号</td></tr><tr><td>    weight</td><td>String</td><td style="text-align:right;">权重</td></tr></tbody></table><p>####### 注：不可将交易源账号设为签名列表名单内</p><h6 id="返回-transaction-对象-11" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-11" aria-hidden="true">#</a></h6><h5 id="_11-2-2-设置签名列表" tabindex="-1">11.2.2 设置签名列表 <a class="header-anchor" href="#_11-2-2-设置签名列表" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-4" tabindex="-1">方法:tx.submitPromise(secret); <a class="header-anchor" href="#方法-tx-submitpromise-secret-4" aria-hidden="true">#</a></h6><h6 id="参数-密钥-1" tabindex="-1">参数: 密钥 <a class="header-anchor" href="#参数-密钥-1" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">钱包私钥</td></tr></tbody></table><h6 id="返回-promise-13" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-13" aria-hidden="true">#</a></h6><h5 id="设置帐号的签名列表完整例子" tabindex="-1">设置帐号的签名列表完整例子 <a class="header-anchor" href="#设置帐号的签名列表完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">const</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span> server<span class="token operator">:</span> <span class="token string">&quot;ws://101.200.230.74:5020&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;snaK5evc1SddiDca1BpZbg1UBft42&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;ssmhW3gLLg8wLPzko3dx1LbuDcwCW&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;ssXLTUGS6ZFRpGRs5p94BBu6mV1vv&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">log_json</span> <span class="token operator">=</span> <span class="token parameter">object</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//设置签名列表</span>
<span class="token keyword">const</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildSignerListTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  account<span class="token operator">:</span> a<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
  threshold<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  lists<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> account<span class="token operator">:</span> a1<span class="token punctuation">.</span>address<span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> account<span class="token operator">:</span> a2<span class="token punctuation">.</span>address<span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">_setSequencePromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">需要设置足够的燃料支持多签交易tx.setFee()</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    tx<span class="token punctuation">.</span><span class="token function">setFee</span><span class="token punctuation">(</span><span class="token number">30000</span><span class="token punctuation">)</span> <span class="token comment">// 燃料</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>secret<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="输出-4" tabindex="-1">输出 <a class="header-anchor" href="#输出-4" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SignerEntries&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;SignerEntry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SignerWeight&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;SignerEntry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SignerWeight&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SignerListSet&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SignerQuorum&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>
需要设置足够的燃料支持多签交易tx<span class="token punctuation">.</span><span class="token function">setFee</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SignerEntries&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;SignerEntry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SignerWeight&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;SignerEntry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SignerWeight&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SignerListSet&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SignerQuorum&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span> engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;1200CF2200000000240000000C2026000000056840000000000075307321024A02206AEFF63AF72BF6BE116073DE6D75E8D3404462CC73EC0F35207DF2722874473045022100A7F6B32CF70CCA45686B20501683D696D56FA57377A4EEA0B451E4FDB0450B7A022018268EECF64BAADA07F9A13C2E7582F544256BC2DBFB7400645BB9EB72F4814381144EFA5550AA0B6A0C06793161C0D2EDC635469AC8FBEC130003811423A7CE52916DFDE210D371CF8487CFDB790B1DCBE1EC130003811482D518A6A562B198E72BC1B8976F83D996E3CCD5E1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&#39;</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;30000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
     SignerEntries<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
     SignerQuorum<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span>
      <span class="token string">&#39;024A02206AEFF63AF72BF6BE116073DE6D75E8D3404462CC73EC0F35207DF27228&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;SignerListSet&#39;</span><span class="token punctuation">,</span>
     TxnSignature<span class="token operator">:</span>
      <span class="token string">&#39;3045022100A7F6B32CF70CCA45686B20501683D696D56FA57377A4EEA0B451E4FDB0450B7A022018268EECF64BAADA07F9A13C2E7582F544256BC2DBFB7400645BB9EB72F48143&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;F5C29AA790682CF238F397610F98910D0947334EF63BA565B30BAE8029AE634E&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SignerEntries&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;SignerEntry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SignerWeight&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;SignerEntry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SignerWeight&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SignerQuorum&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;024A02206AEFF63AF72BF6BE116073DE6D75E8D3404462CC73EC0F35207DF27228&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SignerListSet&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100A7F6B32CF70CCA45686B20501683D696D56FA57377A4EEA0B451E4FDB0450B7A022018268EECF64BAADA07F9A13C2E7582F544256BC2DBFB7400645BB9EB72F48143&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;F5C29AA790682CF238F397610F98910D0947334EF63BA565B30BAE8029AE634E&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-19" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-19" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>engine_result</td><td>String</td><td style="text-align:right;">请求结果</td></tr><tr><td>engine_result_code</td><td>Array</td><td style="text-align:right;">请求结果编码</td></tr><tr><td>engine_result_message</td><td>String</td><td style="text-align:right;">请求结果 message 信息</td></tr><tr><td>tx_blob</td><td>String</td><td style="text-align:right;">16 进制签名后的交易</td></tr><tr><td>tx_json</td><td>Object</td><td style="text-align:right;">交易内容</td></tr><tr><td>   Account</td><td>String</td><td style="text-align:right;">交易源账号地址</td></tr><tr><td>   Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>   Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>   Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>   SignerEntries</td><td>Array</td><td style="text-align:right;">签名列表条目；销毁列表时，没有该字段</td></tr><tr><td>      SignerEntry</td><td>Object</td><td style="text-align:right;">单个签名条目</td></tr><tr><td>         Account</td><td>String</td><td style="text-align:right;">签名账号的地址</td></tr><tr><td>         SignerWeight</td><td>String</td><td style="text-align:right;">该签名在多重签名交易中的权重</td></tr><tr><td>   SignerQuorum</td><td>Integer</td><td style="text-align:right;">多重签名交易通过的阈值，应大于等于零，零表示销毁签名列表</td></tr><tr><td>   SigningPubKey</td><td>String</td><td style="text-align:right;">签名公钥</td></tr><tr><td>   TransactionType</td><td>String</td><td style="text-align:right;">交易类型，设置签名列表类为 SignerListSet</td></tr><tr><td>   TxnSignature</td><td>String</td><td style="text-align:right;">交易签名</td></tr><tr><td>   hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr></tbody></table><h3 id="_11-3-废除帐号的主密钥" tabindex="-1">11.3 废除帐号的主密钥 <a class="header-anchor" href="#_11-3-废除帐号的主密钥" aria-hidden="true">#</a></h3><h5 id="本功能为禁止某账号做交易而设定，且只有该账号设置了签名列表才可以废除-masterkey-成功。首先通过-buildaccountsettx-方法返回一个-transaction-对象，最后通过-submitpromise-方法提交到底层" tabindex="-1">本功能为禁止某账号做交易而设定，且只有该账号设置了签名列表才可以废除 masterkey 成功。首先通过 buildAccountSetTx 方法返回一个 Transaction 对象，最后通过 submitPromise 方法提交到底层 <a class="header-anchor" href="#本功能为禁止某账号做交易而设定，且只有该账号设置了签名列表才可以废除-masterkey-成功。首先通过-buildaccountsettx-方法返回一个-transaction-对象，最后通过-submitpromise-方法提交到底层" aria-hidden="true">#</a></h5><h5 id="_11-3-1-创建废除密钥交易" tabindex="-1">11.3.1 创建废除密钥交易 <a class="header-anchor" href="#_11-3-1-创建废除密钥交易" aria-hidden="true">#</a></h5><h6 id="方法-remote-buildaccountsettx-1" tabindex="-1">方法:remote.buildAccountSetTx({}) <a class="header-anchor" href="#方法-remote-buildaccountsettx-1" aria-hidden="true">#</a></h6><h6 id="参数-35" tabindex="-1">参数 <a class="header-anchor" href="#参数-35" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">被废除或激活 masterkey 的账号</td></tr><tr><td>type</td><td>String</td><td style="text-align:right;">类型，这里固定为 property</td></tr><tr><td>set_flag</td><td>Integer</td><td style="text-align:right;">4 表示废除</td></tr></tbody></table><h6 id="返回-transaction-对象-12" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-12" aria-hidden="true">#</a></h6><h5 id="_11-3-2-废除" tabindex="-1">11.3.2 废除 <a class="header-anchor" href="#_11-3-2-废除" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-secret-5" tabindex="-1">方法:tx.submitPromise(secret); <a class="header-anchor" href="#方法-tx-submitpromise-secret-5" aria-hidden="true">#</a></h6><h6 id="参数-密钥-2" tabindex="-1">参数: 密钥 <a class="header-anchor" href="#参数-密钥-2" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>secret</td><td>String</td><td style="text-align:right;">钱包私钥</td></tr></tbody></table><h6 id="返回-promise-14" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-14" aria-hidden="true">#</a></h6><h5 id="废除主密钥完整例子" tabindex="-1">废除主密钥完整例子 <a class="header-anchor" href="#废除主密钥完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">const</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span> server<span class="token operator">:</span> <span class="token string">&quot;ws://101.200.230.74:5020&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;snaK5evc1SddiDca1BpZbg1UBft42&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">log_json</span> <span class="token operator">=</span> <span class="token parameter">object</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//设置废除主密钥</span>
<span class="token keyword">const</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildAccountSetTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  account<span class="token operator">:</span> a<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
  type<span class="token operator">:</span> <span class="token string">&quot;property&quot;</span><span class="token punctuation">,</span>
  set_flag<span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">_setSequencePromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>secret<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="输出-5" tabindex="-1">输出 <a class="header-anchor" href="#输出-5" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AccountSet&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SetFlag&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">13</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span> engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;1200032200000000240000000D2021000000046840000000000027107321024A02206AEFF63AF72BF6BE116073DE6D75E8D3404462CC73EC0F35207DF2722874463044022049877787ECCEFA296A5193BBC5502D6793CE43873B2D2DB797A083F452A61C5302206DBA044629B00940A783824F0E57C2DBA3FB096317E349C784085014A26E5C4981144EFA5550AA0B6A0C06793161C0D2EDC635469AC8&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&#39;</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;10000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
     SetFlag<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span>
      <span class="token string">&#39;024A02206AEFF63AF72BF6BE116073DE6D75E8D3404462CC73EC0F35207DF27228&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;AccountSet&#39;</span><span class="token punctuation">,</span>
     TxnSignature<span class="token operator">:</span>
      <span class="token string">&#39;3044022049877787ECCEFA296A5193BBC5502D6793CE43873B2D2DB797A083F452A61C5302206DBA044629B00940A783824F0E57C2DBA3FB096317E349C784085014A26E5C49&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;78FA2577E70DFB86F8089290B1051F2FBE8529888B293142FAD94F2707A65D7B&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><h5 id="返回结果说明-20" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-20" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>engine_result</td><td>String</td><td style="text-align:right;">请求结果</td></tr><tr><td>engine_result_code</td><td>Array</td><td style="text-align:right;">请求结果编码</td></tr><tr><td>engine_result_message</td><td>String</td><td style="text-align:right;">请求结果 message 信息</td></tr><tr><td>tx_blob</td><td>String</td><td style="text-align:right;">16 进制签名后的交易</td></tr><tr><td>tx_json</td><td>Object</td><td style="text-align:right;">交易内容</td></tr><tr><td>   Account</td><td>String</td><td style="text-align:right;">交易源账号地址</td></tr><tr><td>   Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>   Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>   Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>   SetFlag</td><td>Integer</td><td style="text-align:right;">账号属性标记</td></tr><tr><td>   SigningPubKey</td><td>String</td><td style="text-align:right;">签名公钥</td></tr><tr><td>   TransactionType</td><td>String</td><td style="text-align:right;">交易类型，账号属性类为 AccountSet</td></tr><tr><td>   TxnSignature</td><td>String</td><td style="text-align:right;">交易签名</td></tr><tr><td>   hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr></tbody></table><h3 id="_11-4-激活帐号的主密钥" tabindex="-1">11.4 激活帐号的主密钥 <a class="header-anchor" href="#_11-4-激活帐号的主密钥" aria-hidden="true">#</a></h3><h5 id="激活通过多签列表中的账号去完成激活，如用账号-a1-和-a2-激活，详见下面例子" tabindex="-1">激活通过多签列表中的账号去完成激活，如用账号 a1 和 a2 激活，详见下面例子 <a class="header-anchor" href="#激活通过多签列表中的账号去完成激活，如用账号-a1-和-a2-激活，详见下面例子" aria-hidden="true">#</a></h5><h5 id="_11-4-1-创建激活密钥交易" tabindex="-1">11.4.1 创建激活密钥交易 <a class="header-anchor" href="#_11-4-1-创建激活密钥交易" aria-hidden="true">#</a></h5><h6 id="方法-remote-buildaccountsettx-2" tabindex="-1">方法:remote.buildAccountSetTx({}) <a class="header-anchor" href="#方法-remote-buildaccountsettx-2" aria-hidden="true">#</a></h6><h6 id="参数-36" tabindex="-1">参数 <a class="header-anchor" href="#参数-36" aria-hidden="true">#</a></h6><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>account</td><td>String</td><td style="text-align:right;">被废除或激活 masterkey 的账号</td></tr><tr><td>type</td><td>String</td><td style="text-align:right;">类型，这里固定为 property</td></tr><tr><td>clear_flag</td><td>Integer</td><td style="text-align:right;">4 表示激活主密钥，用于多签中激活 masterkey</td></tr></tbody></table><h6 id="返回-transaction-对象-13" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-13" aria-hidden="true">#</a></h6><h5 id="_11-4-2-激活" tabindex="-1">11.4.2 激活 <a class="header-anchor" href="#_11-4-2-激活" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise" tabindex="-1">方法:tx.submitPromise(); <a class="header-anchor" href="#方法-tx-submitpromise" aria-hidden="true">#</a></h6><h6 id="参数-无-8" tabindex="-1">参数: 无 <a class="header-anchor" href="#参数-无-8" aria-hidden="true">#</a></h6><h6 id="返回-promise-15" tabindex="-1">返回: Promise <a class="header-anchor" href="#返回-promise-15" aria-hidden="true">#</a></h6><h5 id="激活主密钥完整例子" tabindex="-1">激活主密钥完整例子 <a class="header-anchor" href="#激活主密钥完整例子" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token keyword">const</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span> server<span class="token operator">:</span> <span class="token string">&quot;ws://101.200.230.74:5020&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;snaK5evc1SddiDca1BpZbg1UBft42&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;ssmhW3gLLg8wLPzko3dx1LbuDcwCW&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;ssXLTUGS6ZFRpGRs5p94BBu6mV1vv&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">log_json</span> <span class="token operator">=</span> <span class="token parameter">object</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//设置激活主密钥</span>
<span class="token keyword">const</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildAccountSetTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  account<span class="token operator">:</span> a<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
  type<span class="token operator">:</span> <span class="token string">&quot;property&quot;</span><span class="token punctuation">,</span>
  clear_flag<span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设置sequence</span>
    <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">_setSequencePromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">需要设置足够的燃料支持多签交易tx.setFee()</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    tx<span class="token punctuation">.</span><span class="token function">setFee</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span> <span class="token comment">// 燃料</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    tx<span class="token punctuation">.</span><span class="token function">multiSigning</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>
    tx<span class="token punctuation">.</span><span class="token function">multiSigning</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    tx<span class="token punctuation">.</span><span class="token function">multiSigned</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// multisign submit does not need any secret</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="输出-6" tabindex="-1">输出 <a class="header-anchor" href="#输出-6" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code><span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AccountSet&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;ClearFlag&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">14</span>
<span class="token punctuation">}</span>
需要设置足够的燃料支持多签交易tx<span class="token punctuation">.</span><span class="token function">setFee</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AccountSet&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;ClearFlag&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">14</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AccountSet&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;ClearFlag&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3044022050F3D210088FEE4F65410A5C1EC18A44C2E0F0F63B664650EE521E601BF390DE02200F0C6163676DC05021886B63BF2186DF47C0B3EB2D66DDEA17CAEF92D6EAAD89&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C26&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30440220659DAC178A20CF1CE2A688CBC183CF68E60FF508AA643A129221DBE745E25BB702203155117E8B72A1A3F6DFFC053313900AE6306165E70C83D0AD7E3B9FCBBC0B4B&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AccountSet&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;ClearFlag&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3044022050F3D210088FEE4F65410A5C1EC18A44C2E0F0F63B664650EE521E601BF390DE02200F0C6163676DC05021886B63BF2186DF47C0B3EB2D66DDEA17CAEF92D6EAAD89&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C26&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30440220659DAC178A20CF1CE2A688CBC183CF68E60FF508AA643A129221DBE745E25BB702203155117E8B72A1A3F6DFFC053313900AE6306165E70C83D0AD7E3B9FCBBC0B4B&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span> engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;1200032200000000240000000E202200000004684000000000004E20730081144EFA5550AA0B6A0C06793161C0D2EDC635469AC8FCED7321028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF74463044022050F3D210088FEE4F65410A5C1EC18A44C2E0F0F63B664650EE521E601BF390DE02200F0C6163676DC05021886B63BF2186DF47C0B3EB2D66DDEA17CAEF92D6EAAD89811423A7CE52916DFDE210D371CF8487CFDB790B1DCBE1ED7321022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C26744630440220659DAC178A20CF1CE2A688CBC183CF68E60FF508AA643A129221DBE745E25BB702203155117E8B72A1A3F6DFFC053313900AE6306165E70C83D0AD7E3B9FCBBC0B4B811482D518A6A562B198E72BC1B8976F83D996E3CCD5E1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&#39;</span><span class="token punctuation">,</span>
     ClearFlag<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;20000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
     Signers<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;AccountSet&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;9AB2652E971EAE3CF0267165B3026EAE56FE4147D8F078BBC69A2C5B9D8567EB&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;ClearFlag&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3044022050F3D210088FEE4F65410A5C1EC18A44C2E0F0F63B664650EE521E601BF390DE02200F0C6163676DC05021886B63BF2186DF47C0B3EB2D66DDEA17CAEF92D6EAAD89&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C26&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30440220659DAC178A20CF1CE2A688CBC183CF68E60FF508AA643A129221DBE745E25BB702203155117E8B72A1A3F6DFFC053313900AE6306165E70C83D0AD7E3B9FCBBC0B4B&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AccountSet&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9AB2652E971EAE3CF0267165B3026EAE56FE4147D8F078BBC69A2C5B9D8567EB&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div><h5 id="返回结果说明-21" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-21" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>engine_result</td><td>String</td><td style="text-align:right;">请求结果</td></tr><tr><td>engine_result_code</td><td>Array</td><td style="text-align:right;">请求结果编码</td></tr><tr><td>engine_result_message</td><td>String</td><td style="text-align:right;">请求结果 message 信息</td></tr><tr><td>tx_blob</td><td>String</td><td style="text-align:right;">16 进制签名后的交易</td></tr><tr><td>tx_json</td><td>Object</td><td style="text-align:right;">交易内容</td></tr><tr><td>   Account</td><td>String</td><td style="text-align:right;">交易源账号地址</td></tr><tr><td>   ClearFlag</td><td>Integer</td><td style="text-align:right;">账号属性标记</td></tr><tr><td>   Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>   Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>   Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>   Signers</td><td>Array</td><td style="text-align:right;">签名列表条目；销毁列表时，没有该字段</td></tr><tr><td>      Signer</td><td>Object</td><td style="text-align:right;">单个签名条目</td></tr><tr><td>         Account</td><td>String</td><td style="text-align:right;">给该交易签名的账号地址</td></tr><tr><td>         SigningPubKey</td><td>String</td><td style="text-align:right;">给该交易签名的账号公钥</td></tr><tr><td>         TxnSignature</td><td>String</td><td style="text-align:right;">Account 账号给该交易的交易签名</td></tr><tr><td>   SigningPubKey</td><td>String</td><td style="text-align:right;">签名公钥</td></tr><tr><td>   TransactionType</td><td>String</td><td style="text-align:right;">交易类型，账号属性类为 AccountSet</td></tr><tr><td>   hash</td><td>String</td><td style="text-align:right;">交易 hash</td></tr></tbody></table><h3 id="_11-5-多重签名-tx-multisigning-tx-multisigned" tabindex="-1">11.5 多重签名 - tx.multiSigning, tx.multiSigned <a class="header-anchor" href="#_11-5-多重签名-tx-multisigning-tx-multisigned" aria-hidden="true">#</a></h3><h5 id="通过-transaction-多签，-创建正常交易，然后依次进行多签-multisigning-，-最后确认-multisigned-提交-tx-submitpromise" tabindex="-1">通过 Transaction 多签， 创建正常交易，然后依次进行多签(multiSigning)， 最后确认(multiSigned)提交(tx.submitPromise) <a class="header-anchor" href="#通过-transaction-多签，-创建正常交易，然后依次进行多签-multisigning-，-最后确认-multisigned-提交-tx-submitpromise" aria-hidden="true">#</a></h5><h5 id="_11-5-1-创建正常交易" tabindex="-1">11.5.1 创建正常交易 <a class="header-anchor" href="#_11-5-1-创建正常交易" aria-hidden="true">#</a></h5><h6 id="方法-remote-buildpaymenttx-1" tabindex="-1">方法:remote.buildPaymentTx({}) <a class="header-anchor" href="#方法-remote-buildpaymenttx-1" aria-hidden="true">#</a></h6><h6 id="返回-transaction-对象-14" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-14" aria-hidden="true">#</a></h6><h5 id="_11-5-2-多重签名" tabindex="-1">11.5.2 多重签名 <a class="header-anchor" href="#_11-5-2-多重签名" aria-hidden="true">#</a></h5><h6 id="方法-tx-multisigning-tx-multisigned" tabindex="-1">方法:tx.multiSigning() ... tx.multiSigned() <a class="header-anchor" href="#方法-tx-multisigning-tx-multisigned" aria-hidden="true">#</a></h6><h6 id="参数-37" tabindex="-1">参数: <a class="header-anchor" href="#参数-37" aria-hidden="true">#</a></h6><h6 id="返回-tx" tabindex="-1">返回: tx <a class="header-anchor" href="#返回-tx" aria-hidden="true">#</a></h6><h5 id="_11-5-3-交易" tabindex="-1">11.5.3 交易 <a class="header-anchor" href="#_11-5-3-交易" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-1" tabindex="-1">方法:tx.submitPromise() <a class="header-anchor" href="#方法-tx-submitpromise-1" aria-hidden="true">#</a></h6><h6 id="返回-promise-16" tabindex="-1">返回: promise <a class="header-anchor" href="#返回-promise-16" aria-hidden="true">#</a></h6><h5 id="多签支付完整例子" tabindex="-1">多签支付完整例子 <a class="header-anchor" href="#多签支付完整例子" aria-hidden="true">#</a></h5><details class="details custom-block"><summary>展开</summary><div class="language-javascript"><pre><code><span class="token keyword">const</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span> server<span class="token operator">:</span> <span class="token string">&quot;ws://101.200.230.74:5020&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;snaK5evc1SddiDca1BpZbg1UBft42&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;ssmhW3gLLg8wLPzko3dx1LbuDcwCW&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;ssXLTUGS6ZFRpGRs5p94BBu6mV1vv&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> to <span class="token operator">=</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span>
<span class="token keyword">const</span> <span class="token function-variable function">log_json</span> <span class="token operator">=</span> <span class="token parameter">object</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 创建支付交易</span>
<span class="token keyword">let</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildPaymentTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  account<span class="token operator">:</span> a<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
  to<span class="token punctuation">,</span>
  amount<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
tx<span class="token punctuation">.</span><span class="token function">addMemo</span><span class="token punctuation">(</span><span class="token string">&quot;multisigned payment test&quot;</span><span class="token punctuation">)</span>

remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设置sequence</span>
    <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">_setSequencePromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">需要设置足够的燃料支持多签交易tx.setFee()</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    tx<span class="token punctuation">.</span><span class="token function">setFee</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span> <span class="token comment">// 燃料</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    tx <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">multiSigning</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    <span class="token comment">// tx.tx_json 需要依次传递给不同的多签方</span>
    <span class="token keyword">let</span> tx_json <span class="token operator">=</span> tx<span class="token punctuation">.</span>tx_json
    <span class="token comment">// 然后重组成tx</span>
    <span class="token keyword">let</span> tx2 <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildMultisignedTx</span><span class="token punctuation">(</span>tx_json<span class="token punctuation">)</span>
    tx2<span class="token punctuation">.</span><span class="token function">multiSigning</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx2<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    tx2<span class="token punctuation">.</span><span class="token function">multiSigned</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx2<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> tx2<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// multisign submit does not need any secret</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="输出-7" tabindex="-1">输出 <a class="header-anchor" href="#输出-7" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code>需要设置足够的燃料支持多签交易tx<span class="token punctuation">.</span><span class="token function">setFee</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6d756c74697369676e6564207061796d656e742074657374&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">16</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6d756c74697369676e6564207061796d656e742074657374&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100A473BCCED9D0F5DA32376E65C94099DA6BE44CA0CD51F70F5574ABF42B3574EA02204636AD6C89041C219B754CF37BA6C2EF74A300188F788CF18CAD2E6B849E326C&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6d756c74697369676e6564207061796d656e742074657374&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100A473BCCED9D0F5DA32376E65C94099DA6BE44CA0CD51F70F5574ABF42B3574EA02204636AD6C89041C219B754CF37BA6C2EF74A300188F788CF18CAD2E6B849E326C&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C26&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;304402202BEDFD9F1EA71A1C28096638B5417388B246890381D555501AE674F6309CFBDF0220638F076520A4B7D6D5557F3F708CCD700805152AEAE1C5571CA04AE4709D40C2&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6d756c74697369676e6564207061796d656e742074657374&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100A473BCCED9D0F5DA32376E65C94099DA6BE44CA0CD51F70F5574ABF42B3574EA02204636AD6C89041C219B754CF37BA6C2EF74A300188F788CF18CAD2E6B849E326C&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C26&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;304402202BEDFD9F1EA71A1C28096638B5417388B246890381D555501AE674F6309CFBDF0220638F076520A4B7D6D5557F3F708CCD700805152AEAE1C5571CA04AE4709D40C2&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span> engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;120000220000000024000000106140000000000F4240684000000000004E20730081144EFA5550AA0B6A0C06793161C0D2EDC635469AC883141359AA928F4D98FDB3D93E8B690C80D37DED11C3F9EA7D186D756C74697369676E6564207061796D656E742074657374E1F1FCED7321028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF74473045022100A473BCCED9D0F5DA32376E65C94099DA6BE44CA0CD51F70F5574ABF42B3574EA02204636AD6C89041C219B754CF37BA6C2EF74A300188F788CF18CAD2E6B849E326C811423A7CE52916DFDE210D371CF8487CFDB790B1DCBE1ED7321022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C267446304402202BEDFD9F1EA71A1C28096638B5417388B246890381D555501AE674F6309CFBDF0220638F076520A4B7D6D5557F3F708CCD700805152AEAE1C5571CA04AE4709D40C2811482D518A6A562B198E72BC1B8976F83D996E3CCD5E1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&#39;</span><span class="token punctuation">,</span>
     Amount<span class="token operator">:</span> <span class="token string">&#39;1000000&#39;</span><span class="token punctuation">,</span>
     Destination<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;20000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
     Signers<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;CD4FD2CB9FDB5003FE8115140D62C7671461C281A516B15275561BA8959412A9&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6D756C74697369676E6564207061796D656E742074657374&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100A473BCCED9D0F5DA32376E65C94099DA6BE44CA0CD51F70F5574ABF42B3574EA02204636AD6C89041C219B754CF37BA6C2EF74A300188F788CF18CAD2E6B849E326C&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C26&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;304402202BEDFD9F1EA71A1C28096638B5417388B246890381D555501AE674F6309CFBDF0220638F076520A4B7D6D5557F3F708CCD700805152AEAE1C5571CA04AE4709D40C2&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CD4FD2CB9FDB5003FE8115140D62C7671461C281A516B15275561BA8959412A9&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h5 id="返回结果说明-22" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-22" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>engine_result</td><td>String</td><td style="text-align:right;">请求结果</td></tr><tr><td>engine_result_code</td><td>Array</td><td style="text-align:right;">请求结果编码</td></tr><tr><td>engine_result_message</td><td>String</td><td style="text-align:right;">请求结果 message 信息</td></tr><tr><td>tx_blob</td><td>String</td><td style="text-align:right;">16 进制签名后的交易</td></tr><tr><td>tx_json</td><td>Object</td><td style="text-align:right;">交易内容</td></tr><tr><td>   Account</td><td>String</td><td style="text-align:right;">交易源账号地址</td></tr><tr><td>   Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>   Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>   Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>   --</td><td>--</td><td style="text-align:right;">相关交易对应的其他字段，如 Payment 类型有 Amount、Destination 字段，这里不一一列举</td></tr><tr><td>   Signers</td><td>Array</td><td style="text-align:right;">签名列表条目；销毁列表时，没有该字段</td></tr><tr><td>      Signer</td><td>Object</td><td style="text-align:right;">单个签名条目</td></tr><tr><td>         Account</td><td>String</td><td style="text-align:right;">给该交易签名的账号地址</td></tr><tr><td>         SigningPubKey</td><td>String</td><td style="text-align:right;">给该交易签名的账号公钥</td></tr><tr><td>         TxnSignature</td><td>String</td><td style="text-align:right;">Account 账号给该交易的交易签名</td></tr><tr><td>   SigningPubKey</td><td>String</td><td style="text-align:right;">交易签名公钥，必须为空字符串</td></tr><tr><td>   TransactionType</td><td>String</td><td style="text-align:right;">交易类型</td></tr><tr><td>   hash</td><td>String</td><td style="text-align:right;">交易 hash，该 hash 可在链上查到</td></tr></tbody></table><h3 id="_11-6-多重签名-remote-buildsignfirsttx-remote-buildsignothertx-remote-buildmultisignedtx" tabindex="-1">11.6 多重签名 - remote.buildSignFirstTx, remote.buildSignOtherTx, remote.buildMultisignedTx <a class="header-anchor" href="#_11-6-多重签名-remote-buildsignfirsttx-remote-buildsignothertx-remote-buildmultisignedtx" aria-hidden="true">#</a></h3><h5 id="通过-transaction-多签，-创建正常交易，然后依次进行多签-multisigning-，-最后确认-multisigned-提交-tx-submitpromise-1" tabindex="-1">通过 Transaction 多签， 创建正常交易，然后依次进行多签(multiSigning)， 最后确认(multiSigned)提交(tx.submitPromise) <a class="header-anchor" href="#通过-transaction-多签，-创建正常交易，然后依次进行多签-multisigning-，-最后确认-multisigned-提交-tx-submitpromise-1" aria-hidden="true">#</a></h5><h5 id="_11-6-1-创建正常交易" tabindex="-1">11.6.1 创建正常交易 <a class="header-anchor" href="#_11-6-1-创建正常交易" aria-hidden="true">#</a></h5><h6 id="方法-remote-buildpaymenttx-2" tabindex="-1">方法:remote.buildPaymentTx({}) <a class="header-anchor" href="#方法-remote-buildpaymenttx-2" aria-hidden="true">#</a></h6><h6 id="返回-transaction-对象-15" tabindex="-1">返回:Transaction 对象 <a class="header-anchor" href="#返回-transaction-对象-15" aria-hidden="true">#</a></h6><h5 id="_11-6-2-多重签名" tabindex="-1">11.6.2 多重签名 <a class="header-anchor" href="#_11-6-2-多重签名" aria-hidden="true">#</a></h5><h6 id="方法-remote-buildsignfirsttx-remote-buildsignothertx-remote-buildmultisignedtx-tx-json-tx-multisigned" tabindex="-1">方法:remote.buildSignFirstTx({}) ... remote.buildSignOtherTx({}), remote.buildMultisignedTx(tx_json), tx.multiSigned() <a class="header-anchor" href="#方法-remote-buildsignfirsttx-remote-buildsignothertx-remote-buildmultisignedtx-tx-json-tx-multisigned" aria-hidden="true">#</a></h6><h6 id="参数-38" tabindex="-1">参数: <a class="header-anchor" href="#参数-38" aria-hidden="true">#</a></h6><h6 id="返回-tx-1" tabindex="-1">返回: tx <a class="header-anchor" href="#返回-tx-1" aria-hidden="true">#</a></h6><h5 id="_11-6-3-交易" tabindex="-1">11.6.3 交易 <a class="header-anchor" href="#_11-6-3-交易" aria-hidden="true">#</a></h5><h6 id="方法-tx-submitpromise-2" tabindex="-1">方法:tx.submitPromise() <a class="header-anchor" href="#方法-tx-submitpromise-2" aria-hidden="true">#</a></h6><h6 id="返回-promise-17" tabindex="-1">返回: promise <a class="header-anchor" href="#返回-promise-17" aria-hidden="true">#</a></h6><h5 id="多签支付完整例子-1" tabindex="-1">多签支付完整例子 <a class="header-anchor" href="#多签支付完整例子-1" aria-hidden="true">#</a></h5><details class="details custom-block"><summary>展开</summary><div class="language-javascript"><pre><code><span class="token keyword">const</span> jlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Remote <span class="token operator">=</span> jlib<span class="token punctuation">.</span>Remote
<span class="token keyword">var</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span> server<span class="token operator">:</span> <span class="token string">&quot;ws://101.200.230.74:5020&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;snaK5evc1SddiDca1BpZbg1UBft42&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;ssmhW3gLLg8wLPzko3dx1LbuDcwCW&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;ssXLTUGS6ZFRpGRs5p94BBu6mV1vv&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> to <span class="token operator">=</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span>
<span class="token keyword">const</span> <span class="token function-variable function">log_json</span> <span class="token operator">=</span> <span class="token parameter">object</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 创建支付交易</span>
<span class="token keyword">let</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildPaymentTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  account<span class="token operator">:</span> a<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
  to<span class="token punctuation">,</span>
  amount<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
tx<span class="token punctuation">.</span><span class="token function">addMemo</span><span class="token punctuation">(</span><span class="token string">&quot;multisigned payment test&quot;</span><span class="token punctuation">)</span>

remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设置sequence</span>
    <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">_setSequencePromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">需要设置足够的燃料支持多签交易tx.setFee()</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    tx<span class="token punctuation">.</span><span class="token function">setFee</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span> <span class="token comment">// 燃料</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildSignFirstTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span> tx<span class="token punctuation">,</span> account<span class="token operator">:</span> a1<span class="token punctuation">.</span>address<span class="token punctuation">,</span> secret<span class="token operator">:</span> a1<span class="token punctuation">.</span>secret <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    <span class="token comment">// tx.tx_json 需要依次传递给不同的多签方</span>
    <span class="token keyword">let</span> tx_json <span class="token operator">=</span> tx<span class="token punctuation">.</span>tx_json
    <span class="token comment">// 然后重组成tx</span>
    <span class="token keyword">let</span> tx2 <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildSignOtherTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      tx_json<span class="token punctuation">,</span>
      account<span class="token operator">:</span> a2<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
      secret<span class="token operator">:</span> a2<span class="token punctuation">.</span>secret
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx2<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    <span class="token keyword">let</span> tx3 <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildMultisignedTx</span><span class="token punctuation">(</span>tx2<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx3<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    tx3<span class="token punctuation">.</span><span class="token function">multiSigned</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>tx3<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> tx3<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// multisign submit does not need any secret</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token function">log_json</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><h5 id="输出-8" tabindex="-1">输出 <a class="header-anchor" href="#输出-8" aria-hidden="true">#</a></h5><div class="language-javascript"><pre><code>需要设置足够的燃料支持多签交易tx<span class="token punctuation">.</span><span class="token function">setFee</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6d756c74697369676e6564207061796d656e742074657374&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">17</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6d756c74697369676e6564207061796d656e742074657374&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3044022072214F5AD5C48F17701FD3A21689F196894138B2770D0298AC329D851D77B799022055EB9AAF016F55CE8F79BD0DA4063494F802BE3752EEA430678DFADCAF67EA96&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6d756c74697369676e6564207061796d656e742074657374&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3044022072214F5AD5C48F17701FD3A21689F196894138B2770D0298AC329D851D77B799022055EB9AAF016F55CE8F79BD0DA4063494F802BE3752EEA430678DFADCAF67EA96&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C26&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100CC2823272E799F3724165154816F5B960B3FC09AB79F87059D2D7CEE256C194002201007958B1DF0D506FEDD1A5CFB00DB26735AD2C18B8C8EEC4481B4DD73A86E89&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6d756c74697369676e6564207061796d656e742074657374&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3044022072214F5AD5C48F17701FD3A21689F196894138B2770D0298AC329D851D77B799022055EB9AAF016F55CE8F79BD0DA4063494F802BE3752EEA430678DFADCAF67EA96&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C26&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100CC2823272E799F3724165154816F5B960B3FC09AB79F87059D2D7CEE256C194002201007958B1DF0D506FEDD1A5CFB00DB26735AD2C18B8C8EEC4481B4DD73A86E89&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6d756c74697369676e6564207061796d656e742074657374&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3044022072214F5AD5C48F17701FD3A21689F196894138B2770D0298AC329D851D77B799022055EB9AAF016F55CE8F79BD0DA4063494F802BE3752EEA430678DFADCAF67EA96&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C26&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100CC2823272E799F3724165154816F5B960B3FC09AB79F87059D2D7CEE256C194002201007958B1DF0D506FEDD1A5CFB00DB26735AD2C18B8C8EEC4481B4DD73A86E89&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span> engine_result<span class="token operator">:</span> <span class="token string">&#39;tesSUCCESS&#39;</span><span class="token punctuation">,</span>
  engine_result_code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  engine_result_message<span class="token operator">:</span>
   <span class="token string">&#39;The transaction was applied. Only final in a validated ledger.&#39;</span><span class="token punctuation">,</span>
  tx_blob<span class="token operator">:</span>
   <span class="token string">&#39;120000220000000024000000116140000000000F4240684000000000004E20730081144EFA5550AA0B6A0C06793161C0D2EDC635469AC883141359AA928F4D98FDB3D93E8B690C80D37DED11C3F9EA7D186D756C74697369676E6564207061796D656E742074657374E1F1FCED7321028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF74463044022072214F5AD5C48F17701FD3A21689F196894138B2770D0298AC329D851D77B799022055EB9AAF016F55CE8F79BD0DA4063494F802BE3752EEA430678DFADCAF67EA96811423A7CE52916DFDE210D371CF8487CFDB790B1DCBE1ED7321022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C2674473045022100CC2823272E799F3724165154816F5B960B3FC09AB79F87059D2D7CEE256C194002201007958B1DF0D506FEDD1A5CFB00DB26735AD2C18B8C8EEC4481B4DD73A86E89811482D518A6A562B198E72BC1B8976F83D996E3CCD5E1F1&#39;</span><span class="token punctuation">,</span>
  tx_json<span class="token operator">:</span>
   <span class="token punctuation">{</span> Account<span class="token operator">:</span> <span class="token string">&#39;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&#39;</span><span class="token punctuation">,</span>
     Amount<span class="token operator">:</span> <span class="token string">&#39;1000000&#39;</span><span class="token punctuation">,</span>
     Destination<span class="token operator">:</span> <span class="token string">&#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;</span><span class="token punctuation">,</span>
     Fee<span class="token operator">:</span> <span class="token string">&#39;20000&#39;</span><span class="token punctuation">,</span>
     Flags<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     Memos<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
     Sequence<span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
     Signers<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
     SigningPubKey<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
     TransactionType<span class="token operator">:</span> <span class="token string">&#39;Payment&#39;</span><span class="token punctuation">,</span>
     hash<span class="token operator">:</span>
      <span class="token string">&#39;486AA83D5B487BC8111688A67DC62909B8E32ED49048191DF2828E232724CA2B&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;j3UbbRX36997CWXqYqLUn28qH55v9Dh37n&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Memos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Memo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;MemoData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6D756C74697369676E6564207061796D656E742074657374&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Sequence&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Signers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jhEXgnPdLijQ8Gaqz4FCxUFAQE31LqoNMq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;028749EB830410A57E89EC765DF551F7006CA19CFEBF4C43EFD87CDDA52976D2FF&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3044022072214F5AD5C48F17701FD3A21689F196894138B2770D0298AC329D851D77B799022055EB9AAF016F55CE8F79BD0DA4063494F802BE3752EEA430678DFADCAF67EA96&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;Signer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jUv833RRTAZhbUyRzSsAutM9GwbprregiE&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;022EB4FEDEAA5EC1584B673A0B2C4425D0A98A4909EB39C10EC1C40631B0FB9C26&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TxnSignature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3045022100CC2823272E799F3724165154816F5B960B3FC09AB79F87059D2D7CEE256C194002201007958B1DF0D506FEDD1A5CFB00DB26735AD2C18B8C8EEC4481B4DD73A86E89&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;SigningPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;TransactionType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Payment&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;486AA83D5B487BC8111688A67DC62909B8E32E&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></details><h5 id="返回结果说明-23" tabindex="-1">返回结果说明 <a class="header-anchor" href="#返回结果说明-23" aria-hidden="true">#</a></h5><table><thead><tr><th>参数</th><th>类型</th><th style="text-align:right;">说明</th></tr></thead><tbody><tr><td>engine_result</td><td>String</td><td style="text-align:right;">请求结果</td></tr><tr><td>engine_result_code</td><td>Array</td><td style="text-align:right;">请求结果编码</td></tr><tr><td>engine_result_message</td><td>String</td><td style="text-align:right;">请求结果 message 信息</td></tr><tr><td>tx_blob</td><td>String</td><td style="text-align:right;">16 进制签名后的交易</td></tr><tr><td>tx_json</td><td>Object</td><td style="text-align:right;">交易内容</td></tr><tr><td>   Account</td><td>String</td><td style="text-align:right;">交易源账号地址</td></tr><tr><td>   Fee</td><td>String</td><td style="text-align:right;">交易费</td></tr><tr><td>   Flags</td><td>Integer</td><td style="text-align:right;">交易标记</td></tr><tr><td>   Sequence</td><td>Integer</td><td style="text-align:right;">单子序列号</td></tr><tr><td>   --</td><td>--</td><td style="text-align:right;">相关交易对应的其他字段，如 Payment 类型有 Amount、Destination 字段，这里不一一列举</td></tr><tr><td>   Signers</td><td>Array</td><td style="text-align:right;">签名列表条目；销毁列表时，没有该字段</td></tr><tr><td>      Signer</td><td>Object</td><td style="text-align:right;">单个签名条目</td></tr><tr><td>         Account</td><td>String</td><td style="text-align:right;">给该交易签名的账号地址</td></tr><tr><td>         SigningPubKey</td><td>String</td><td style="text-align:right;">给该交易签名的账号公钥</td></tr><tr><td>         TxnSignature</td><td>String</td><td style="text-align:right;">Account 账号给该交易的交易签名</td></tr><tr><td>   SigningPubKey</td><td>String</td><td style="text-align:right;">交易签名公钥，必须为空字符串</td></tr><tr><td>   TransactionType</td><td>String</td><td style="text-align:right;">交易类型</td></tr><tr><td>   hash</td><td>String</td><td style="text-align:right;">交易 hash，该 hash 可在链上查到</td></tr></tbody></table><h2 id="_12-ed25519-支持" tabindex="-1">12. ED25519 支持 <a class="header-anchor" href="#_12-ed25519-支持" aria-hidden="true">#</a></h2><h3 id="_12-0-eddsa-ed25519" tabindex="-1">12.0 EDDSA - ed25519 <a class="header-anchor" href="#_12-0-eddsa-ed25519" aria-hidden="true">#</a></h3><h5 id="井通默认的签名算法是-ecdsa，-不过同时也支持-eddsa-（ed25519）签名" tabindex="-1">井通默认的签名算法是 ecdsa， 不过同时也支持 eddsa （ed25519）签名 <a class="header-anchor" href="#井通默认的签名算法是-ecdsa，-不过同时也支持-eddsa-（ed25519）签名" aria-hidden="true">#</a></h5><h5 id="ed25519-签名的对象是数据本身，-而其他的-包括-ecdsa-签名对象是数据的哈希" tabindex="-1">ed25519 签名的对象是数据本身， 而其他的(包括 ecdsa)签名对象是数据的哈希 <a class="header-anchor" href="#ed25519-签名的对象是数据本身，-而其他的-包括-ecdsa-签名对象是数据的哈希" aria-hidden="true">#</a></h5><h5 id="自-wallet-以上，包括-serializer-transaction-lib-公共方法对-ed25519-的支持是透明的" tabindex="-1">自 wallet 以上，包括 serializer, transaction, lib, 公共方法对 ed25519 的支持是透明的 <a class="header-anchor" href="#自-wallet-以上，包括-serializer-transaction-lib-公共方法对-ed25519-的支持是透明的" aria-hidden="true">#</a></h5><h5 id="ed25519-的处理发主要在-address-codec-和-keypair-上" tabindex="-1">ed25519 的处理发主要在 address-codec 和 keypair 上 <a class="header-anchor" href="#ed25519-的处理发主要在-address-codec-和-keypair-上" aria-hidden="true">#</a></h5><h3 id="_12-1-生成钱包-提供算法作为参数" tabindex="-1">12.1 生成钱包, 提供算法作为参数 <a class="header-anchor" href="#_12-1-生成钱包-提供算法作为参数" aria-hidden="true">#</a></h3><div class="language-javascript"><pre><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Wallet <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/wallet&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token string">&quot;1234567890abcdef&quot;</span> <span class="token comment">// hashed for ecdsa, raw for ed25519</span>

<span class="token keyword">let</span> secret_ecdsa <span class="token operator">=</span> Wallet<span class="token punctuation">.</span>KeyPair<span class="token punctuation">.</span><span class="token function">generateSeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// or Wallet.generate()</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span>secret_ecdsa<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> wallet_ecdsa <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Wallet</span><span class="token punctuation">(</span>secret_ecdsa<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>wallet_ecdsa<span class="token punctuation">)</span>
<span class="token keyword">let</span> signed_ecdsa <span class="token operator">=</span> wallet_ecdsa<span class="token punctuation">.</span><span class="token function">signTx</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">signed_ecdsa = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>signed_ecdsa<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> verified_ecdsa <span class="token operator">=</span> wallet_ecdsa<span class="token punctuation">.</span><span class="token function">verifyTx</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> signed_ecdsa<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">verified_ecdsa = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>verified_ecdsa<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>

<span class="token keyword">let</span> secret_ed25519 <span class="token operator">=</span> Wallet<span class="token punctuation">.</span>KeyPair<span class="token punctuation">.</span><span class="token function">generateSeed</span><span class="token punctuation">(</span><span class="token punctuation">{</span> algorithm<span class="token operator">:</span> <span class="token string">&quot;ed25519&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// or Wallet.generate({algorithm: &quot;ed25519&quot;})</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span>secret_ed25519<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> wallet_ed25519 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Wallet</span><span class="token punctuation">(</span>secret_ed25519<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>wallet_ed25519<span class="token punctuation">)</span>
<span class="token keyword">let</span> signed_ed25519 <span class="token operator">=</span> wallet_ed25519<span class="token punctuation">.</span><span class="token function">signTx</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">signed_ed25519 = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>signed_ed25519<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> verified_ed25519 <span class="token operator">=</span> wallet_ed25519<span class="token punctuation">.</span><span class="token function">verifyTx</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> signed_ed25519<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">verified_ed25519 = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>verified_ed25519<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</code></pre></div><p>输出</p><div class="language-"><pre><code>{ secret: &#39;spAtA9qTLBZQVKyzANKqmAfdtBgH8&#39;,
  address: &#39;jsxSnYFq4CGrftSEnQohmkDa1dVyNt68hJ&#39; }
Wallet {
  _keypairs:
   { privateKey:
      &#39;00E66A92F53535FBD3E2B95236DF274815BBB1327D76F161EAD73F2B952B87F97C&#39;,
     publicKey:
      &#39;02C28400D63F54C7B52792FAC7A5DDB473124C9A01141751C7996818A163F19A88&#39; },
  _secret: &#39;spAtA9qTLBZQVKyzANKqmAfdtBgH8&#39; }
signed_ecdsa = 30450221009528DC019A4FFA7515A4CA1DD5EF01963B198AA6DE4E2E8F99AFF0739D59DFF7022047385C45304A80E474685A6BC4737C0FB7D100FCAB51EB6863D99113CF755D79
verified_ecdsa = true
{ secret: &#39;sEd75SswqDV6LNNf23vEKZ51K3KZDQL&#39;,
  address: &#39;jEtV1YRYVyHEhtxzJjEquQsB3HDNpBzgyB&#39; }
Wallet {
  _keypairs:
   { privateKey:
      &#39;ED691B99D463A7D2CD49B6B5C58EDCF9DCA0DE4158D68EC83867D99B754806447A&#39;,
     publicKey:
      &#39;EDD0EB6ADBC6CE68D140B44EEC7D3A7C1DB3FD54DD0AE28C2330995CE9C6D66981&#39; },
  _secret: &#39;sEd75SswqDV6LNNf23vEKZ51K3KZDQL&#39; }
signed_ed25519 = 56404BEE3A1463C9C25C011BBE9C35FE1FF00F255E72B48CE462500CEDCAEF75D853F04F9C5275979C22C0F579D65E461D6E057BAE0ACC031CE3B7484B77980C
verified_ed25519 = true
</code></pre></div><h3 id="_12-2-签名透明支持，不需要任何特殊处理" tabindex="-1">12.2 签名透明支持，不需要任何特殊处理 <a class="header-anchor" href="#_12-2-签名透明支持，不需要任何特殊处理" aria-hidden="true">#</a></h3><div class="language-javascript"><pre><code>xinchuns<span class="token operator">-</span>mbp<span class="token operator">:</span>test xcliu$ cat test<span class="token punctuation">.</span>js
<span class="token keyword">const</span> <span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token parameter">timeout</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> timeout <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>Remote<span class="token punctuation">,</span> Wallet<span class="token punctuation">,</span> Transaction<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@swtc/lib&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> secret_ed <span class="token operator">=</span> <span class="token string">&quot;sEdTJSpen5J8ZA7H4cVGDF6oSSLLW2Y&quot;</span>
<span class="token keyword">const</span> secret_ec <span class="token operator">=</span> <span class="token string">&#39;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&#39;</span>
<span class="token keyword">const</span> wallet_ec <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span>secret_ec<span class="token punctuation">)</span>
<span class="token keyword">const</span> wallet_ed <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span>secret_ed<span class="token punctuation">)</span>
<span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span>server<span class="token operator">:</span> <span class="token string">&quot;ws://swtcproxy.swtclib.ca:5020&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildPaymentTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	account<span class="token operator">:</span> wallet_ed<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
	to<span class="token operator">:</span> wallet_ec<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
	amount<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> json
<span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">await</span> remote<span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
	<span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">signPromise</span><span class="token punctuation">(</span>secret_ed<span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">submitPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>输出</p><div class="language-"><pre><code>{
  Flags: 0,
  Fee: 10000,
  TransactionType: &#39;Payment&#39;,
  Account: &#39;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&#39;,
  Amount: &#39;100000&#39;,
  Destination: &#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;
}
{
  Flags: 0,
  Fee: 0.01,
  TransactionType: &#39;Payment&#39;,
  Account: &#39;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&#39;,
  Amount: 0.1,
  Destination: &#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;,
  Sequence: 15,
  SigningPubKey: &#39;ED68635043BC70DE82272BF5990642400CF79089B2ABCF8EF9D10FFFB96A658763&#39;,
  TxnSignature: &#39;92D4855BF6672E072785CBE7DEDCFC0A0BD30F46D74F07661301A844F95DEE7343F3493159DA10B6B46E67F4D050AE96E11F5ED9C4A00B9C758D4E7AF29FB30A&#39;,
  blob: &#39;1200002200000000240000000F6140000000000186A06840000000000027107321ED68635043BC70DE82272BF5990642400CF79089B2ABCF8EF9D10FFFB96A658763744092D4855BF6672E072785CBE7DEDCFC0A0BD30F46D74F07661301A844F95DEE7343F3493159DA10B6B46E67F4D050AE96E11F5ED9C4A00B9C758D4E7AF29FB30A81144B0DECFADE9D4170260CD5BA9EC1CF065CA8894683141359AA928F4D98FDB3D93E8B690C80D37DED11C3&#39;
}
{
  engine_result: &#39;tesSUCCESS&#39;,
  engine_result_code: 0,
  engine_result_message: &#39;The transaction was applied. Only final in a validated ledger.&#39;,
  tx_blob: &#39;1200002200000000240000000F6140000000000186A06840000000000027107321ED68635043BC70DE82272BF5990642400CF79089B2ABCF8EF9D10FFFB96A658763744092D4855BF6672E072785CBE7DEDCFC0A0BD30F46D74F07661301A844F95DEE7343F3493159DA10B6B46E67F4D050AE96E11F5ED9C4A00B9C758D4E7AF29FB30A81144B0DECFADE9D4170260CD5BA9EC1CF065CA8894683141359AA928F4D98FDB3D93E8B690C80D37DED11C3&#39;,
  tx_json: {
    Account: &#39;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&#39;,
    Amount: &#39;100000&#39;,
    Destination: &#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;,
    Fee: &#39;10000&#39;,
    Flags: 0,
    Sequence: 15,
    SigningPubKey: &#39;ED68635043BC70DE82272BF5990642400CF79089B2ABCF8EF9D10FFFB96A658763&#39;,
    TransactionType: &#39;Payment&#39;,
    TxnSignature: &#39;92D4855BF6672E072785CBE7DEDCFC0A0BD30F46D74F07661301A844F95DEE7343F3493159DA10B6B46E67F4D050AE96E11F5ED9C4A00B9C758D4E7AF29FB30A&#39;,
    hash: &#39;26C2D8CB2B90E089CD16681B5390E88B50FA56A58DA8E10A1CC52FC753F7D746&#39;
  }
}
</code></pre></div><h3 id="_12-2-多重签名透明支持，不需要任何特殊处理" tabindex="-1">12.2 多重签名透明支持，不需要任何特殊处理 <a class="header-anchor" href="#_12-2-多重签名透明支持，不需要任何特殊处理" aria-hidden="true">#</a></h3><div class="language-javascript"><pre><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Remote<span class="token punctuation">,</span> Wallet <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@swtc/lib&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> remote <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remote</span><span class="token punctuation">(</span><span class="token punctuation">{</span> server<span class="token operator">:</span> <span class="token string">&quot;ws://swtcproxy.swtclib.ca:5020&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token constant">SS</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  testAddress<span class="token operator">:</span> <span class="token string">&quot;jfdqBEDsbk3eMSXX2t7CGeu2RPkEjHs6ie&quot;</span><span class="token punctuation">,</span>
  testSecret<span class="token operator">:</span> <span class="token string">&quot;shVCQFSxkF7DLXkrHY8X2PBKCKxS9&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token string">&quot;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&quot;</span><span class="token punctuation">,</span>
  secret<span class="token operator">:</span> <span class="token string">&quot;ssiUDhUpUZ5JDPWZ9Twt27Ckq6k4C&quot;</span><span class="token punctuation">,</span>
  address_ed<span class="token operator">:</span> <span class="token string">&quot;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&quot;</span><span class="token punctuation">,</span>
  secret_ed<span class="token operator">:</span> <span class="token string">&quot;sEdTJSpen5J8ZA7H4cVGDF6oSSLLW2Y&quot;</span>
<span class="token punctuation">}</span>

wallet <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token constant">SS</span><span class="token punctuation">.</span>secret<span class="token punctuation">)</span>
wallet_test <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token constant">SS</span><span class="token punctuation">.</span>testSecret<span class="token punctuation">)</span>
walleted <span class="token operator">=</span> Wallet<span class="token punctuation">.</span><span class="token function">fromSecret</span><span class="token punctuation">(</span><span class="token constant">SS</span><span class="token punctuation">.</span>secret_ed<span class="token punctuation">)</span>

options <span class="token operator">=</span> <span class="token punctuation">{</span>
  account<span class="token operator">:</span> wallet<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
  threshold<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  lists<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> account<span class="token operator">:</span> wallet_test<span class="token punctuation">.</span>address<span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> account<span class="token operator">:</span> walleted<span class="token punctuation">.</span>address<span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">6</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tx
remote
  <span class="token punctuation">.</span><span class="token function">connectPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// set signerlist</span>
    <span class="token comment">// tx = remote.buildSignerListTx(options)</span>
    <span class="token comment">// await tx.signPromise(wallet.secret)</span>
    <span class="token comment">// console.log(tx.tx_json)</span>
    <span class="token comment">// console.log(await tx.submitPromise())</span>
    <span class="token comment">// payment</span>
    tx <span class="token operator">=</span> remote<span class="token punctuation">.</span><span class="token function">buildPaymentTx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      from<span class="token operator">:</span> wallet<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
      to<span class="token operator">:</span> walleted<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
      amount<span class="token operator">:</span> remote<span class="token punctuation">.</span><span class="token function">makeAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">_setSequencePromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    tx<span class="token punctuation">.</span><span class="token function">setFee</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    tx<span class="token punctuation">.</span><span class="token function">multiSigning</span><span class="token punctuation">(</span>walleted<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    tx<span class="token punctuation">.</span><span class="token function">multiSigning</span><span class="token punctuation">(</span>wallet_test<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    tx<span class="token punctuation">.</span><span class="token function">multiSigned</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>tx_json<span class="token punctuation">)</span>
    <span class="token comment">// console.log(await tx.submitPromise())</span>
    remote<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
</code></pre></div><p>输出</p><div class="language-"><pre><code>{
  Flags: 0,
  Fee: 20000,
  TransactionType: &#39;Payment&#39;,
  Account: &#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;,
  Amount: &#39;1000000&#39;,
  Destination: &#39;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&#39;,
  Sequence: 31
}
{
  Flags: 0,
  Fee: 20000,
  TransactionType: &#39;Payment&#39;,
  Account: &#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;,
  Amount: &#39;1000000&#39;,
  Destination: &#39;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&#39;,
  Sequence: 31,
  SigningPubKey: &#39;&#39;,
  Signers: [ { Signer: [Object] } ]
}
{
  Flags: 0,
  Fee: 20000,
  TransactionType: &#39;Payment&#39;,
  Account: &#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;,
  Amount: &#39;1000000&#39;,
  Destination: &#39;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&#39;,
  Sequence: 31,
  SigningPubKey: &#39;&#39;,
  Signers: [ { Signer: [Object] }, { Signer: [Object] } ]
}
{
  Flags: 0,
  Fee: 20000,
  TransactionType: &#39;Payment&#39;,
  Account: &#39;jpmKEm2sUevfpFjS7QHdT8Sx7ZGoEXTJAz&#39;,
  Amount: &#39;1000000&#39;,
  Destination: &#39;jfqiMxoT228vp3dMrXKnJXo6V9iYEx94pt&#39;,
  Sequence: 31,
  SigningPubKey: &#39;&#39;,
  Signers: [ { Signer: [Object] }, { Signer: [Object] } ]
}
</code></pre></div></div></div><footer class="page-footer" data-v-da0c174a data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/swtcca/swtclib/edit/master/docs/docs/swtclib/README.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"readme.md\":\"b6157faf\",\"index.md\":\"39559162\",\"docs_api_readme.md\":\"763fb192\",\"docs_api_index.md\":\"36ffb4f5\",\"docs_swtc_readme.md\":\"1d7cc3f1\",\"docs_swtc_index.md\":\"b2512335\",\"docs_examples_readme.md\":\"2be3eed6\",\"docs_examples_index.md\":\"8a5546c5\",\"docs_swtcapi_readme.md\":\"81de8f5b\",\"docs_swtcapi_index.md\":\"c88cb877\",\"docs_swtclib_readme.md\":\"8803b0d2\",\"docs_swtclib_index.md\":\"e89d5f4e\",\"docs_swtcproxy_readme.md\":\"fbbedf34\",\"docs_swtcproxy_index.md\":\"3583d0ed\",\"docs_swtcrpc_readme.md\":\"0c66676c\",\"docs_swtcrpc_index.md\":\"83adab43\",\"docs_swtctx_readme.md\":\"078c3fb9\",\"docs_swtctx_index.md\":\"2f7fe2de\",\"docs_swtcxlib_readme.md\":\"9810e2c9\",\"docs_swtcxlib_index.md\":\"004e07e9\",\"docs_swtcwallet_readme.md\":\"5a68d421\",\"docs_swtcwallet_index.md\":\"862dde33\",\"docs_wallet_readme.md\":\"46f8fdd4\",\"docs_wallet_index.md\":\"214f0306\",\"docs_wallet_mobile.md\":\"3c6d2c7f\",\"docs_examples_a00_readme.md\":\"2cdefaeb\",\"docs_examples_a00_index.md\":\"978f7702\",\"docs_examples_a01_readme.md\":\"652c1418\",\"docs_examples_a01_index.md\":\"0751a4f4\",\"docs_examples_a02_readme.md\":\"fd39a260\",\"docs_examples_a02_index.md\":\"c8f15c1b\",\"docs_examples_a03_readme.md\":\"7408f7e8\",\"docs_examples_a03_index.md\":\"2972181b\",\"docs_examples_a04_readme.md\":\"cc754221\",\"docs_examples_a04_index.md\":\"dae74fd4\",\"docs_examples_a05_readme.md\":\"8d0a6005\",\"docs_examples_a05_index.md\":\"b2465a64\",\"docs_examples_c00_readme.md\":\"0cc87dbb\",\"docs_examples_c00_index.md\":\"1d52bdce\",\"docs_examples_c01_readme.md\":\"72abfd0e\",\"docs_examples_c01_index.md\":\"5099bd0a\",\"docs_examples_d00_readme.md\":\"a5eecbe6\",\"docs_examples_d00_index.md\":\"484c3a54\",\"docs_examples_d01_readme.md\":\"b41b9538\",\"docs_examples_d01_index.md\":\"fb7a2d52\",\"docs_examples_m00_readme.md\":\"0a7d8991\",\"docs_examples_m00_index.md\":\"c37b439c\",\"docs_examples_m02_readme.md\":\"a3c6675a\",\"docs_examples_m02_index.md\":\"8ca4cb6a\",\"docs_examples_w00_readme.md\":\"a23c4430\",\"docs_examples_w00_index.md\":\"28e5f2dd\",\"docs_examples_w01_readme.md\":\"47064102\",\"docs_examples_w01_index.md\":\"7b0f203e\",\"docs_examples_w02_readme.md\":\"a2958f6b\",\"docs_examples_w02_index.md\":\"8c8cbec6\",\"docs_examples_w04_readme.md\":\"d3f62dd2\",\"docs_examples_w04_index.md\":\"e1dc0591\",\"docs_examples_w03_readme.md\":\"3b245a1f\",\"docs_examples_w03_index.md\":\"8b65997b\",\"docs_examples_w05_readme.md\":\"2aa3b12f\",\"docs_examples_w05_index.md\":\"82e7aa99\",\"docs_examples_w06_readme.md\":\"3fb807fa\",\"docs_examples_w06_index.md\":\"37600e4e\"}")</script>
    <script type="module" async src="/swtclib/assets/app.2c18be1c.js"></script>
  </body>
</html>